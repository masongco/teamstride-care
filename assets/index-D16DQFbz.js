var NA=e=>{throw TypeError(e)};var pj=(e,t,r)=>t.has(e)||NA("Cannot "+r);var q=(e,t,r)=>(pj(e,t,"read from private field"),r?r.call(e):t.get(e)),Ke=(e,t,r)=>t.has(e)?NA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(pj(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pt=(e,t,r)=>(pj(e,t,"access private method"),r);var _v=(e,t,r,n)=>({set _(a){Pe(e,t,a,r)},get _(){return q(e,t,n)}});function s9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D$={exports:{}},e0={},R$={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=Symbol.for("react.element"),a9=Symbol.for("react.portal"),i9=Symbol.for("react.fragment"),o9=Symbol.for("react.strict_mode"),l9=Symbol.for("react.profiler"),c9=Symbol.for("react.provider"),u9=Symbol.for("react.context"),d9=Symbol.for("react.forward_ref"),f9=Symbol.for("react.suspense"),h9=Symbol.for("react.memo"),m9=Symbol.for("react.lazy"),SA=Symbol.iterator;function p9(e){return e===null||typeof e!="object"?null:(e=SA&&e[SA]||e["@@iterator"],typeof e=="function"?e:null)}var M$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$$=Object.assign,I$={};function ih(e,t,r){this.props=e,this.context=t,this.refs=I$,this.updater=r||M$}ih.prototype.isReactComponent={};ih.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ih.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L$(){}L$.prototype=ih.prototype;function PC(e,t,r){this.props=e,this.context=t,this.refs=I$,this.updater=r||M$}var AC=PC.prototype=new L$;AC.constructor=PC;$$(AC,ih.prototype);AC.isPureReactComponent=!0;var CA=Array.isArray,F$=Object.prototype.hasOwnProperty,OC={current:null},U$={key:!0,ref:!0,__self:!0,__source:!0};function B$(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)F$.call(t,n)&&!U$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Mg,type:e,key:i,ref:o,props:a,_owner:OC.current}}function g9(e,t){return{$$typeof:Mg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function TC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mg}function v9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kA=/\/+/g;function gj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v9(""+e.key):t.toString(36)}function wy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mg:case a9:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+gj(o,0):n,CA(a)?(r="",e!=null&&(r=e.replace(kA,"$&/")+"/"),wy(a,t,r,"",function(u){return u})):a!=null&&(TC(a)&&(a=g9(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(kA,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",CA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+gj(i,l);o+=wy(i,t,r,c,a)}else if(c=p9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+gj(i,l++),o+=wy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sv(e,t,r){if(e==null)return e;var n=[],a=0;return wy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function y9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var is={current:null},jy={transition:null},x9={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:jy,ReactCurrentOwner:OC};function z$(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:Sv,forEach:function(e,t,r){Sv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sv(e,function(){t++}),t},toArray:function(e){return Sv(e,function(t){return t})||[]},only:function(e){if(!TC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ct.Component=ih;Ct.Fragment=i9;Ct.Profiler=l9;Ct.PureComponent=PC;Ct.StrictMode=o9;Ct.Suspense=f9;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x9;Ct.act=z$;Ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$$({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=OC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F$.call(t,c)&&!U$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Mg,type:e.type,key:a,ref:i,props:n,_owner:o}};Ct.createContext=function(e){return e={$$typeof:u9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c9,_context:e},e.Consumer=e};Ct.createElement=B$;Ct.createFactory=function(e){var t=B$.bind(null,e);return t.type=e,t};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(e){return{$$typeof:d9,render:e}};Ct.isValidElement=TC;Ct.lazy=function(e){return{$$typeof:m9,_payload:{_status:-1,_result:e},_init:y9}};Ct.memo=function(e,t){return{$$typeof:h9,type:e,compare:t===void 0?null:t}};Ct.startTransition=function(e){var t=jy.transition;jy.transition={};try{e()}finally{jy.transition=t}};Ct.unstable_act=z$;Ct.useCallback=function(e,t){return is.current.useCallback(e,t)};Ct.useContext=function(e){return is.current.useContext(e)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(e){return is.current.useDeferredValue(e)};Ct.useEffect=function(e,t){return is.current.useEffect(e,t)};Ct.useId=function(){return is.current.useId()};Ct.useImperativeHandle=function(e,t,r){return is.current.useImperativeHandle(e,t,r)};Ct.useInsertionEffect=function(e,t){return is.current.useInsertionEffect(e,t)};Ct.useLayoutEffect=function(e,t){return is.current.useLayoutEffect(e,t)};Ct.useMemo=function(e,t){return is.current.useMemo(e,t)};Ct.useReducer=function(e,t,r){return is.current.useReducer(e,t,r)};Ct.useRef=function(e){return is.current.useRef(e)};Ct.useState=function(e){return is.current.useState(e)};Ct.useSyncExternalStore=function(e,t,r){return is.current.useSyncExternalStore(e,t,r)};Ct.useTransition=function(){return is.current.useTransition()};Ct.version="18.3.1";R$.exports=Ct;var y=R$.exports;const O=Xt(y),DC=s9({__proto__:null,default:O},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b9=y,w9=Symbol.for("react.element"),j9=Symbol.for("react.fragment"),_9=Object.prototype.hasOwnProperty,N9=b9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S9={key:!0,ref:!0,__self:!0,__source:!0};function V$(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)_9.call(t,n)&&!S9.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:w9,type:e,key:i,ref:o,props:a,_owner:N9.current}}e0.Fragment=j9;e0.jsx=V$;e0.jsxs=V$;D$.exports=e0;var s=D$.exports,q$={exports:{}},ta={},W$={exports:{}},H$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,T){var U=D.length;D.push(T);e:for(;0<U;){var Q=U-1>>>1,K=D[Q];if(0<a(K,T))D[Q]=T,D[U]=K,U=Q;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var T=D[0],U=D.pop();if(U!==T){D[0]=U;e:for(var Q=0,K=D.length,oe=K>>>1;Q<oe;){var W=2*(Q+1)-1,fe=D[W],Se=W+1,ue=D[Se];if(0>a(fe,U))Se<K&&0>a(ue,fe)?(D[Q]=ue,D[Se]=U,Q=Se):(D[Q]=fe,D[W]=U,Q=W);else if(Se<K&&0>a(ue,U))D[Q]=ue,D[Se]=U,Q=Se;else break e}}return T}function a(D,T){var U=D.sortIndex-T.sortIndex;return U!==0?U:D.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=D)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(D){if(p=!1,w(D),!g)if(r(c)!==null)g=!0,F(j);else{var T=r(u);T!==null&&L(_,T.startTime-D)}}function j(D,T){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var U=h;try{for(w(T),f=r(c);f!==null&&(!(f.expirationTime>T)||D&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var K=Q(f.expirationTime<=T);T=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),w(T)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var W=r(u);W!==null&&L(_,W.startTime-T),oe=!1}return oe}finally{f=null,h=U,m=!1}}var N=!1,S=null,k=-1,C=5,P=-1;function A(){return!(e.unstable_now()-P<C)}function E(){if(S!==null){var D=e.unstable_now();P=D;var T=!0;try{T=S(!0,D)}finally{T?R():(N=!1,S=null)}}else N=!1}var R;if(typeof x=="function")R=function(){x(E)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=E,R=function(){B.postMessage(null)}}else R=function(){v(E,0)};function F(D){S=D,N||(N=!0,R())}function L(D,T){k=v(function(){D(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var U=h;h=T;try{return D()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,T){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return T()}finally{h=U}},e.unstable_scheduleCallback=function(D,T,U){var Q=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,D={id:d++,callback:T,priorityLevel:D,startTime:U,expirationTime:K,sortIndex:-1},U>Q?(D.sortIndex=U,t(u,D),r(c)===null&&D===r(u)&&(p?(b(k),k=-1):p=!0,L(_,U-Q))):(D.sortIndex=K,t(c,D),g||m||(g=!0,F(j))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var T=h;return function(){var U=h;h=T;try{return D.apply(this,arguments)}finally{h=U}}}})(H$);W$.exports=H$;var C9=W$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9=y,Qs=C9;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K$=new Set,dp={};function Du(e,t){ff(e,t),ff(e+"Capture",t)}function ff(e,t){for(dp[e]=t,e=0;e<t.length;e++)K$.add(t[e])}var vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J_=Object.prototype.hasOwnProperty,E9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EA={},PA={};function P9(e){return J_.call(PA,e)?!0:J_.call(EA,e)?!1:E9.test(e)?PA[e]=!0:(EA[e]=!0,!1)}function A9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O9(e,t,r,n){if(t===null||typeof t>"u"||A9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function os(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var RC=/[\-:]([a-z])/g;function MC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(RC,MC);Dn[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(RC,MC);Dn[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(RC,MC);Dn[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});function $C(e,t,r,n){var a=Dn.hasOwnProperty(t)?Dn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O9(t,r,a,n)&&(r=null),n||a===null?P9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ao=k9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cv=Symbol.for("react.element"),vd=Symbol.for("react.portal"),yd=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),eN=Symbol.for("react.profiler"),G$=Symbol.for("react.provider"),Y$=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),tN=Symbol.for("react.suspense"),rN=Symbol.for("react.suspense_list"),FC=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),X$=Symbol.for("react.offscreen"),AA=Symbol.iterator;function Yh(e){return e===null||typeof e!="object"?null:(e=AA&&e[AA]||e["@@iterator"],typeof e=="function"?e:null)}var Dr=Object.assign,vj;function Em(e){if(vj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vj=t&&t[1]||""}return`
`+vj+e}var yj=!1;function xj(e,t){if(!e||yj)return"";yj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Em(e):""}function T9(e){switch(e.tag){case 5:return Em(e.type);case 16:return Em("Lazy");case 13:return Em("Suspense");case 19:return Em("SuspenseList");case 0:case 2:case 15:return e=xj(e.type,!1),e;case 11:return e=xj(e.type.render,!1),e;case 1:return e=xj(e.type,!0),e;default:return""}}function nN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yd:return"Fragment";case vd:return"Portal";case eN:return"Profiler";case IC:return"StrictMode";case tN:return"Suspense";case rN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y$:return(e.displayName||"Context")+".Consumer";case G$:return(e._context.displayName||"Context")+".Provider";case LC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case FC:return t=e.displayName||null,t!==null?t:nN(e.type)||"Memo";case Yo:t=e._payload,e=e._init;try{return nN(e(t))}catch{}}return null}function D9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nN(t);case 8:return t===IC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R9(e){var t=Q$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kv(e){e._valueTracker||(e._valueTracker=R9(e))}function Z$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ky(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sN(e,t){var r=t.checked;return Dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function OA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J$(e,t){t=t.checked,t!=null&&$C(e,"checked",t,!1)}function aN(e,t){J$(e,t);var r=Vl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iN(e,t.type,r):t.hasOwnProperty("defaultValue")&&iN(e,t.type,Vl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function iN(e,t,r){(t!=="number"||Ky(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pm=Array.isArray;function $d(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function oN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function DA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(Pm(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vl(r)}}function eI(e,t){var r=Vl(t.value),n=Vl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function RA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ev,rI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ev=Ev||document.createElement("div"),Ev.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ev.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Um={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M9=["Webkit","ms","Moz","O"];Object.keys(Um).forEach(function(e){M9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Um[t]=Um[e]})});function nI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Um.hasOwnProperty(e)&&Um[e]?(""+t).trim():t+"px"}function sI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=nI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var $9=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cN(e,t){if(t){if($9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function uN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dN=null;function UC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fN=null,Id=null,Ld=null;function MA(e){if(e=Lg(e)){if(typeof fN!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=a0(t),fN(e.stateNode,e.type,t))}}function aI(e){Id?Ld?Ld.push(e):Ld=[e]:Id=e}function iI(){if(Id){var e=Id,t=Ld;if(Ld=Id=null,MA(e),t)for(e=0;e<t.length;e++)MA(t[e])}}function oI(e,t){return e(t)}function lI(){}var bj=!1;function cI(e,t,r){if(bj)return e(t,r);bj=!0;try{return oI(e,t,r)}finally{bj=!1,(Id!==null||Ld!==null)&&(lI(),iI())}}function hp(e,t){var r=e.stateNode;if(r===null)return null;var n=a0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var hN=!1;if(vo)try{var Xh={};Object.defineProperty(Xh,"passive",{get:function(){hN=!0}}),window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{hN=!1}function I9(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bm=!1,Gy=null,Yy=!1,mN=null,L9={onError:function(e){Bm=!0,Gy=e}};function F9(e,t,r,n,a,i,o,l,c){Bm=!1,Gy=null,I9.apply(L9,arguments)}function U9(e,t,r,n,a,i,o,l,c){if(F9.apply(this,arguments),Bm){if(Bm){var u=Gy;Bm=!1,Gy=null}else throw Error(ye(198));Yy||(Yy=!0,mN=u)}}function Ru(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $A(e){if(Ru(e)!==e)throw Error(ye(188))}function B9(e){var t=e.alternate;if(!t){if(t=Ru(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return $A(a),e;if(i===n)return $A(a),t;i=i.sibling}throw Error(ye(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function dI(e){return e=B9(e),e!==null?fI(e):null}function fI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fI(e);if(t!==null)return t;e=e.sibling}return null}var hI=Qs.unstable_scheduleCallback,IA=Qs.unstable_cancelCallback,z9=Qs.unstable_shouldYield,V9=Qs.unstable_requestPaint,Wr=Qs.unstable_now,q9=Qs.unstable_getCurrentPriorityLevel,BC=Qs.unstable_ImmediatePriority,mI=Qs.unstable_UserBlockingPriority,Xy=Qs.unstable_NormalPriority,W9=Qs.unstable_LowPriority,pI=Qs.unstable_IdlePriority,t0=null,Ni=null;function H9(e){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(t0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ha=Math.clz32?Math.clz32:Y9,K9=Math.log,G9=Math.LN2;function Y9(e){return e>>>=0,e===0?32:31-(K9(e)/G9|0)|0}var Pv=64,Av=4194304;function Am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Am(l):(i&=o,i!==0&&(n=Am(i)))}else o=r&~a,o!==0?n=Am(o):i!==0&&(n=Am(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ha(t),a=1<<r,n|=e[r],t&=~a;return n}function X9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ha(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=X9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function pN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gI(){var e=Pv;return Pv<<=1,!(Pv&4194240)&&(Pv=64),e}function wj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $g(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ha(t),e[t]=r}function Z9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ha(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function zC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ha(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tr=0;function vI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yI,VC,xI,bI,wI,gN=!1,Ov=[],Cl=null,kl=null,El=null,mp=new Map,pp=new Map,el=[],J9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LA(e,t){switch(e){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pp.delete(t.pointerId)}}function Qh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Lg(t),t!==null&&VC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function e7(e,t,r,n,a){switch(t){case"focusin":return Cl=Qh(Cl,e,t,r,n,a),!0;case"dragenter":return kl=Qh(kl,e,t,r,n,a),!0;case"mouseover":return El=Qh(El,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mp.set(i,Qh(mp.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,pp.set(i,Qh(pp.get(i)||null,e,t,r,n,a)),!0}return!1}function jI(e){var t=Oc(e.target);if(t!==null){var r=Ru(t);if(r!==null){if(t=r.tag,t===13){if(t=uI(r),t!==null){e.blockedOn=t,wI(e.priority,function(){xI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _y(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dN=n,r.target.dispatchEvent(n),dN=null}else return t=Lg(r),t!==null&&VC(t),e.blockedOn=r,!1;t.shift()}return!0}function FA(e,t,r){_y(e)&&r.delete(t)}function t7(){gN=!1,Cl!==null&&_y(Cl)&&(Cl=null),kl!==null&&_y(kl)&&(kl=null),El!==null&&_y(El)&&(El=null),mp.forEach(FA),pp.forEach(FA)}function Zh(e,t){e.blockedOn===t&&(e.blockedOn=null,gN||(gN=!0,Qs.unstable_scheduleCallback(Qs.unstable_NormalPriority,t7)))}function gp(e){function t(a){return Zh(a,e)}if(0<Ov.length){Zh(Ov[0],e);for(var r=1;r<Ov.length;r++){var n=Ov[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cl!==null&&Zh(Cl,e),kl!==null&&Zh(kl,e),El!==null&&Zh(El,e),mp.forEach(t),pp.forEach(t),r=0;r<el.length;r++)n=el[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<el.length&&(r=el[0],r.blockedOn===null);)jI(r),r.blockedOn===null&&el.shift()}var Fd=Ao.ReactCurrentBatchConfig,Zy=!0;function r7(e,t,r,n){var a=tr,i=Fd.transition;Fd.transition=null;try{tr=1,qC(e,t,r,n)}finally{tr=a,Fd.transition=i}}function n7(e,t,r,n){var a=tr,i=Fd.transition;Fd.transition=null;try{tr=4,qC(e,t,r,n)}finally{tr=a,Fd.transition=i}}function qC(e,t,r,n){if(Zy){var a=vN(e,t,r,n);if(a===null)Oj(e,t,n,Jy,r),LA(e,n);else if(e7(a,e,t,r,n))n.stopPropagation();else if(LA(e,n),t&4&&-1<J9.indexOf(e)){for(;a!==null;){var i=Lg(a);if(i!==null&&yI(i),i=vN(e,t,r,n),i===null&&Oj(e,t,n,Jy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Oj(e,t,n,null,r)}}var Jy=null;function vN(e,t,r,n){if(Jy=null,e=UC(n),e=Oc(e),e!==null)if(t=Ru(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jy=e,null}function _I(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q9()){case BC:return 1;case mI:return 4;case Xy:case W9:return 16;case pI:return 536870912;default:return 16}default:return 16}}var jl=null,WC=null,Ny=null;function NI(){if(Ny)return Ny;var e,t=WC,r=t.length,n,a="value"in jl?jl.value:jl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ny=a.slice(e,1<n?1-n:void 0)}function Sy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tv(){return!0}function UA(){return!1}function ra(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tv:UA,this.isPropagationStopped=UA,this}return Dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tv)},persist:function(){},isPersistent:Tv}),t}var oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HC=ra(oh),Ig=Dr({},oh,{view:0,detail:0}),s7=ra(Ig),jj,_j,Jh,r0=Dr({},Ig,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jh&&(Jh&&e.type==="mousemove"?(jj=e.screenX-Jh.screenX,_j=e.screenY-Jh.screenY):_j=jj=0,Jh=e),jj)},movementY:function(e){return"movementY"in e?e.movementY:_j}}),BA=ra(r0),a7=Dr({},r0,{dataTransfer:0}),i7=ra(a7),o7=Dr({},Ig,{relatedTarget:0}),Nj=ra(o7),l7=Dr({},oh,{animationName:0,elapsedTime:0,pseudoElement:0}),c7=ra(l7),u7=Dr({},oh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d7=ra(u7),f7=Dr({},oh,{data:0}),zA=ra(f7),h7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p7[e])?!!t[e]:!1}function KC(){return g7}var v7=Dr({},Ig,{key:function(e){if(e.key){var t=h7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KC,charCode:function(e){return e.type==="keypress"?Sy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y7=ra(v7),x7=Dr({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VA=ra(x7),b7=Dr({},Ig,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KC}),w7=ra(b7),j7=Dr({},oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),_7=ra(j7),N7=Dr({},r0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S7=ra(N7),C7=[9,13,27,32],GC=vo&&"CompositionEvent"in window,zm=null;vo&&"documentMode"in document&&(zm=document.documentMode);var k7=vo&&"TextEvent"in window&&!zm,SI=vo&&(!GC||zm&&8<zm&&11>=zm),qA=" ",WA=!1;function CI(e,t){switch(e){case"keyup":return C7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xd=!1;function E7(e,t){switch(e){case"compositionend":return kI(t);case"keypress":return t.which!==32?null:(WA=!0,qA);case"textInput":return e=t.data,e===qA&&WA?null:e;default:return null}}function P7(e,t){if(xd)return e==="compositionend"||!GC&&CI(e,t)?(e=NI(),Ny=WC=jl=null,xd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SI&&t.locale!=="ko"?null:t.data;default:return null}}var A7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A7[e.type]:t==="textarea"}function EI(e,t,r,n){aI(n),t=ex(t,"onChange"),0<t.length&&(r=new HC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vm=null,vp=null;function O7(e){FI(e,0)}function n0(e){var t=jd(e);if(Z$(t))return e}function T7(e,t){if(e==="change")return t}var PI=!1;if(vo){var Sj;if(vo){var Cj="oninput"in document;if(!Cj){var KA=document.createElement("div");KA.setAttribute("oninput","return;"),Cj=typeof KA.oninput=="function"}Sj=Cj}else Sj=!1;PI=Sj&&(!document.documentMode||9<document.documentMode)}function GA(){Vm&&(Vm.detachEvent("onpropertychange",AI),vp=Vm=null)}function AI(e){if(e.propertyName==="value"&&n0(vp)){var t=[];EI(t,vp,e,UC(e)),cI(O7,t)}}function D7(e,t,r){e==="focusin"?(GA(),Vm=t,vp=r,Vm.attachEvent("onpropertychange",AI)):e==="focusout"&&GA()}function R7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n0(vp)}function M7(e,t){if(e==="click")return n0(t)}function $7(e,t){if(e==="input"||e==="change")return n0(t)}function I7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xa=typeof Object.is=="function"?Object.is:I7;function yp(e,t){if(Xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!J_.call(t,a)||!Xa(e[a],t[a]))return!1}return!0}function YA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XA(e,t){var r=YA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YA(r)}}function OI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TI(){for(var e=window,t=Ky();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ky(e.document)}return t}function YC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L7(e){var t=TI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&OI(r.ownerDocument.documentElement,r)){if(n!==null&&YC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=XA(r,i);var o=XA(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F7=vo&&"documentMode"in document&&11>=document.documentMode,bd=null,yN=null,qm=null,xN=!1;function QA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xN||bd==null||bd!==Ky(n)||(n=bd,"selectionStart"in n&&YC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qm&&yp(qm,n)||(qm=n,n=ex(yN,"onSelect"),0<n.length&&(t=new HC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bd)))}function Dv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wd={animationend:Dv("Animation","AnimationEnd"),animationiteration:Dv("Animation","AnimationIteration"),animationstart:Dv("Animation","AnimationStart"),transitionend:Dv("Transition","TransitionEnd")},kj={},DI={};vo&&(DI=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function s0(e){if(kj[e])return kj[e];if(!wd[e])return e;var t=wd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DI)return kj[e]=t[r];return e}var RI=s0("animationend"),MI=s0("animationiteration"),$I=s0("animationstart"),II=s0("transitionend"),LI=new Map,ZA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zl(e,t){LI.set(e,t),Du(t,[e])}for(var Ej=0;Ej<ZA.length;Ej++){var Pj=ZA[Ej],U7=Pj.toLowerCase(),B7=Pj[0].toUpperCase()+Pj.slice(1);Zl(U7,"on"+B7)}Zl(RI,"onAnimationEnd");Zl(MI,"onAnimationIteration");Zl($I,"onAnimationStart");Zl("dblclick","onDoubleClick");Zl("focusin","onFocus");Zl("focusout","onBlur");Zl(II,"onTransitionEnd");ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);Du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Du("onBeforeInput",["compositionend","keypress","textInput","paste"]);Du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Om="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Om));function JA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U9(n,t,void 0,e),e.currentTarget=null}function FI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;JA(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;JA(a,l,u),i=c}}}if(Yy)throw e=mN,Yy=!1,mN=null,e}function br(e,t){var r=t[NN];r===void 0&&(r=t[NN]=new Set);var n=e+"__bubble";r.has(n)||(UI(t,e,2,!1),r.add(n))}function Aj(e,t,r){var n=0;t&&(n|=4),UI(r,e,n,t)}var Rv="_reactListening"+Math.random().toString(36).slice(2);function xp(e){if(!e[Rv]){e[Rv]=!0,K$.forEach(function(r){r!=="selectionchange"&&(z7.has(r)||Aj(r,!1,e),Aj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rv]||(t[Rv]=!0,Aj("selectionchange",!1,t))}}function UI(e,t,r,n){switch(_I(t)){case 1:var a=r7;break;case 4:a=n7;break;default:a=qC}r=a.bind(null,t,r,e),a=void 0,!hN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Oj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Oc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cI(function(){var u=i,d=UC(r),f=[];e:{var h=LI.get(e);if(h!==void 0){var m=HC,g=e;switch(e){case"keypress":if(Sy(r)===0)break e;case"keydown":case"keyup":m=y7;break;case"focusin":g="focus",m=Nj;break;case"focusout":g="blur",m=Nj;break;case"beforeblur":case"afterblur":m=Nj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=BA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=i7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w7;break;case RI:case MI:case $I:m=c7;break;case II:m=_7;break;case"scroll":m=s7;break;case"wheel":m=S7;break;case"copy":case"cut":case"paste":m=d7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=VA}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=hp(x,b),_!=null&&p.push(bp(x,_,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==dN&&(g=r.relatedTarget||r.fromElement)&&(Oc(g)||g[yo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Oc(g):null,g!==null&&(v=Ru(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=BA,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=VA,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:jd(m),w=g==null?h:jd(g),h=new p(_,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,Oc(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Qu(w))x++;for(w=0,_=b;_;_=Qu(_))w++;for(;0<x-w;)p=Qu(p),x--;for(;0<w-x;)b=Qu(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Qu(p),b=Qu(b)}p=null}else p=null;m!==null&&e2(f,h,m,p,!1),g!==null&&v!==null&&e2(f,v,g,p,!0)}}e:{if(h=u?jd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=T7;else if(HA(h))if(PI)j=$7;else{j=R7;var N=D7}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=M7);if(j&&(j=j(e,u))){EI(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&iN(h,"number",h.value)}switch(N=u?jd(u):window,e){case"focusin":(HA(N)||N.contentEditable==="true")&&(bd=N,yN=u,qm=null);break;case"focusout":qm=yN=bd=null;break;case"mousedown":xN=!0;break;case"contextmenu":case"mouseup":case"dragend":xN=!1,QA(f,r,d);break;case"selectionchange":if(F7)break;case"keydown":case"keyup":QA(f,r,d)}var S;if(GC)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xd?CI(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(SI&&r.locale!=="ko"&&(xd||k!=="onCompositionStart"?k==="onCompositionEnd"&&xd&&(S=NI()):(jl=d,WC="value"in jl?jl.value:jl.textContent,xd=!0)),N=ex(u,k),0<N.length&&(k=new zA(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=kI(r),S!==null&&(k.data=S)))),(S=k7?E7(e,r):P7(e,r))&&(u=ex(u,"onBeforeInput"),0<u.length&&(d=new zA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}FI(f,t)})}function bp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ex(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=hp(e,r),i!=null&&n.unshift(bp(e,i,a)),i=hp(e,t),i!=null&&n.push(bp(e,i,a))),e=e.return}return n}function Qu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e2(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=hp(r,i),c!=null&&o.unshift(bp(r,c,l))):a||(c=hp(r,i),c!=null&&o.push(bp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V7=/\r\n?/g,q7=/\u0000|\uFFFD/g;function t2(e){return(typeof e=="string"?e:""+e).replace(V7,`
`).replace(q7,"")}function Mv(e,t,r){if(t=t2(t),t2(e)!==t&&r)throw Error(ye(425))}function tx(){}var bN=null,wN=null;function jN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _N=typeof setTimeout=="function"?setTimeout:void 0,W7=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,H7=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(e){return r2.resolve(null).then(e).catch(K7)}:_N;function K7(e){setTimeout(function(){throw e})}function Tj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),gp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);gp(t)}function Pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var lh=Math.random().toString(36).slice(2),xi="__reactFiber$"+lh,wp="__reactProps$"+lh,yo="__reactContainer$"+lh,NN="__reactEvents$"+lh,G7="__reactListeners$"+lh,Y7="__reactHandles$"+lh;function Oc(e){var t=e[xi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yo]||r[xi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=n2(e);e!==null;){if(r=e[xi])return r;e=n2(e)}return t}e=r,r=e.parentNode}return null}function Lg(e){return e=e[xi]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function a0(e){return e[wp]||null}var SN=[],_d=-1;function Jl(e){return{current:e}}function _r(e){0>_d||(e.current=SN[_d],SN[_d]=null,_d--)}function hr(e,t){_d++,SN[_d]=e.current,e.current=t}var ql={},zn=Jl(ql),ws=Jl(!1),au=ql;function hf(e,t){var r=e.type.contextTypes;if(!r)return ql;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function js(e){return e=e.childContextTypes,e!=null}function rx(){_r(ws),_r(zn)}function s2(e,t,r){if(zn.current!==ql)throw Error(ye(168));hr(zn,t),hr(ws,r)}function BI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ye(108,D9(e)||"Unknown",a));return Dr({},r,n)}function nx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ql,au=zn.current,hr(zn,e),hr(ws,ws.current),!0}function a2(e,t,r){var n=e.stateNode;if(!n)throw Error(ye(169));r?(e=BI(e,t,au),n.__reactInternalMemoizedMergedChildContext=e,_r(ws),_r(zn),hr(zn,e)):_r(ws),hr(ws,r)}var to=null,i0=!1,Dj=!1;function zI(e){to===null?to=[e]:to.push(e)}function X7(e){i0=!0,zI(e)}function ec(){if(!Dj&&to!==null){Dj=!0;var e=0,t=tr;try{var r=to;for(tr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}to=null,i0=!1}catch(a){throw to!==null&&(to=to.slice(e+1)),hI(BC,ec),a}finally{tr=t,Dj=!1}}return null}var Nd=[],Sd=0,sx=null,ax=0,fa=[],ha=0,iu=null,io=1,oo="";function bc(e,t){Nd[Sd++]=ax,Nd[Sd++]=sx,sx=e,ax=t}function VI(e,t,r){fa[ha++]=io,fa[ha++]=oo,fa[ha++]=iu,iu=e;var n=io;e=oo;var a=32-Ha(n)-1;n&=~(1<<a),r+=1;var i=32-Ha(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,io=1<<32-Ha(t)+a|r<<a|n,oo=i+e}else io=1<<i|r<<a|n,oo=e}function XC(e){e.return!==null&&(bc(e,1),VI(e,1,0))}function QC(e){for(;e===sx;)sx=Nd[--Sd],Nd[Sd]=null,ax=Nd[--Sd],Nd[Sd]=null;for(;e===iu;)iu=fa[--ha],fa[ha]=null,oo=fa[--ha],fa[ha]=null,io=fa[--ha],fa[ha]=null}var Ws=null,qs=null,Cr=!1,za=null;function qI(e,t){var r=pa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function i2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ws=e,qs=Pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ws=e,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=iu!==null?{id:io,overflow:oo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ws=e,qs=null,!0):!1;default:return!1}}function CN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kN(e){if(Cr){var t=qs;if(t){var r=t;if(!i2(e,t)){if(CN(e))throw Error(ye(418));t=Pl(r.nextSibling);var n=Ws;t&&i2(e,t)?qI(n,r):(e.flags=e.flags&-4097|2,Cr=!1,Ws=e)}}else{if(CN(e))throw Error(ye(418));e.flags=e.flags&-4097|2,Cr=!1,Ws=e}}}function o2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ws=e}function $v(e){if(e!==Ws)return!1;if(!Cr)return o2(e),Cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jN(e.type,e.memoizedProps)),t&&(t=qs)){if(CN(e))throw WI(),Error(ye(418));for(;t;)qI(e,t),t=Pl(t.nextSibling)}if(o2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qs=Pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qs=null}}else qs=Ws?Pl(e.stateNode.nextSibling):null;return!0}function WI(){for(var e=qs;e;)e=Pl(e.nextSibling)}function mf(){qs=Ws=null,Cr=!1}function ZC(e){za===null?za=[e]:za.push(e)}var Q7=Ao.ReactCurrentBatchConfig;function em(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function Iv(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function l2(e){var t=e._init;return t(e._payload)}function HI(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=Dl(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=Uj(w,b.mode,_),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,_){var j=w.type;return j===yd?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yo&&l2(j)===x.type)?(_=a(x,w.props),_.ref=em(b,x,w),_.return=b,_):(_=Ty(w.type,w.key,w.props,null,b.mode,_),_.ref=em(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Bj(w,b.mode,_),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,j){return x===null||x.tag!==7?(x=Qc(w,b.mode,_,j),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Uj(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cv:return w=Ty(x.type,x.key,x.props,null,b.mode,w),w.ref=em(b,null,x),w.return=b,w;case vd:return x=Bj(x,b.mode,w),x.return=b,x;case Yo:var _=x._init;return f(b,_(x._payload),w)}if(Pm(x)||Yh(x))return x=Qc(x,b.mode,w,null),x.return=b,x;Iv(b,x)}return null}function h(b,x,w,_){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cv:return w.key===j?c(b,x,w,_):null;case vd:return w.key===j?u(b,x,w,_):null;case Yo:return j=w._init,h(b,x,j(w._payload),_)}if(Pm(w)||Yh(w))return j!==null?null:d(b,x,w,_,null);Iv(b,w)}return null}function m(b,x,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cv:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,j);case vd:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,j);case Yo:var N=_._init;return m(b,x,w,N(_._payload),j)}if(Pm(_)||Yh(_))return b=b.get(w)||null,d(x,b,_,j,null);Iv(x,_)}return null}function g(b,x,w,_){for(var j=null,N=null,S=x,k=x=0,C=null;S!==null&&k<w.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var P=h(b,S,w[k],_);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(b,S),x=i(P,x,k),N===null?j=P:N.sibling=P,N=P,S=C}if(k===w.length)return r(b,S),Cr&&bc(b,k),j;if(S===null){for(;k<w.length;k++)S=f(b,w[k],_),S!==null&&(x=i(S,x,k),N===null?j=S:N.sibling=S,N=S);return Cr&&bc(b,k),j}for(S=n(b,S);k<w.length;k++)C=m(S,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),x=i(C,x,k),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(A){return t(b,A)}),Cr&&bc(b,k),j}function p(b,x,w,_){var j=Yh(w);if(typeof j!="function")throw Error(ye(150));if(w=j.call(w),w==null)throw Error(ye(151));for(var N=j=null,S=x,k=x=0,C=null,P=w.next();S!==null&&!P.done;k++,P=w.next()){S.index>k?(C=S,S=null):C=S.sibling;var A=h(b,S,P.value,_);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(b,S),x=i(A,x,k),N===null?j=A:N.sibling=A,N=A,S=C}if(P.done)return r(b,S),Cr&&bc(b,k),j;if(S===null){for(;!P.done;k++,P=w.next())P=f(b,P.value,_),P!==null&&(x=i(P,x,k),N===null?j=P:N.sibling=P,N=P);return Cr&&bc(b,k),j}for(S=n(b,S);!P.done;k++,P=w.next())P=m(S,b,k,P.value,_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),x=i(P,x,k),N===null?j=P:N.sibling=P,N=P);return e&&S.forEach(function(E){return t(b,E)}),Cr&&bc(b,k),j}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===yd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Cv:e:{for(var j=w.key,N=x;N!==null;){if(N.key===j){if(j=w.type,j===yd){if(N.tag===7){r(b,N.sibling),x=a(N,w.props.children),x.return=b,b=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yo&&l2(j)===N.type){r(b,N.sibling),x=a(N,w.props),x.ref=em(b,N,w),x.return=b,b=x;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===yd?(x=Qc(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=Ty(w.type,w.key,w.props,null,b.mode,_),_.ref=em(b,x,w),_.return=b,b=_)}return o(b);case vd:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=Bj(w,b.mode,_),x.return=b,b=x}return o(b);case Yo:return N=w._init,v(b,x,N(w._payload),_)}if(Pm(w))return g(b,x,w,_);if(Yh(w))return p(b,x,w,_);Iv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=Uj(w,b.mode,_),x.return=b,b=x),o(b)):r(b,x)}return v}var pf=HI(!0),KI=HI(!1),ix=Jl(null),ox=null,Cd=null,JC=null;function ek(){JC=Cd=ox=null}function tk(e){var t=ix.current;_r(ix),e._currentValue=t}function EN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ud(e,t){ox=e,JC=Cd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xs=!0),e.firstContext=null)}function wa(e){var t=e._currentValue;if(JC!==e)if(e={context:e,memoizedValue:t,next:null},Cd===null){if(ox===null)throw Error(ye(308));Cd=e,ox.dependencies={lanes:0,firstContext:e}}else Cd=Cd.next=e;return t}var Tc=null;function rk(e){Tc===null?Tc=[e]:Tc.push(e)}function GI(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,rk(t)):(r.next=a.next,a.next=r),t.interleaved=r,xo(e,n)}function xo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xo=!1;function nk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Al(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ut&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,xo(e,r)}return a=n.interleaved,a===null?(t.next=t,rk(n)):(t.next=a.next,a.next=t),n.interleaved=t,xo(e,r)}function Cy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zC(e,r)}}function c2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lx(e,t,r,n){var a=e.updateQueue;Xo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Dr({},f,h);break e;case 2:Xo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lu|=o,e.lanes=o,e.memoizedState=f}}function u2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ye(191,a));a.call(n)}}}var Fg={},Si=Jl(Fg),jp=Jl(Fg),_p=Jl(Fg);function Dc(e){if(e===Fg)throw Error(ye(174));return e}function sk(e,t){switch(hr(_p,t),hr(jp,e),hr(Si,Fg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lN(t,e)}_r(Si),hr(Si,t)}function gf(){_r(Si),_r(jp),_r(_p)}function XI(e){Dc(_p.current);var t=Dc(Si.current),r=lN(t,e.type);t!==r&&(hr(jp,e),hr(Si,r))}function ak(e){jp.current===e&&(_r(Si),_r(jp))}var Or=Jl(0);function cx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rj=[];function ik(){for(var e=0;e<Rj.length;e++)Rj[e]._workInProgressVersionPrimary=null;Rj.length=0}var ky=Ao.ReactCurrentDispatcher,Mj=Ao.ReactCurrentBatchConfig,ou=0,Tr=null,on=null,xn=null,ux=!1,Wm=!1,Np=0,Z7=0;function Rn(){throw Error(ye(321))}function ok(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xa(e[r],t[r]))return!1;return!0}function lk(e,t,r,n,a,i){if(ou=i,Tr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ky.current=e===null||e.memoizedState===null?rK:nK,e=r(n,a),Wm){i=0;do{if(Wm=!1,Np=0,25<=i)throw Error(ye(301));i+=1,xn=on=null,t.updateQueue=null,ky.current=sK,e=r(n,a)}while(Wm)}if(ky.current=dx,t=on!==null&&on.next!==null,ou=0,xn=on=Tr=null,ux=!1,t)throw Error(ye(300));return e}function ck(){var e=Np!==0;return Np=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Tr.memoizedState=xn=e:xn=xn.next=e,xn}function ja(){if(on===null){var e=Tr.alternate;e=e!==null?e.memoizedState:null}else e=on.next;var t=xn===null?Tr.memoizedState:xn.next;if(t!==null)xn=t,on=e;else{if(e===null)throw Error(ye(310));on=e,e={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},xn===null?Tr.memoizedState=xn=e:xn=xn.next=e}return xn}function Sp(e,t){return typeof t=="function"?t(e):t}function $j(e){var t=ja(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=on,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ou&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Tr.lanes|=d,lu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Xa(n,t.memoizedState)||(xs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Tr.lanes|=i,lu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ij(e){var t=ja(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Xa(i,t.memoizedState)||(xs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function QI(){}function ZI(e,t){var r=Tr,n=ja(),a=t(),i=!Xa(n.memoizedState,a);if(i&&(n.memoizedState=a,xs=!0),n=n.queue,uk(tL.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xn!==null&&xn.memoizedState.tag&1){if(r.flags|=2048,Cp(9,eL.bind(null,r,n,a,t),void 0,null),wn===null)throw Error(ye(349));ou&30||JI(r,t,a)}return a}function JI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eL(e,t,r,n){t.value=r,t.getSnapshot=n,rL(t)&&nL(e)}function tL(e,t,r){return r(function(){rL(t)&&nL(e)})}function rL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xa(e,r)}catch{return!0}}function nL(e){var t=xo(e,1);t!==null&&Ka(t,e,1,-1)}function d2(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:e},t.queue=e,e=e.dispatch=tK.bind(null,Tr,e),[t.memoizedState,e]}function Cp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tr.updateQueue,t===null?(t={lastEffect:null,stores:null},Tr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sL(){return ja().memoizedState}function Ey(e,t,r,n){var a=pi();Tr.flags|=e,a.memoizedState=Cp(1|t,r,void 0,n===void 0?null:n)}function o0(e,t,r,n){var a=ja();n=n===void 0?null:n;var i=void 0;if(on!==null){var o=on.memoizedState;if(i=o.destroy,n!==null&&ok(n,o.deps)){a.memoizedState=Cp(t,r,i,n);return}}Tr.flags|=e,a.memoizedState=Cp(1|t,r,i,n)}function f2(e,t){return Ey(8390656,8,e,t)}function uk(e,t){return o0(2048,8,e,t)}function aL(e,t){return o0(4,2,e,t)}function iL(e,t){return o0(4,4,e,t)}function oL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lL(e,t,r){return r=r!=null?r.concat([e]):null,o0(4,4,oL.bind(null,t,e),r)}function dk(){}function cL(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ok(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uL(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ok(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dL(e,t,r){return ou&21?(Xa(r,t)||(r=gI(),Tr.lanes|=r,lu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=r)}function J7(e,t){var r=tr;tr=r!==0&&4>r?r:4,e(!0);var n=Mj.transition;Mj.transition={};try{e(!1),t()}finally{tr=r,Mj.transition=n}}function fL(){return ja().memoizedState}function eK(e,t,r){var n=Tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hL(e))mL(t,r);else if(r=GI(e,t,r,n),r!==null){var a=rs();Ka(r,e,n,a),pL(r,t,n)}}function tK(e,t,r){var n=Tl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hL(e))mL(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Xa(l,o)){var c=t.interleaved;c===null?(a.next=a,rk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=GI(e,t,a,n),r!==null&&(a=rs(),Ka(r,e,n,a),pL(r,t,n))}}function hL(e){var t=e.alternate;return e===Tr||t!==null&&t===Tr}function mL(e,t){Wm=ux=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zC(e,r)}}var dx={readContext:wa,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},rK={readContext:wa,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:wa,useEffect:f2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ey(4194308,4,oL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ey(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ey(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eK.bind(null,Tr,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:d2,useDebugValue:dk,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=d2(!1),t=e[0];return e=J7.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tr,a=pi();if(Cr){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),wn===null)throw Error(ye(349));ou&30||JI(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,f2(tL.bind(null,n,i,e),[e]),n.flags|=2048,Cp(9,eL.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pi(),t=wn.identifierPrefix;if(Cr){var r=oo,n=io;r=(n&~(1<<32-Ha(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Np++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Z7++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nK={readContext:wa,useCallback:cL,useContext:wa,useEffect:uk,useImperativeHandle:lL,useInsertionEffect:aL,useLayoutEffect:iL,useMemo:uL,useReducer:$j,useRef:sL,useState:function(){return $j(Sp)},useDebugValue:dk,useDeferredValue:function(e){var t=ja();return dL(t,on.memoizedState,e)},useTransition:function(){var e=$j(Sp)[0],t=ja().memoizedState;return[e,t]},useMutableSource:QI,useSyncExternalStore:ZI,useId:fL,unstable_isNewReconciler:!1},sK={readContext:wa,useCallback:cL,useContext:wa,useEffect:uk,useImperativeHandle:lL,useInsertionEffect:aL,useLayoutEffect:iL,useMemo:uL,useReducer:Ij,useRef:sL,useState:function(){return Ij(Sp)},useDebugValue:dk,useDeferredValue:function(e){var t=ja();return on===null?t.memoizedState=e:dL(t,on.memoizedState,e)},useTransition:function(){var e=Ij(Sp)[0],t=ja().memoizedState;return[e,t]},useMutableSource:QI,useSyncExternalStore:ZI,useId:fL,unstable_isNewReconciler:!1};function Ma(e,t){if(e&&e.defaultProps){t=Dr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function PN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var l0={isMounted:function(e){return(e=e._reactInternals)?Ru(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rs(),a=Tl(e),i=ho(n,a);i.payload=t,r!=null&&(i.callback=r),t=Al(e,i,a),t!==null&&(Ka(t,e,a,n),Cy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rs(),a=Tl(e),i=ho(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Al(e,i,a),t!==null&&(Ka(t,e,a,n),Cy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rs(),n=Tl(e),a=ho(r,n);a.tag=2,t!=null&&(a.callback=t),t=Al(e,a,n),t!==null&&(Ka(t,e,n,r),Cy(t,e,n))}};function h2(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!yp(r,n)||!yp(a,i):!0}function gL(e,t,r){var n=!1,a=ql,i=t.contextType;return typeof i=="object"&&i!==null?i=wa(i):(a=js(t)?au:zn.current,n=t.contextTypes,i=(n=n!=null)?hf(e,a):ql),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=l0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function m2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&l0.enqueueReplaceState(t,t.state,null)}function AN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},nk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wa(i):(i=js(t)?au:zn.current,a.context=hf(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(PN(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&l0.enqueueReplaceState(a,a.state,null),lx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vf(e,t){try{var r="",n=t;do r+=T9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Lj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ON(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aK=typeof WeakMap=="function"?WeakMap:Map;function vL(e,t,r){r=ho(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hx||(hx=!0,BN=n),ON(e,t)},r}function yL(e,t,r){r=ho(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ON(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ON(e,t),typeof n!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function p2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aK;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=xK.bind(null,e,t,r),t.then(e,e))}function g2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function v2(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ho(-1,1),t.tag=2,Al(r,t,1))),r.lanes|=1),e)}var iK=Ao.ReactCurrentOwner,xs=!1;function Gn(e,t,r,n){t.child=e===null?KI(t,null,r,n):pf(t,e.child,r,n)}function y2(e,t,r,n,a){r=r.render;var i=t.ref;return Ud(t,a),n=lk(e,t,r,n,i,a),r=ck(),e!==null&&!xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(Cr&&r&&XC(t),t.flags|=1,Gn(e,t,n,a),t.child)}function x2(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!xk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xL(e,t,i,n,a)):(e=Ty(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yp,r(o,n)&&e.ref===t.ref)return bo(e,t,a)}return t.flags|=1,e=Dl(i,n),e.ref=t.ref,e.return=t,t.child=e}function xL(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(yp(i,n)&&e.ref===t.ref)if(xs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(xs=!0);else return t.lanes=e.lanes,bo(e,t,a)}return TN(e,t,r,n,a)}function bL(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(Ed,Fs),Fs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hr(Ed,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,hr(Ed,Fs),Fs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,hr(Ed,Fs),Fs|=n;return Gn(e,t,a,r),t.child}function wL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function TN(e,t,r,n,a){var i=js(r)?au:zn.current;return i=hf(t,i),Ud(t,a),r=lk(e,t,r,n,i,a),n=ck(),e!==null&&!xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(Cr&&n&&XC(t),t.flags|=1,Gn(e,t,r,a),t.child)}function b2(e,t,r,n,a){if(js(r)){var i=!0;nx(t)}else i=!1;if(Ud(t,a),t.stateNode===null)Py(e,t),gL(t,r,n),AN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wa(u):(u=js(r)?au:zn.current,u=hf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&m2(t,o,n,u),Xo=!1;var h=t.memoizedState;o.state=h,lx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ws.current||Xo?(typeof d=="function"&&(PN(t,r,d,n),c=t.memoizedState),(l=Xo||h2(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,YI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ma(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wa(c):(c=js(r)?au:zn.current,c=hf(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&m2(t,o,n,c),Xo=!1,h=t.memoizedState,o.state=h,lx(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||ws.current||Xo?(typeof m=="function"&&(PN(t,r,m,n),g=t.memoizedState),(u=Xo||h2(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return DN(e,t,r,n,i,a)}function DN(e,t,r,n,a,i){wL(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&a2(t,r,!1),bo(e,t,i);n=t.stateNode,iK.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=pf(t,e.child,null,i),t.child=pf(t,null,l,i)):Gn(e,t,l,i),t.memoizedState=n.state,a&&a2(t,r,!0),t.child}function jL(e){var t=e.stateNode;t.pendingContext?s2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s2(e,t.context,!1),sk(e,t.containerInfo)}function w2(e,t,r,n,a){return mf(),ZC(a),t.flags|=256,Gn(e,t,r,n),t.child}var RN={dehydrated:null,treeContext:null,retryLane:0};function MN(e){return{baseLanes:e,cachePool:null,transitions:null}}function _L(e,t,r){var n=t.pendingProps,a=Or.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),hr(Or,a&1),e===null)return kN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=d0(o,n,0,null),e=Qc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=MN(r),t.memoizedState=RN,e):fk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return oK(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Dl(l,i):(i=Qc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?MN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=RN,n}return i=e.child,e=i.sibling,n=Dl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fk(e,t){return t=d0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lv(e,t,r,n){return n!==null&&ZC(n),pf(t,e.child,null,r),e=fk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oK(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Lj(Error(ye(422))),Lv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=d0({mode:"visible",children:n.children},a,0,null),i=Qc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&pf(t,e.child,null,o),t.child.memoizedState=MN(o),t.memoizedState=RN,i);if(!(t.mode&1))return Lv(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ye(419)),n=Lj(i,n,void 0),Lv(e,t,o,n)}if(l=(o&e.childLanes)!==0,xs||l){if(n=wn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xo(e,a),Ka(n,e,a,-1))}return yk(),n=Lj(Error(ye(421))),Lv(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bK.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qs=Pl(a.nextSibling),Ws=t,Cr=!0,za=null,e!==null&&(fa[ha++]=io,fa[ha++]=oo,fa[ha++]=iu,io=e.id,oo=e.overflow,iu=t),t=fk(t,n.children),t.flags|=4096,t)}function j2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),EN(e.return,t,r)}function Fj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function NL(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Gn(e,t,n.children,r),n=Or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j2(e,r,t);else if(e.tag===19)j2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hr(Or,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&cx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Fj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Fj(t,!0,r,null,i);break;case"together":Fj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Py(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=Dl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lK(e,t,r){switch(t.tag){case 3:jL(t),mf();break;case 5:XI(t);break;case 1:js(t.type)&&nx(t);break;case 4:sk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;hr(ix,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hr(Or,Or.current&1),t.flags|=128,null):r&t.child.childLanes?_L(e,t,r):(hr(Or,Or.current&1),e=bo(e,t,r),e!==null?e.sibling:null);hr(Or,Or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NL(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),hr(Or,Or.current),n)break;return null;case 22:case 23:return t.lanes=0,bL(e,t,r)}return bo(e,t,r)}var SL,$N,CL,kL;SL=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$N=function(){};CL=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dc(Si.current);var i=null;switch(r){case"input":a=sN(e,a),n=sN(e,n),i=[];break;case"select":a=Dr({},a,{value:void 0}),n=Dr({},n,{value:void 0}),i=[];break;case"textarea":a=oN(e,a),n=oN(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tx)}cN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&br("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kL=function(e,t,r,n){r!==n&&(t.flags|=4)};function tm(e,t){if(!Cr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cK(e,t,r){var n=t.pendingProps;switch(QC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(t),null;case 1:return js(t.type)&&rx(),Mn(t),null;case 3:return n=t.stateNode,gf(),_r(ws),_r(zn),ik(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($v(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,za!==null&&(qN(za),za=null))),$N(e,t),Mn(t),null;case 5:ak(t);var a=Dc(_p.current);if(r=t.type,e!==null&&t.stateNode!=null)CL(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ye(166));return Mn(t),null}if(e=Dc(Si.current),$v(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xi]=t,n[wp]=i,e=(t.mode&1)!==0,r){case"dialog":br("cancel",n),br("close",n);break;case"iframe":case"object":case"embed":br("load",n);break;case"video":case"audio":for(a=0;a<Om.length;a++)br(Om[a],n);break;case"source":br("error",n);break;case"img":case"image":case"link":br("error",n),br("load",n);break;case"details":br("toggle",n);break;case"input":OA(n,i),br("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},br("invalid",n);break;case"textarea":DA(n,i),br("invalid",n)}cN(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mv(n.textContent,l,e),a=["children",""+l]):dp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&br("scroll",n)}switch(r){case"input":kv(n),TA(n,i,!0);break;case"textarea":kv(n),RA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=tx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xi]=t,e[wp]=n,SL(e,t,!1,!1),t.stateNode=e;e:{switch(o=uN(r,n),r){case"dialog":br("cancel",e),br("close",e),a=n;break;case"iframe":case"object":case"embed":br("load",e),a=n;break;case"video":case"audio":for(a=0;a<Om.length;a++)br(Om[a],e);a=n;break;case"source":br("error",e),a=n;break;case"img":case"image":case"link":br("error",e),br("load",e),a=n;break;case"details":br("toggle",e),a=n;break;case"input":OA(e,n),a=sN(e,n),br("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Dr({},n,{value:void 0}),br("invalid",e);break;case"textarea":DA(e,n),a=oN(e,n),br("invalid",e);break;default:a=n}cN(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rI(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fp(e,c):typeof c=="number"&&fp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&br("scroll",e):c!=null&&$C(e,i,c,o))}switch(r){case"input":kv(e),TA(e,n,!1);break;case"textarea":kv(e),RA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?$d(e,!!n.multiple,i,!1):n.defaultValue!=null&&$d(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mn(t),null;case 6:if(e&&t.stateNode!=null)kL(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ye(166));if(r=Dc(_p.current),Dc(Si.current),$v(t)){if(n=t.stateNode,r=t.memoizedProps,n[xi]=t,(i=n.nodeValue!==r)&&(e=Ws,e!==null))switch(e.tag){case 3:Mv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mv(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=t,t.stateNode=n}return Mn(t),null;case 13:if(_r(Or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cr&&qs!==null&&t.mode&1&&!(t.flags&128))WI(),mf(),t.flags|=98560,i=!1;else if(i=$v(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ye(317));i[xi]=t}else mf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mn(t),i=!1}else za!==null&&(qN(za),za=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Or.current&1?un===0&&(un=3):yk())),t.updateQueue!==null&&(t.flags|=4),Mn(t),null);case 4:return gf(),$N(e,t),e===null&&xp(t.stateNode.containerInfo),Mn(t),null;case 10:return tk(t.type._context),Mn(t),null;case 17:return js(t.type)&&rx(),Mn(t),null;case 19:if(_r(Or),i=t.memoizedState,i===null)return Mn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)tm(i,!1);else{if(un!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cx(e),o!==null){for(t.flags|=128,tm(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hr(Or,Or.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wr()>yf&&(t.flags|=128,n=!0,tm(i,!1),t.lanes=4194304)}else{if(!n)if(e=cx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Cr)return Mn(t),null}else 2*Wr()-i.renderingStartTime>yf&&r!==1073741824&&(t.flags|=128,n=!0,tm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wr(),t.sibling=null,r=Or.current,hr(Or,n?r&1|2:r&1),t):(Mn(t),null);case 22:case 23:return vk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fs&1073741824&&(Mn(t),t.subtreeFlags&6&&(t.flags|=8192)):Mn(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function uK(e,t){switch(QC(t),t.tag){case 1:return js(t.type)&&rx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gf(),_r(ws),_r(zn),ik(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ak(t),null;case 13:if(_r(Or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));mf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _r(Or),null;case 4:return gf(),null;case 10:return tk(t.type._context),null;case 22:case 23:return vk(),null;case 24:return null;default:return null}}var Fv=!1,Ln=!1,dK=typeof WeakSet=="function"?WeakSet:Set,Te=null;function kd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fr(e,t,n)}else r.current=null}function IN(e,t,r){try{r()}catch(n){Fr(e,t,n)}}var _2=!1;function fK(e,t){if(bN=Zy,e=TI(),YC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wN={focusedElem:e,selectionRange:r},Zy=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ma(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(_){Fr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return g=_2,_2=!1,g}function Hm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&IN(t,r,i)}a=a.next}while(a!==n)}}function c0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function LN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EL(e){var t=e.alternate;t!==null&&(e.alternate=null,EL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[wp],delete t[NN],delete t[G7],delete t[Y7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PL(e){return e.tag===5||e.tag===3||e.tag===4}function N2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function FN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tx));else if(n!==4&&(e=e.child,e!==null))for(FN(e,t,r),e=e.sibling;e!==null;)FN(e,t,r),e=e.sibling}function UN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(UN(e,t,r),e=e.sibling;e!==null;)UN(e,t,r),e=e.sibling}var En=null,La=!1;function zo(e,t,r){for(r=r.child;r!==null;)AL(e,t,r),r=r.sibling}function AL(e,t,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(t0,r)}catch{}switch(r.tag){case 5:Ln||kd(r,t);case 6:var n=En,a=La;En=null,zo(e,t,r),En=n,La=a,En!==null&&(La?(e=En,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):En.removeChild(r.stateNode));break;case 18:En!==null&&(La?(e=En,r=r.stateNode,e.nodeType===8?Tj(e.parentNode,r):e.nodeType===1&&Tj(e,r),gp(e)):Tj(En,r.stateNode));break;case 4:n=En,a=La,En=r.stateNode.containerInfo,La=!0,zo(e,t,r),En=n,La=a;break;case 0:case 11:case 14:case 15:if(!Ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&IN(r,t,o),a=a.next}while(a!==n)}zo(e,t,r);break;case 1:if(!Ln&&(kd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Fr(r,t,l)}zo(e,t,r);break;case 21:zo(e,t,r);break;case 22:r.mode&1?(Ln=(n=Ln)||r.memoizedState!==null,zo(e,t,r),Ln=n):zo(e,t,r);break;default:zo(e,t,r)}}function S2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dK),t.forEach(function(n){var a=wK.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Aa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:En=l.stateNode,La=!1;break e;case 3:En=l.stateNode.containerInfo,La=!0;break e;case 4:En=l.stateNode.containerInfo,La=!0;break e}l=l.return}if(En===null)throw Error(ye(160));AL(i,o,a),En=null,La=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Fr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OL(t,e),t=t.sibling}function OL(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Aa(t,e),mi(e),n&4){try{Hm(3,e,e.return),c0(3,e)}catch(p){Fr(e,e.return,p)}try{Hm(5,e,e.return)}catch(p){Fr(e,e.return,p)}}break;case 1:Aa(t,e),mi(e),n&512&&r!==null&&kd(r,r.return);break;case 5:if(Aa(t,e),mi(e),n&512&&r!==null&&kd(r,r.return),e.flags&32){var a=e.stateNode;try{fp(a,"")}catch(p){Fr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&J$(a,i),uN(l,o);var u=uN(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sI(a,f):d==="dangerouslySetInnerHTML"?rI(a,f):d==="children"?fp(a,f):$C(a,d,f,u)}switch(l){case"input":aN(a,i);break;case"textarea":eI(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$d(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?$d(a,!!i.multiple,i.defaultValue,!0):$d(a,!!i.multiple,i.multiple?[]:"",!1))}a[wp]=i}catch(p){Fr(e,e.return,p)}}break;case 6:if(Aa(t,e),mi(e),n&4){if(e.stateNode===null)throw Error(ye(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Fr(e,e.return,p)}}break;case 3:if(Aa(t,e),mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gp(t.containerInfo)}catch(p){Fr(e,e.return,p)}break;case 4:Aa(t,e),mi(e);break;case 13:Aa(t,e),mi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(pk=Wr())),n&4&&S2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ln=(u=Ln)||d,Aa(t,e),Ln=u):Aa(t,e),mi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(f=Te=d;Te!==null;){switch(h=Te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hm(4,h,h.return);break;case 1:kd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Fr(n,r,p)}}break;case 5:kd(h,h.return);break;case 22:if(h.memoizedState!==null){k2(f);continue}}m!==null?(m.return=h,Te=m):k2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nI("display",o))}catch(p){Fr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Fr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Aa(t,e),mi(e),n&4&&S2(e);break;case 21:break;default:Aa(t,e),mi(e)}}function mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PL(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(fp(a,""),n.flags&=-33);var i=N2(e);UN(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=N2(e);FN(e,l,o);break;default:throw Error(ye(161))}}catch(c){Fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hK(e,t,r){Te=e,TL(e)}function TL(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var a=Te,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Fv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ln;l=Fv;var u=Ln;if(Fv=o,(Ln=c)&&!u)for(Te=a;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?E2(a):c!==null?(c.return=o,Te=c):E2(a);for(;i!==null;)Te=i,TL(i),i=i.sibling;Te=a,Fv=l,Ln=u}C2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Te=i):C2(e)}}function C2(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ln||c0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ln)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ma(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&u2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}u2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Ln||t.flags&512&&LN(t)}catch(h){Fr(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function k2(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function E2(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{c0(4,t)}catch(c){Fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Fr(t,a,c)}}var i=t.return;try{LN(t)}catch(c){Fr(t,i,c)}break;case 5:var o=t.return;try{LN(t)}catch(c){Fr(t,o,c)}}}catch(c){Fr(t,t.return,c)}if(t===e){Te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Te=l;break}Te=t.return}}var mK=Math.ceil,fx=Ao.ReactCurrentDispatcher,hk=Ao.ReactCurrentOwner,xa=Ao.ReactCurrentBatchConfig,Ut=0,wn=null,Zr=null,Tn=0,Fs=0,Ed=Jl(0),un=0,kp=null,lu=0,u0=0,mk=0,Km=null,ys=null,pk=0,yf=1/0,Zi=null,hx=!1,BN=null,Ol=null,Uv=!1,_l=null,mx=0,Gm=0,zN=null,Ay=-1,Oy=0;function rs(){return Ut&6?Wr():Ay!==-1?Ay:Ay=Wr()}function Tl(e){return e.mode&1?Ut&2&&Tn!==0?Tn&-Tn:Q7.transition!==null?(Oy===0&&(Oy=gI()),Oy):(e=tr,e!==0||(e=window.event,e=e===void 0?16:_I(e.type)),e):1}function Ka(e,t,r,n){if(50<Gm)throw Gm=0,zN=null,Error(ye(185));$g(e,r,n),(!(Ut&2)||e!==wn)&&(e===wn&&(!(Ut&2)&&(u0|=r),un===4&&tl(e,Tn)),_s(e,n),r===1&&Ut===0&&!(t.mode&1)&&(yf=Wr()+500,i0&&ec()))}function _s(e,t){var r=e.callbackNode;Q9(e,t);var n=Qy(e,e===wn?Tn:0);if(n===0)r!==null&&IA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&IA(r),t===1)e.tag===0?X7(P2.bind(null,e)):zI(P2.bind(null,e)),H7(function(){!(Ut&6)&&ec()}),r=null;else{switch(vI(n)){case 1:r=BC;break;case 4:r=mI;break;case 16:r=Xy;break;case 536870912:r=pI;break;default:r=Xy}r=UL(r,DL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function DL(e,t){if(Ay=-1,Oy=0,Ut&6)throw Error(ye(327));var r=e.callbackNode;if(Bd()&&e.callbackNode!==r)return null;var n=Qy(e,e===wn?Tn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=px(e,n);else{t=n;var a=Ut;Ut|=2;var i=ML();(wn!==e||Tn!==t)&&(Zi=null,yf=Wr()+500,Xc(e,t));do try{vK();break}catch(l){RL(e,l)}while(!0);ek(),fx.current=i,Ut=a,Zr!==null?t=0:(wn=null,Tn=0,t=un)}if(t!==0){if(t===2&&(a=pN(e),a!==0&&(n=a,t=VN(e,a))),t===1)throw r=kp,Xc(e,0),tl(e,n),_s(e,Wr()),r;if(t===6)tl(e,n);else{if(a=e.current.alternate,!(n&30)&&!pK(a)&&(t=px(e,n),t===2&&(i=pN(e),i!==0&&(n=i,t=VN(e,i))),t===1))throw r=kp,Xc(e,0),tl(e,n),_s(e,Wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ye(345));case 2:wc(e,ys,Zi);break;case 3:if(tl(e,n),(n&130023424)===n&&(t=pk+500-Wr(),10<t)){if(Qy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_N(wc.bind(null,e,ys,Zi),t);break}wc(e,ys,Zi);break;case 4:if(tl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ha(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mK(n/1960))-n,10<n){e.timeoutHandle=_N(wc.bind(null,e,ys,Zi),n);break}wc(e,ys,Zi);break;case 5:wc(e,ys,Zi);break;default:throw Error(ye(329))}}}return _s(e,Wr()),e.callbackNode===r?DL.bind(null,e):null}function VN(e,t){var r=Km;return e.current.memoizedState.isDehydrated&&(Xc(e,t).flags|=256),e=px(e,t),e!==2&&(t=ys,ys=r,t!==null&&qN(t)),e}function qN(e){ys===null?ys=e:ys.push.apply(ys,e)}function pK(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Xa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tl(e,t){for(t&=~mk,t&=~u0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ha(t),n=1<<r;e[r]=-1,t&=~n}}function P2(e){if(Ut&6)throw Error(ye(327));Bd();var t=Qy(e,0);if(!(t&1))return _s(e,Wr()),null;var r=px(e,t);if(e.tag!==0&&r===2){var n=pN(e);n!==0&&(t=n,r=VN(e,n))}if(r===1)throw r=kp,Xc(e,0),tl(e,t),_s(e,Wr()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,ys,Zi),_s(e,Wr()),null}function gk(e,t){var r=Ut;Ut|=1;try{return e(t)}finally{Ut=r,Ut===0&&(yf=Wr()+500,i0&&ec())}}function cu(e){_l!==null&&_l.tag===0&&!(Ut&6)&&Bd();var t=Ut;Ut|=1;var r=xa.transition,n=tr;try{if(xa.transition=null,tr=1,e)return e()}finally{tr=n,xa.transition=r,Ut=t,!(Ut&6)&&ec()}}function vk(){Fs=Ed.current,_r(Ed)}function Xc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,W7(r)),Zr!==null)for(r=Zr.return;r!==null;){var n=r;switch(QC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rx();break;case 3:gf(),_r(ws),_r(zn),ik();break;case 5:ak(n);break;case 4:gf();break;case 13:_r(Or);break;case 19:_r(Or);break;case 10:tk(n.type._context);break;case 22:case 23:vk()}r=r.return}if(wn=e,Zr=e=Dl(e.current,null),Tn=Fs=t,un=0,kp=null,mk=u0=lu=0,ys=Km=null,Tc!==null){for(t=0;t<Tc.length;t++)if(r=Tc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Tc=null}return e}function RL(e,t){do{var r=Zr;try{if(ek(),ky.current=dx,ux){for(var n=Tr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ux=!1}if(ou=0,xn=on=Tr=null,Wm=!1,Np=0,hk.current=null,r===null||r.return===null){un=1,kp=t,Zr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Tn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=g2(o);if(m!==null){m.flags&=-257,v2(m,o,l,i,t),m.mode&1&&p2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){p2(i,u,t),yk();break e}c=Error(ye(426))}}else if(Cr&&l.mode&1){var v=g2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),v2(v,o,l,i,t),ZC(vf(c,l));break e}}i=c=vf(c,l),un!==4&&(un=2),Km===null?Km=[i]:Km.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=vL(i,c,t);c2(i,b);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ol===null||!Ol.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=yL(i,l,t);c2(i,_);break e}}i=i.return}while(i!==null)}IL(r)}catch(j){t=j,Zr===r&&r!==null&&(Zr=r=r.return);continue}break}while(!0)}function ML(){var e=fx.current;return fx.current=dx,e===null?dx:e}function yk(){(un===0||un===3||un===2)&&(un=4),wn===null||!(lu&268435455)&&!(u0&268435455)||tl(wn,Tn)}function px(e,t){var r=Ut;Ut|=2;var n=ML();(wn!==e||Tn!==t)&&(Zi=null,Xc(e,t));do try{gK();break}catch(a){RL(e,a)}while(!0);if(ek(),Ut=r,fx.current=n,Zr!==null)throw Error(ye(261));return wn=null,Tn=0,un}function gK(){for(;Zr!==null;)$L(Zr)}function vK(){for(;Zr!==null&&!z9();)$L(Zr)}function $L(e){var t=FL(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?IL(e):Zr=t,hk.current=null}function IL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uK(r,t),r!==null){r.flags&=32767,Zr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{un=6,Zr=null;return}}else if(r=cK(r,t,Fs),r!==null){Zr=r;return}if(t=t.sibling,t!==null){Zr=t;return}Zr=t=e}while(t!==null);un===0&&(un=5)}function wc(e,t,r){var n=tr,a=xa.transition;try{xa.transition=null,tr=1,yK(e,t,r,n)}finally{xa.transition=a,tr=n}return null}function yK(e,t,r,n){do Bd();while(_l!==null);if(Ut&6)throw Error(ye(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Z9(e,i),e===wn&&(Zr=wn=null,Tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uv||(Uv=!0,UL(Xy,function(){return Bd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xa.transition,xa.transition=null;var o=tr;tr=1;var l=Ut;Ut|=4,hk.current=null,fK(e,r),OL(r,e),L7(wN),Zy=!!bN,wN=bN=null,e.current=r,hK(r),V9(),Ut=l,tr=o,xa.transition=i}else e.current=r;if(Uv&&(Uv=!1,_l=e,mx=a),i=e.pendingLanes,i===0&&(Ol=null),H9(r.stateNode),_s(e,Wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hx)throw hx=!1,e=BN,BN=null,e;return mx&1&&e.tag!==0&&Bd(),i=e.pendingLanes,i&1?e===zN?Gm++:(Gm=0,zN=e):Gm=0,ec(),null}function Bd(){if(_l!==null){var e=vI(mx),t=xa.transition,r=tr;try{if(xa.transition=null,tr=16>e?16:e,_l===null)var n=!1;else{if(e=_l,_l=null,mx=0,Ut&6)throw Error(ye(331));var a=Ut;for(Ut|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:Hm(8,d,i)}var f=d.child;if(f!==null)f.return=d,Te=f;else for(;Te!==null;){d=Te;var h=d.sibling,m=d.return;if(EL(d),d===u){Te=null;break}if(h!==null){h.return=m,Te=h;break}Te=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Te=b;break e}Te=i.return}}var x=e.current;for(Te=x;Te!==null;){o=Te;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Te=w;else e:for(o=x;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:c0(9,l)}}catch(j){Fr(l,l.return,j)}if(l===o){Te=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Te=_;break e}Te=l.return}}if(Ut=a,ec(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(t0,e)}catch{}n=!0}return n}finally{tr=r,xa.transition=t}}return!1}function A2(e,t,r){t=vf(r,t),t=vL(e,t,1),e=Al(e,t,1),t=rs(),e!==null&&($g(e,1,t),_s(e,t))}function Fr(e,t,r){if(e.tag===3)A2(e,e,r);else for(;t!==null;){if(t.tag===3){A2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ol===null||!Ol.has(n))){e=vf(r,e),e=yL(t,e,1),t=Al(t,e,1),e=rs(),t!==null&&($g(t,1,e),_s(t,e));break}}t=t.return}}function xK(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rs(),e.pingedLanes|=e.suspendedLanes&r,wn===e&&(Tn&r)===r&&(un===4||un===3&&(Tn&130023424)===Tn&&500>Wr()-pk?Xc(e,0):mk|=r),_s(e,t)}function LL(e,t){t===0&&(e.mode&1?(t=Av,Av<<=1,!(Av&130023424)&&(Av=4194304)):t=1);var r=rs();e=xo(e,t),e!==null&&($g(e,t,r),_s(e,r))}function bK(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),LL(e,r)}function wK(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(t),LL(e,r)}var FL;FL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ws.current)xs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xs=!1,lK(e,t,r);xs=!!(e.flags&131072)}else xs=!1,Cr&&t.flags&1048576&&VI(t,ax,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Py(e,t),e=t.pendingProps;var a=hf(t,zn.current);Ud(t,r),a=lk(null,t,n,e,a,r);var i=ck();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,js(n)?(i=!0,nx(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nk(t),a.updater=l0,t.stateNode=a,a._reactInternals=t,AN(t,n,e,r),t=DN(null,t,n,!0,i,r)):(t.tag=0,Cr&&i&&XC(t),Gn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Py(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=_K(n),e=Ma(n,e),a){case 0:t=TN(null,t,n,e,r);break e;case 1:t=b2(null,t,n,e,r);break e;case 11:t=y2(null,t,n,e,r);break e;case 14:t=x2(null,t,n,Ma(n.type,e),r);break e}throw Error(ye(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ma(n,a),TN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ma(n,a),b2(e,t,n,a,r);case 3:e:{if(jL(t),e===null)throw Error(ye(387));n=t.pendingProps,i=t.memoizedState,a=i.element,YI(e,t),lx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=vf(Error(ye(423)),t),t=w2(e,t,n,r,a);break e}else if(n!==a){a=vf(Error(ye(424)),t),t=w2(e,t,n,r,a);break e}else for(qs=Pl(t.stateNode.containerInfo.firstChild),Ws=t,Cr=!0,za=null,r=KI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mf(),n===a){t=bo(e,t,r);break e}Gn(e,t,n,r)}t=t.child}return t;case 5:return XI(t),e===null&&kN(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jN(n,a)?o=null:i!==null&&jN(n,i)&&(t.flags|=32),wL(e,t),Gn(e,t,o,r),t.child;case 6:return e===null&&kN(t),null;case 13:return _L(e,t,r);case 4:return sk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pf(t,null,n,r):Gn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ma(n,a),y2(e,t,n,a,r);case 7:return Gn(e,t,t.pendingProps,r),t.child;case 8:return Gn(e,t,t.pendingProps.children,r),t.child;case 12:return Gn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,hr(ix,n._currentValue),n._currentValue=o,i!==null)if(Xa(i.value,o)){if(i.children===a.children&&!ws.current){t=bo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ho(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),EN(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ye(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),EN(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ud(t,r),a=wa(a),n=n(a),t.flags|=1,Gn(e,t,n,r),t.child;case 14:return n=t.type,a=Ma(n,t.pendingProps),a=Ma(n.type,a),x2(e,t,n,a,r);case 15:return xL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ma(n,a),Py(e,t),t.tag=1,js(n)?(e=!0,nx(t)):e=!1,Ud(t,r),gL(t,n,a),AN(t,n,a,r),DN(null,t,n,!0,e,r);case 19:return NL(e,t,r);case 22:return bL(e,t,r)}throw Error(ye(156,t.tag))};function UL(e,t){return hI(e,t)}function jK(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(e,t,r,n){return new jK(e,t,r,n)}function xk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _K(e){if(typeof e=="function")return xk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===LC)return 11;if(e===FC)return 14}return 2}function Dl(e,t){var r=e.alternate;return r===null?(r=pa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ty(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")xk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yd:return Qc(r.children,a,i,t);case IC:o=8,a|=8;break;case eN:return e=pa(12,r,t,a|2),e.elementType=eN,e.lanes=i,e;case tN:return e=pa(13,r,t,a),e.elementType=tN,e.lanes=i,e;case rN:return e=pa(19,r,t,a),e.elementType=rN,e.lanes=i,e;case X$:return d0(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G$:o=10;break e;case Y$:o=9;break e;case LC:o=11;break e;case FC:o=14;break e;case Yo:o=16,n=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=pa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Qc(e,t,r,n){return e=pa(7,e,n,t),e.lanes=r,e}function d0(e,t,r,n){return e=pa(22,e,n,t),e.elementType=X$,e.lanes=r,e.stateNode={isHidden:!1},e}function Uj(e,t,r){return e=pa(6,e,null,t),e.lanes=r,e}function Bj(e,t,r){return t=pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NK(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wj(0),this.expirationTimes=wj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bk(e,t,r,n,a,i,o,l,c){return e=new NK(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nk(i),e}function SK(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function BL(e){if(!e)return ql;e=e._reactInternals;e:{if(Ru(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(js(r))return BI(e,r,t)}return t}function zL(e,t,r,n,a,i,o,l,c){return e=bk(r,n,!0,e,a,i,o,l,c),e.context=BL(null),r=e.current,n=rs(),a=Tl(r),i=ho(n,a),i.callback=t??null,Al(r,i,a),e.current.lanes=a,$g(e,a,n),_s(e,n),e}function f0(e,t,r,n){var a=t.current,i=rs(),o=Tl(a);return r=BL(r),t.context===null?t.context=r:t.pendingContext=r,t=ho(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Al(a,t,o),e!==null&&(Ka(e,a,o,i),Cy(e,a,o)),o}function gx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wk(e,t){O2(e,t),(e=e.alternate)&&O2(e,t)}function CK(){return null}var VL=typeof reportError=="function"?reportError:function(e){console.error(e)};function jk(e){this._internalRoot=e}h0.prototype.render=jk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));f0(e,t,null,null)};h0.prototype.unmount=jk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cu(function(){f0(null,e,null,null)}),t[yo]=null}};function h0(e){this._internalRoot=e}h0.prototype.unstable_scheduleHydration=function(e){if(e){var t=bI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<el.length&&t!==0&&t<el[r].priority;r++);el.splice(r,0,e),r===0&&jI(e)}};function _k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function T2(){}function kK(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=gx(o);i.call(u)}}var o=zL(t,n,e,0,null,!1,!1,"",T2);return e._reactRootContainer=o,e[yo]=o.current,xp(e.nodeType===8?e.parentNode:e),cu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=gx(c);l.call(u)}}var c=bk(e,0,!1,null,null,!1,!1,"",T2);return e._reactRootContainer=c,e[yo]=c.current,xp(e.nodeType===8?e.parentNode:e),cu(function(){f0(t,c,r,n)}),c}function p0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=gx(o);l.call(c)}}f0(t,o,e,a)}else o=kK(r,t,e,a,n);return gx(o)}yI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Am(t.pendingLanes);r!==0&&(zC(t,r|1),_s(t,Wr()),!(Ut&6)&&(yf=Wr()+500,ec()))}break;case 13:cu(function(){var n=xo(e,1);if(n!==null){var a=rs();Ka(n,e,1,a)}}),wk(e,1)}};VC=function(e){if(e.tag===13){var t=xo(e,134217728);if(t!==null){var r=rs();Ka(t,e,134217728,r)}wk(e,134217728)}};xI=function(e){if(e.tag===13){var t=Tl(e),r=xo(e,t);if(r!==null){var n=rs();Ka(r,e,t,n)}wk(e,t)}};bI=function(){return tr};wI=function(e,t){var r=tr;try{return tr=e,t()}finally{tr=r}};fN=function(e,t,r){switch(t){case"input":if(aN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=a0(n);if(!a)throw Error(ye(90));Z$(n),aN(n,a)}}}break;case"textarea":eI(e,r);break;case"select":t=r.value,t!=null&&$d(e,!!r.multiple,t,!1)}};oI=gk;lI=cu;var EK={usingClientEntryPoint:!1,Events:[Lg,jd,a0,aI,iI,gk]},rm={findFiberByHostInstance:Oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PK={bundleType:rm.bundleType,version:rm.version,rendererPackageName:rm.rendererPackageName,rendererConfig:rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dI(e),e===null?null:e.stateNode},findFiberByHostInstance:rm.findFiberByHostInstance||CK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bv.isDisabled&&Bv.supportsFiber)try{t0=Bv.inject(PK),Ni=Bv}catch{}}ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EK;ta.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_k(t))throw Error(ye(200));return SK(e,t,null,r)};ta.createRoot=function(e,t){if(!_k(e))throw Error(ye(299));var r=!1,n="",a=VL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bk(e,1,!1,null,null,r,!1,n,a),e[yo]=t.current,xp(e.nodeType===8?e.parentNode:e),new jk(t)};ta.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=dI(t),e=e===null?null:e.stateNode,e};ta.flushSync=function(e){return cu(e)};ta.hydrate=function(e,t,r){if(!m0(t))throw Error(ye(200));return p0(null,e,t,!0,r)};ta.hydrateRoot=function(e,t,r){if(!_k(e))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=VL;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zL(t,null,e,1,r??null,a,!1,i,o),e[yo]=t.current,xp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new h0(t)};ta.render=function(e,t,r){if(!m0(t))throw Error(ye(200));return p0(null,e,t,!1,r)};ta.unmountComponentAtNode=function(e){if(!m0(e))throw Error(ye(40));return e._reactRootContainer?(cu(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};ta.unstable_batchedUpdates=gk;ta.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!m0(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return p0(e,t,r,!1,n)};ta.version="18.3.1-next-f1338f8080-20240426";function qL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qL)}catch(e){console.error(e)}}qL(),q$.exports=ta;var Mu=q$.exports;const WL=Xt(Mu);var HL,D2=Mu;HL=D2.createRoot,D2.hydrateRoot;const AK=1,OK=1e6;let zj=0;function TK(){return zj=(zj+1)%Number.MAX_SAFE_INTEGER,zj.toString()}const Vj=new Map,R2=e=>{if(Vj.has(e))return;const t=setTimeout(()=>{Vj.delete(e),Ym({type:"REMOVE_TOAST",toastId:e})},OK);Vj.set(e,t)},DK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?R2(r):e.toasts.forEach(n=>{R2(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Dy=[];let Ry={toasts:[]};function Ym(e){Ry=DK(Ry,e),Dy.forEach(t=>{t(Ry)})}function re({...e}){const t=TK(),r=a=>Ym({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ym({type:"DISMISS_TOAST",toastId:t});return Ym({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function cr(){const[e,t]=y.useState(Ry);return y.useEffect(()=>(Dy.push(t),()=>{const r=Dy.indexOf(t);r>-1&&Dy.splice(r,1)}),[e]),{...e,toast:re,dismiss:r=>Ym({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function M2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function g0(...e){return t=>{let r=!1;const n=e.map(a=>{const i=M2(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():M2(e[a],null)}}}}function He(...e){return y.useCallback(g0(...e),e)}function RK(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Vr(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,MK(a,...t)]}function MK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Wl(e){const t=$K(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(IK);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var KL=Wl("Slot");function $K(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=FK(a),l=LK(i,a.props);return a.type!==y.Fragment&&(l.ref=n?g0(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GL=Symbol("radix.slottable");function YL(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=GL,t}function IK(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GL}function LK(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function FK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ch(e){const t=e+"CollectionProvider",[r,n]=Vr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:b}=p,x=O.useRef(null),w=O.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:x,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Wl(l),u=O.forwardRef((p,v)=>{const{scope:b,children:x}=p,w=i(l,b),_=He(v,w.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Wl(d),m=O.forwardRef((p,v)=>{const{scope:b,children:x,...w}=p,_=O.useRef(null),j=He(v,_),N=i(d,b);return O.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:j,children:x})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return O.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>w.indexOf(N.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var UK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=UK.reduce((e,t)=>{const r=Wl(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Nk(e,t){e&&Mu.flushSync(()=>e.dispatchEvent(t))}function Br(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function BK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var zK="DismissableLayer",WN="dismissableLayer.update",VK="dismissableLayer.pointerDownOutside",qK="dismissableLayer.focusOutside",$2,XL=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$u=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(XL),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=He(t,S=>f(S)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,j=HK(S=>{const k=S.target,C=[...u.branches].some(P=>P.contains(k));!_||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=KK(S=>{const k=S.target;[...u.branches].some(P=>P.contains(k))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return BK(S=>{x===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),I2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=$2)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),I2())},[d,u]),y.useEffect(()=>{const S=()=>m({});return document.addEventListener(WN,S),()=>document.removeEventListener(WN,S)},[]),s.jsx(Ce.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,N.onFocusCapture),onBlurCapture:me(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});$u.displayName=zK;var WK="DismissableLayerBranch",QL=y.forwardRef((e,t)=>{const r=y.useContext(XL),n=y.useRef(null),a=He(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ce.div,{...e,ref:a})});QL.displayName=WK;function HK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){ZL(VK,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function KK(e,t=globalThis==null?void 0:globalThis.document){const r=Br(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&ZL(qK,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function I2(){const e=new CustomEvent(WN);document.dispatchEvent(e)}function ZL(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var GK=$u,YK=QL,zr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},XK="Portal",uh=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);zr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?WL.createPortal(s.jsx(Ce.div,{...n,ref:t}),o):null});uh.displayName=XK;function QK(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var tn=e=>{const{present:t,children:r}=e,n=ZK(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=He(n.ref,JK(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};tn.displayName="Presence";function ZK(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=QK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=zv(n.current);i.current=l==="mounted"?u:"none"},[l]),zr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=zv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),zr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=zv(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=zv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function zv(e){return(e==null?void 0:e.animationName)||"none"}function JK(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var eG=DC[" useInsertionEffect ".trim().toString()]||zr;function Vn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=tG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=rG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function tG({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return eG(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function rG(e){return typeof e=="function"}var JL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nG="VisuallyHidden",v0=y.forwardRef((e,t)=>s.jsx(Ce.span,{...e,ref:t,style:{...JL,...e.style}}));v0.displayName=nG;var sG=v0,Sk="ToastProvider",[Ck,aG,iG]=ch("Toast"),[eF,O3e]=Vr("Toast",[iG]),[oG,y0]=eF(Sk),tF=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sk}\`. Expected non-empty \`string\`.`),s.jsx(Ck.Provider,{scope:t,children:s.jsx(oG,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};tF.displayName=Sk;var rF="ToastViewport",lG=["F8"],HN="toast.viewportPause",KN="toast.viewportResume",nF=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=lG,label:a="Notifications ({hotkey})",...i}=e,o=y0(rF,r),l=aG(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=He(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(HN);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(KN);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&w()},j=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,j=[_,...wG(_)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var j,N,S;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const k=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(j=u.current)==null||j.focus();return}const E=p({tabbingDirection:C?"backwards":"forwards"}),R=E.findIndex($=>$===k);qj(E.slice(R+1))?x.preventDefault():C?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),s.jsxs(YK,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(GN,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});qj(v)}}),s.jsx(Ck.Slot,{scope:r,children:s.jsx(Ce.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(GN,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});qj(v)}})]})});nF.displayName=rF;var sF="ToastFocusProxy",GN=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=y0(sF,r);return s.jsx(v0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});GN.displayName=sF;var Ug="Toast",cG="toast.swipeStart",uG="toast.swipeMove",dG="toast.swipeCancel",fG="toast.swipeEnd",aF=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Vn({prop:n,defaultProp:a??!0,onChange:i,caller:Ug});return s.jsx(tn,{present:r||l,children:s.jsx(pG,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Br(e.onPause),onResume:Br(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});aF.displayName=Ug;var[hG,mG]=eF(Ug,{onClose(){}}),pG=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=y0(Ug,r),[v,b]=y.useState(null),x=He(t,$=>b($)),w=y.useRef(null),_=y.useRef(null),j=a||p.duration,N=y.useRef(0),S=y.useRef(j),k=y.useRef(0),{onToastAdd:C,onToastRemove:P}=p,A=Br(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),o()}),E=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(A,$))},[A]);y.useEffect(()=>{const $=p.viewport;if($){const B=()=>{E(S.current),u==null||u()},F=()=>{const L=new Date().getTime()-N.current;S.current=S.current-L,window.clearTimeout(k.current),c==null||c()};return $.addEventListener(HN,F),$.addEventListener(KN,B),()=>{$.removeEventListener(HN,F),$.removeEventListener(KN,B)}}},[p.viewport,j,c,u,E]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&E(j)},[i,j,p.isClosePausedRef,E]),y.useEffect(()=>(C(),()=>P()),[C,P]);const R=y.useMemo(()=>v?fF(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(gG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(hG,{scope:r,onClose:A,children:Mu.createPortal(s.jsx(Ck.ItemSlot,{scope:r,children:s.jsx(GK,{asChild:!0,onEscapeKeyDown:me(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:me(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:me(e.onPointerMove,$=>{if(!w.current)return;const B=$.clientX-w.current.x,F=$.clientY-w.current.y,L=!!_.current,D=["left","right"].includes(p.swipeDirection),T=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,U=D?T(0,B):0,Q=D?0:T(0,F),K=$.pointerType==="touch"?10:2,oe={x:U,y:Q},W={originalEvent:$,delta:oe};L?(_.current=oe,Vv(uG,f,W,{discrete:!1})):L2(oe,p.swipeDirection,K)?(_.current=oe,Vv(cG,d,W,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(B)>K||Math.abs(F)>K)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,$=>{const B=_.current,F=$.target;if(F.hasPointerCapture($.pointerId)&&F.releasePointerCapture($.pointerId),_.current=null,w.current=null,B){const L=$.currentTarget,D={originalEvent:$,delta:B};L2(B,p.swipeDirection,p.swipeThreshold)?Vv(fG,m,D,{discrete:!0}):Vv(dG,h,D,{discrete:!0}),L.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),gG=e=>{const{__scopeToast:t,children:r,...n}=e,a=y0(Ug,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return xG(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(uh,{asChild:!0,children:s.jsx(v0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},vG="ToastTitle",iF=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ce.div,{...n,ref:t})});iF.displayName=vG;var yG="ToastDescription",oF=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ce.div,{...n,ref:t})});oF.displayName=yG;var lF="ToastAction",cF=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(dF,{altText:r,asChild:!0,children:s.jsx(kk,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${lF}\`. Expected non-empty \`string\`.`),null)});cF.displayName=lF;var uF="ToastClose",kk=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=mG(uF,r);return s.jsx(dF,{asChild:!0,children:s.jsx(Ce.button,{type:"button",...n,ref:t,onClick:me(e.onClick,a.onClose)})})});kk.displayName=uF;var dF=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function fF(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),bG(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...fF(n))}}),t}function Vv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Nk(a,i):a.dispatchEvent(i)}var L2=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function xG(e=()=>{}){const t=Br(e);zr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function bG(e){return e.nodeType===e.ELEMENT_NODE}function wG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var jG=tF,hF=nF,mF=aF,pF=iF,gF=oF,vF=cF,yF=kk;function xF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=xF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=xF(e))&&(n&&(n+=" "),n+=t);return n}const F2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U2=st,dh=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return U2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=F2(d)||F2(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return U2(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bF=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...NG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:bF("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(SG,{ref:i,iconNode:t,className:bF(`lucide-${_G(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=xe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=xe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=xe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=xe("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=xe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=xe("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=xe("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=xe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=xe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=xe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=xe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=xe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=xe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=xe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=xe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=xe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=xe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=xe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=xe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=xe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tk="-",BG=e=>{const t=VG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Tk);return l[0]===""&&l.length!==1&&l.shift(),$F(l,t)||zG(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},$F=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?$F(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Tk);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},z2=/^\[(.+)\]$/,zG=e=>{if(z2.test(e)){const t=z2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VG=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return WG(Object.entries(e.classGroups),r).forEach(([i,o])=>{ZN(o,n,i,t)}),n},ZN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:V2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(qG(a)){ZN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{ZN(o,V2(t,i),r,n)})})},V2=(e,t)=>{let r=e;return t.split(Tk).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qG=e=>e.isThemeGetter,WG=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,HG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},IF="!",KG=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(IF),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},GG=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},YG=e=>({cache:HG(e.cacheSize),parseClassName:KG(e),...BG(e)}),XG=/\s+/,QG=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(XG);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=GG(d).join(":"),b=f?v+IF:v,x=b+p;if(i.includes(x))continue;i.push(x);const w=a(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function ZG(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=LF(t))&&(n&&(n+=" "),n+=r);return n}const LF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=LF(e[n]))&&(r&&(r+=" "),r+=t);return r};function JG(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=YG(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=QG(c,r);return a(c,d),d}return function(){return i(ZG.apply(null,arguments))}}const yr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},FF=/^\[(?:([a-z-]+):)?(.+)\]$/i,eY=/^\d+\/\d+$/,tY=new Set(["px","full","screen"]),rY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ki=e=>qd(e)||tY.has(e)||eY.test(e),Vo=e=>ph(e,"length",mY),qd=e=>!!e&&!Number.isNaN(Number(e)),Wj=e=>ph(e,"number",qd),nm=e=>!!e&&Number.isInteger(Number(e)),oY=e=>e.endsWith("%")&&qd(e.slice(0,-1)),ft=e=>FF.test(e),qo=e=>rY.test(e),lY=new Set(["length","size","percentage"]),cY=e=>ph(e,lY,UF),uY=e=>ph(e,"position",UF),dY=new Set(["image","url"]),fY=e=>ph(e,dY,gY),hY=e=>ph(e,"",pY),sm=()=>!0,ph=(e,t,r)=>{const n=FF.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mY=e=>nY.test(e)&&!sY.test(e),UF=()=>!1,pY=e=>aY.test(e),gY=e=>iY.test(e),vY=()=>{const e=yr("colors"),t=yr("spacing"),r=yr("blur"),n=yr("brightness"),a=yr("borderColor"),i=yr("borderRadius"),o=yr("borderSpacing"),l=yr("borderWidth"),c=yr("contrast"),u=yr("grayscale"),d=yr("hueRotate"),f=yr("invert"),h=yr("gap"),m=yr("gradientColorStops"),g=yr("gradientColorStopPositions"),p=yr("inset"),v=yr("margin"),b=yr("opacity"),x=yr("padding"),w=yr("saturate"),_=yr("scale"),j=yr("sepia"),N=yr("skew"),S=yr("space"),k=yr("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ft,t],E=()=>[ft,t],R=()=>["",Ki,Vo],$=()=>["auto",qd,ft],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ft],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[qd,ft];return{cacheSize:500,separator:":",theme:{colors:[sm],spacing:[Ki,Vo],blur:["none","",qo,ft],brightness:Q(),borderColor:[e],borderRadius:["none","","full",qo,ft],borderSpacing:E(),borderWidth:R(),contrast:Q(),grayscale:T(),hueRotate:Q(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[oY,Vo],inset:A(),margin:A(),opacity:Q(),padding:E(),saturate:Q(),scale:Q(),sepia:T(),skew:Q(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ft]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nm,ft]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",nm,ft]}],"grid-cols":[{"grid-cols":[sm]}],"col-start-end":[{col:["auto",{span:["full",nm,ft]},ft]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[sm]}],"row-start-end":[{row:["auto",{span:[nm,ft]},ft]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wj]}],"font-family":[{font:[sm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",qd,Wj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ki,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ki,Vo]}],"underline-offset":[{"underline-offset":["auto",Ki,ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),uY]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fY]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Ki,ft]}],"outline-w":[{outline:[Ki,Vo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ki,Vo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qo,hY]}],"shadow-color":[{shadow:[sm]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[nm,ft]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ki,Vo,Wj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yY=JG(vY);function ne(...e){return yY(st(e))}const xY=jG,BF=y.forwardRef(({className:e,...t},r)=>s.jsx(hF,{ref:r,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));BF.displayName=hF.displayName;const bY=dh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zF=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(mF,{ref:n,className:ne(bY({variant:t}),e),...r}));zF.displayName=mF.displayName;const wY=y.forwardRef(({className:e,...t},r)=>s.jsx(vF,{ref:r,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));wY.displayName=vF.displayName;const VF=y.forwardRef(({className:e,...t},r)=>s.jsx(yF,{ref:r,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Un,{className:"h-4 w-4"})}));VF.displayName=yF.displayName;const qF=y.forwardRef(({className:e,...t},r)=>s.jsx(pF,{ref:r,className:ne("text-sm font-semibold",e),...t}));qF.displayName=pF.displayName;const WF=y.forwardRef(({className:e,...t},r)=>s.jsx(gF,{ref:r,className:ne("text-sm opacity-90",e),...t}));WF.displayName=gF.displayName;function jY(){const{toasts:e}=cr();return s.jsxs(xY,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(zF,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(qF,{children:r}),n&&s.jsx(WF,{children:n})]}),a,s.jsx(VF,{})]},t)}),s.jsx(BF,{})]})}var q2=["light","dark"],_Y="(prefers-color-scheme: dark)",NY=y.createContext(void 0),SY={setTheme:e=>{},themes:[]},CY=()=>{var e;return(e=y.useContext(NY))!=null?e:SY};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?q2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let b=o?o[g]:g,x=p?g+"|| ''":`'${b}'`,w="";return a&&v&&!p&&q2.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${_Y}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var kY=e=>{switch(e){case"success":return AY;case"info":return TY;case"warning":return OY;case"error":return DY;default:return null}},EY=Array(12).fill(0),PY=({visible:e,className:t})=>O.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},O.createElement("div",{className:"sonner-spinner"},EY.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),AY=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OY=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TY=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DY=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),RY=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MY=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},JN=1,$Y=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:JN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],O.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(LY(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||JN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gs=new $Y,IY=(e,t)=>{let r=(t==null?void 0:t.id)||JN++;return gs.addToast({title:e,...t,id:r}),r},LY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FY=IY,UY=()=>gs.toasts,BY=()=>gs.getActiveToasts();Object.assign(FY,{success:gs.success,info:gs.info,warning:gs.warning,error:gs.error,custom:gs.custom,message:gs.message,promise:gs.promise,dismiss:gs.dismiss,loading:gs.loading},{getHistory:UY,getToasts:BY});function zY(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}zY(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qv(e){return e.label!==void 0}var VY=3,qY="32px",WY="16px",W2=4e3,HY=356,KY=14,GY=20,YY=200;function Oa(...e){return e.filter(Boolean).join(" ")}function XY(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var QY=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:j,removeToast:N,defaultRichColors:S,closeButton:k,style:C,cancelButtonStyle:P,actionButtonStyle:A,className:E="",descriptionClassName:R="",duration:$,position:B,gap:F,loadingIcon:L,expandByDefault:D,classNames:T,icons:U,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:K}=e,[oe,W]=O.useState(null),[fe,Se]=O.useState(null),[ue,Oe]=O.useState(!1),[se,ge]=O.useState(!1),[je,J]=O.useState(!1),[at,qe]=O.useState(!1),[Lt,vt]=O.useState(!1),[Ft,Vt]=O.useState(0),[Rr,z]=O.useState(0),Y=O.useRef(m.duration||$||W2),ee=O.useRef(null),be=O.useRef(null),Ne=w===0,ve=w+1<=b,ke=m.type,ut=m.dismissible!==!1,kt=m.className||"",Nn=m.descriptionClassName||"",qn=O.useMemo(()=>x.findIndex(it=>it.toastId===m.id)||0,[x,m.id]),cs=O.useMemo(()=>{var it;return(it=m.closeButton)!=null?it:k},[m.closeButton,k]),Uo=O.useMemo(()=>m.duration||$||W2,[m.duration,$]),Ea=O.useRef(0),us=O.useRef(0),Bo=O.useRef(0),na=O.useRef(null),[Gu,Yu]=B.split("-"),hc=O.useMemo(()=>x.reduce((it,qt,ar)=>ar>=qn?it:it+qt.height,0),[x,qn]),bv=MY(),Wh=m.invert||h,sa=ke==="loading";us.current=O.useMemo(()=>qn*F+hc,[qn,hc]),O.useEffect(()=>{Y.current=Uo},[Uo]),O.useEffect(()=>{Oe(!0)},[]),O.useEffect(()=>{let it=be.current;if(it){let qt=it.getBoundingClientRect().height;return z(qt),v(ar=>[{toastId:m.id,height:qt,position:m.position},...ar]),()=>v(ar=>ar.filter(ds=>ds.toastId!==m.id))}},[v,m.id]),O.useLayoutEffect(()=>{if(!ue)return;let it=be.current,qt=it.style.height;it.style.height="auto";let ar=it.getBoundingClientRect().height;it.style.height=qt,z(ar),v(ds=>ds.find(fs=>fs.toastId===m.id)?ds.map(fs=>fs.toastId===m.id?{...fs,height:ar}:fs):[{toastId:m.id,height:ar,position:m.position},...ds])},[ue,m.title,m.description,v,m.id]);let fi=O.useCallback(()=>{ge(!0),Vt(us.current),v(it=>it.filter(qt=>qt.toastId!==m.id)),setTimeout(()=>{N(m)},YY)},[m,N,v,us]);O.useEffect(()=>{if(m.promise&&ke==="loading"||m.duration===1/0||m.type==="loading")return;let it;return j||p||K&&bv?(()=>{if(Bo.current<Ea.current){let qt=new Date().getTime()-Ea.current;Y.current=Y.current-qt}Bo.current=new Date().getTime()})():Y.current!==1/0&&(Ea.current=new Date().getTime(),it=setTimeout(()=>{var qt;(qt=m.onAutoClose)==null||qt.call(m,m),fi()},Y.current)),()=>clearTimeout(it)},[j,p,m,ke,K,bv,fi]),O.useEffect(()=>{m.delete&&fi()},[fi,m.delete]);function Pa(){var it,qt,ar;return U!=null&&U.loading?O.createElement("div",{className:Oa(T==null?void 0:T.loader,(it=m==null?void 0:m.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":ke==="loading"},U.loading):L?O.createElement("div",{className:Oa(T==null?void 0:T.loader,(qt=m==null?void 0:m.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":ke==="loading"},L):O.createElement(PY,{className:Oa(T==null?void 0:T.loader,(ar=m==null?void 0:m.classNames)==null?void 0:ar.loader),visible:ke==="loading"})}return O.createElement("li",{tabIndex:0,ref:be,className:Oa(E,kt,T==null?void 0:T.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[ke],(r=m==null?void 0:m.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ue,"data-promise":!!m.promise,"data-swiped":Lt,"data-removed":se,"data-visible":ve,"data-y-position":Gu,"data-x-position":Yu,"data-index":w,"data-front":Ne,"data-swiping":je,"data-dismissible":ut,"data-type":ke,"data-invert":Wh,"data-swipe-out":at,"data-swipe-direction":fe,"data-expanded":!!(j||D&&ue),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${se?Ft:us.current}px`,"--initial-height":D?"auto":`${Rr}px`,...C,...m.style},onDragEnd:()=>{J(!1),W(null),na.current=null},onPointerDown:it=>{sa||!ut||(ee.current=new Date,Vt(us.current),it.target.setPointerCapture(it.pointerId),it.target.tagName!=="BUTTON"&&(J(!0),na.current={x:it.clientX,y:it.clientY}))},onPointerUp:()=>{var it,qt,ar,ds;if(at||!ut)return;na.current=null;let fs=Number(((it=be.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),aa=Number(((qt=be.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hi=new Date().getTime()-((ar=ee.current)==null?void 0:ar.getTime()),Ts=oe==="x"?fs:aa,Ds=Math.abs(Ts)/hi;if(Math.abs(Ts)>=GY||Ds>.11){Vt(us.current),(ds=m.onDismiss)==null||ds.call(m,m),Se(oe==="x"?fs>0?"right":"left":aa>0?"down":"up"),fi(),qe(!0),vt(!1);return}J(!1),W(null)},onPointerMove:it=>{var qt,ar,ds,fs;if(!na.current||!ut||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;let aa=it.clientY-na.current.y,hi=it.clientX-na.current.x,Ts=(ar=e.swipeDirections)!=null?ar:XY(B);!oe&&(Math.abs(hi)>1||Math.abs(aa)>1)&&W(Math.abs(hi)>Math.abs(aa)?"x":"y");let Ds={x:0,y:0};oe==="y"?(Ts.includes("top")||Ts.includes("bottom"))&&(Ts.includes("top")&&aa<0||Ts.includes("bottom")&&aa>0)&&(Ds.y=aa):oe==="x"&&(Ts.includes("left")||Ts.includes("right"))&&(Ts.includes("left")&&hi<0||Ts.includes("right")&&hi>0)&&(Ds.x=hi),(Math.abs(Ds.x)>0||Math.abs(Ds.y)>0)&&vt(!0),(ds=be.current)==null||ds.style.setProperty("--swipe-amount-x",`${Ds.x}px`),(fs=be.current)==null||fs.style.setProperty("--swipe-amount-y",`${Ds.y}px`)}},cs&&!m.jsx?O.createElement("button",{"aria-label":Q,"data-disabled":sa,"data-close-button":!0,onClick:sa||!ut?()=>{}:()=>{var it;fi(),(it=m.onDismiss)==null||it.call(m,m)},className:Oa(T==null?void 0:T.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=U==null?void 0:U.close)!=null?i:RY):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:O.createElement(O.Fragment,null,ke||m.icon||m.promise?O.createElement("div",{"data-icon":"",className:Oa(T==null?void 0:T.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pa():null,m.type!=="loading"?m.icon||(U==null?void 0:U[ke])||kY(ke):null):null,O.createElement("div",{"data-content":"",className:Oa(T==null?void 0:T.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},O.createElement("div",{"data-title":"",className:Oa(T==null?void 0:T.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?O.createElement("div",{"data-description":"",className:Oa(R,Nn,T==null?void 0:T.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&qv(m.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:it=>{var qt,ar;qv(m.cancel)&&ut&&((ar=(qt=m.cancel).onClick)==null||ar.call(qt,it),fi())},className:Oa(T==null?void 0:T.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&qv(m.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:it=>{var qt,ar;qv(m.action)&&((ar=(qt=m.action).onClick)==null||ar.call(qt,it),!it.defaultPrevented&&fi())},className:Oa(T==null?void 0:T.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function H2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ZY(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?WY:qY;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var JY=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=VY,toastOptions:p,dir:v=H2(),gap:b=KY,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[N,S]=O.useState([]),k=O.useMemo(()=>Array.from(new Set([n].concat(N.filter(K=>K.position).map(K=>K.position)))),[N,n]),[C,P]=O.useState([]),[A,E]=O.useState(!1),[R,$]=O.useState(!1),[B,F]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=O.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=O.useRef(null),U=O.useRef(!1),Q=O.useCallback(K=>{S(oe=>{var W;return(W=oe.find(fe=>fe.id===K.id))!=null&&W.delete||gs.dismiss(K.id),oe.filter(({id:fe})=>fe!==K.id)})},[]);return O.useEffect(()=>gs.subscribe(K=>{if(K.dismiss){S(oe=>oe.map(W=>W.id===K.id?{...W,delete:!0}:W));return}setTimeout(()=>{WL.flushSync(()=>{S(oe=>{let W=oe.findIndex(fe=>fe.id===K.id);return W!==-1?[...oe.slice(0,W),{...oe[W],...K},...oe.slice(W+1)]:[K,...oe]})})})}),[]),O.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:oe})=>{F(oe?"dark":"light")})}catch{K.addListener(({matches:W})=>{try{F(W?"dark":"light")}catch(fe){console.error(fe)}})}},[d]),O.useEffect(()=>{N.length<=1&&E(!1)},[N]),O.useEffect(()=>{let K=oe=>{var W,fe;a.every(Se=>oe[Se]||oe.code===Se)&&(E(!0),(W=L.current)==null||W.focus()),oe.code==="Escape"&&(document.activeElement===L.current||(fe=L.current)!=null&&fe.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[a]),O.useEffect(()=>{if(L.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,U.current=!1)}},[L.current]),O.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((K,oe)=>{var W;let[fe,Se]=K.split("-");return N.length?O.createElement("ol",{key:K,dir:v==="auto"?H2():v,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":fe,"data-lifted":A&&N.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((W=C[0])==null?void 0:W.height)||0}px`,"--width":`${HY}px`,"--gap":`${b}px`,...m,...ZY(c,u)},onBlur:ue=>{U.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(U.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||U.current||(U.current=!0,T.current=ue.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{R||E(!1)},onDragEnd:()=>E(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(ue=>!ue.position&&oe===0||ue.position===K).map((ue,Oe)=>{var se,ge;return O.createElement(QY,{key:ue.id,icons:w,index:Oe,toast:ue,defaultRichColors:f,duration:(se=p==null?void 0:p.duration)!=null?se:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ge=p==null?void 0:p.closeButton)!=null?ge:o,interacting:R,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Q,toasts:N.filter(je=>je.position==ue.position),heights:C.filter(je=>je.position==ue.position),setHeights:P,expandByDefault:i,gap:b,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const eX=({...e})=>{const{theme:t="system"}=CY();return s.jsx(JY,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var tX=DC[" useId ".trim().toString()]||(()=>{}),rX=0;function Ns(e){const[t,r]=y.useState(tX());return zr(()=>{r(n=>n??String(rX++))},[e]),t?`radix-${t}`:""}const nX=["top","right","bottom","left"],Kl=Math.min,zs=Math.max,wx=Math.round,Wv=Math.floor,Ci=e=>({x:e,y:e}),sX={left:"right",right:"left",bottom:"top",top:"bottom"},aX={start:"end",end:"start"};function e1(e,t,r){return zs(e,Kl(t,r))}function _o(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function gh(e){return e.split("-")[1]}function Dk(e){return e==="x"?"y":"x"}function Rk(e){return e==="y"?"height":"width"}const iX=new Set(["top","bottom"]);function wi(e){return iX.has(No(e))?"y":"x"}function Mk(e){return Dk(wi(e))}function oX(e,t,r){r===void 0&&(r=!1);const n=gh(e),a=Mk(e),i=Rk(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=jx(o)),[o,jx(o)]}function lX(e){const t=jx(e);return[t1(e),t,t1(t)]}function t1(e){return e.replace(/start|end/g,t=>aX[t])}const K2=["left","right"],G2=["right","left"],cX=["top","bottom"],uX=["bottom","top"];function dX(e,t,r){switch(e){case"top":case"bottom":return r?t?G2:K2:t?K2:G2;case"left":case"right":return t?cX:uX;default:return[]}}function fX(e,t,r,n){const a=gh(e);let i=dX(No(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(t1)))),i}function jx(e){return e.replace(/left|right|bottom|top/g,t=>sX[t])}function hX(e){return{top:0,right:0,bottom:0,left:0,...e}}function HF(e){return typeof e!="number"?hX(e):{top:e,right:e,bottom:e,left:e}}function _x(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Y2(e,t,r){let{reference:n,floating:a}=e;const i=wi(t),o=Mk(t),l=Rk(o),c=No(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(gh(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const mX=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Y2(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x,y:w,data:_,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],..._}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=Y2(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Op(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=_o(t,e),g=HF(m),v=l[h?f==="floating"?"reference":"floating":f],b=_x(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=_x(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const pX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_o(e,t)||{};if(u==null)return{};const f=HF(d),h={x:r,y:n},m=Mk(a),g=Rk(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=S/2-p[g]/2-1,P=Kl(f[b],C),A=Kl(f[x],C),E=P,R=S-p[g]-A,$=S/2-p[g]/2+k,B=e1(E,$,R),F=!c.arrow&&gh(a)!=null&&$!==B&&i.reference[g]/2-($<E?P:A)-p[g]/2<0,L=F?$<E?$-E:$-R:0;return{[m]:h[m]+L,data:{[m]:B,centerOffset:$-B-L,...F&&{alignmentOffset:L}},reset:F}}}),gX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=_o(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=No(a),x=wi(l),w=No(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[jx(l)]:lX(l)),N=g!=="none";!h&&N&&j.push(...fX(l,p,g,_));const S=[l,...j],k=await Op(t,v),C=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const $=oX(a,o,_);C.push(k[$[0]],k[$[1]])}if(P=[...P,{placement:a,overflows:C}],!C.every($=>$<=0)){var A,E;const $=(((A=i.flip)==null?void 0:A.index)||0)+1,B=S[$];if(B&&(!(f==="alignment"?x!==wi(B):!1)||P.every(D=>D.overflows[0]>0&&wi(D.placement)===x)))return{data:{index:$,overflows:P},reset:{placement:B}};let F=(E=P.filter(L=>L.overflows[0]<=0).sort((L,D)=>L.overflows[1]-D.overflows[1])[0])==null?void 0:E.placement;if(!F)switch(m){case"bestFit":{var R;const L=(R=P.filter(D=>{if(N){const T=wi(D.placement);return T===x||T==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(T=>T>0).reduce((T,U)=>T+U,0)]).sort((D,T)=>D[1]-T[1])[0])==null?void 0:R[0];L&&(F=L);break}case"initialPlacement":F=l;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function X2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q2(e){return nX.some(t=>e[t]>=0)}const vX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=_o(e,t);switch(n){case"referenceHidden":{const i=await Op(t,{...a,elementContext:"reference"}),o=X2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q2(o)}}}case"escaped":{const i=await Op(t,{...a,altBoundary:!0}),o=X2(i,r.floating);return{data:{escapedOffsets:o,escaped:Q2(o)}}}default:return{}}}}},KF=new Set(["left","top"]);async function yX(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=No(r),l=gh(r),c=wi(r)==="y",u=KF.has(o)?-1:1,d=i&&c?-1:1,f=_o(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const xX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await yX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},bX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=_o(e,t),u={x:r,y:n},d=await Op(t,c),f=wi(No(a)),h=Dk(f);let m=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=e1(x,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=e1(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},wX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_o(e,t),d={x:r,y:n},f=wi(a),h=Dk(f);let m=d[h],g=d[f];const p=_o(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,j=i.reference[h]+i.reference[w]-v.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,x;const w=h==="y"?"width":"height",_=KF.has(No(a)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[h]:m,[f]:g}}}},jX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_o(e,t),d=await Op(t,u),f=No(a),h=gh(a),m=wi(a)==="y",{width:g,height:p}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,_=Kl(p-d[v],x),j=Kl(g-d[b],w),N=!t.middlewareData.shift;let S=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=x),N&&!h){const P=zs(d.left,0),A=zs(d.right,0),E=zs(d.top,0),R=zs(d.bottom,0);m?k=g-2*(P!==0||A!==0?P+A:zs(d.left,d.right)):S=p-2*(E!==0||R!==0?E+R:zs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function _0(){return typeof window<"u"}function vh(e){return GF(e)?(e.nodeName||"").toLowerCase():"#document"}function Ks(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ui(e){var t;return(t=(GF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function GF(e){return _0()?e instanceof Node||e instanceof Ks(e).Node:!1}function Za(e){return _0()?e instanceof Element||e instanceof Ks(e).Element:!1}function Ti(e){return _0()?e instanceof HTMLElement||e instanceof Ks(e).HTMLElement:!1}function Z2(e){return!_0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ks(e).ShadowRoot}const _X=new Set(["inline","contents"]);function zg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ja(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_X.has(a)}const NX=new Set(["table","td","th"]);function SX(e){return NX.has(vh(e))}const CX=[":popover-open",":modal"];function N0(e){return CX.some(t=>{try{return e.matches(t)}catch{return!1}})}const kX=["transform","translate","scale","rotate","perspective"],EX=["transform","translate","scale","rotate","perspective","filter"],PX=["paint","layout","strict","content"];function $k(e){const t=Ik(),r=Za(e)?Ja(e):e;return kX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||EX.some(n=>(r.willChange||"").includes(n))||PX.some(n=>(r.contain||"").includes(n))}function AX(e){let t=Gl(e);for(;Ti(t)&&!wf(t);){if($k(t))return t;if(N0(t))return null;t=Gl(t)}return null}function Ik(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OX=new Set(["html","body","#document"]);function wf(e){return OX.has(vh(e))}function Ja(e){return Ks(e).getComputedStyle(e)}function S0(e){return Za(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gl(e){if(vh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z2(e)&&e.host||Ui(e);return Z2(t)?t.host:t}function YF(e){const t=Gl(e);return wf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ti(t)&&zg(t)?t:YF(t)}function Tp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=YF(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ks(a);if(i){const l=r1(o);return t.concat(o,o.visualViewport||[],zg(a)?a:[],l&&r?Tp(l):[])}return t.concat(a,Tp(a,[],r))}function r1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XF(e){const t=Ja(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ti(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=wx(r)!==i||wx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Lk(e){return Za(e)?e:e.contextElement}function Wd(e){const t=Lk(e);if(!Ti(t))return Ci(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=XF(t);let o=(i?wx(r.width):r.width)/n,l=(i?wx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TX=Ci(0);function QF(e){const t=Ks(e);return!Ik()||!t.visualViewport?TX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ks(e)?!1:t}function gu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Lk(e);let o=Ci(1);t&&(n?Za(n)&&(o=Wd(n)):o=Wd(e));const l=DX(i,r,n)?QF(i):Ci(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Ks(i),m=n&&Za(n)?Ks(n):n;let g=h,p=r1(g);for(;p&&n&&m!==g;){const v=Wd(p),b=p.getBoundingClientRect(),x=Ja(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Ks(p),p=r1(g)}}return _x({width:d,height:f,x:c,y:u})}function Fk(e,t){const r=S0(e).scrollLeft;return t?t.left+r:gu(Ui(e)).left+r}function ZF(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Fk(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function RX(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ui(n),l=t?N0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const d=Ci(0),f=Ti(n);if((f||!f&&!i)&&((vh(n)!=="body"||zg(o))&&(c=S0(n)),Ti(n))){const m=gu(n);u=Wd(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?ZF(o,c,!0):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function MX(e){return Array.from(e.getClientRects())}function $X(e){const t=Ui(e),r=S0(e),n=e.ownerDocument.body,a=zs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=zs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Fk(e);const l=-r.scrollTop;return Ja(n).direction==="rtl"&&(o+=zs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function IX(e,t){const r=Ks(e),n=Ui(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Ik();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const LX=new Set(["absolute","fixed"]);function FX(e,t){const r=gu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ti(e)?Wd(e):Ci(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function J2(e,t,r){let n;if(t==="viewport")n=IX(e,r);else if(t==="document")n=$X(Ui(e));else if(Za(t))n=FX(t,r);else{const a=QF(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return _x(n)}function JF(e,t){const r=Gl(e);return r===t||!Za(r)||wf(r)?!1:Ja(r).position==="fixed"||JF(r,t)}function UX(e,t){const r=t.get(e);if(r)return r;let n=Tp(e,[],!1).filter(l=>Za(l)&&vh(l)!=="body"),a=null;const i=Ja(e).position==="fixed";let o=i?Gl(e):e;for(;Za(o)&&!wf(o);){const l=Ja(o),c=$k(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&LX.has(a.position)||zg(o)&&!c&&JF(e,o))?n=n.filter(d=>d!==o):a=l,o=Gl(o)}return t.set(e,n),n}function BX(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?N0(t)?[]:UX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=J2(t,d,a);return u.top=zs(f.top,u.top),u.right=Kl(f.right,u.right),u.bottom=Kl(f.bottom,u.bottom),u.left=zs(f.left,u.left),u},J2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zX(e){const{width:t,height:r}=XF(e);return{width:t,height:r}}function VX(e,t,r){const n=Ti(t),a=Ui(t),i=r==="fixed",o=gu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=Fk(a)}if(n||!n&&!i)if((vh(t)!=="body"||zg(a))&&(l=S0(t)),n){const m=gu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?ZF(a,l):Ci(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Hj(e){return Ja(e).position==="static"}function eO(e,t){if(!Ti(e)||Ja(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ui(e)===r&&(r=r.ownerDocument.body),r}function e3(e,t){const r=Ks(e);if(N0(e))return r;if(!Ti(e)){let a=Gl(e);for(;a&&!wf(a);){if(Za(a)&&!Hj(a))return a;a=Gl(a)}return r}let n=eO(e,t);for(;n&&SX(n)&&Hj(n);)n=eO(n,t);return n&&wf(n)&&Hj(n)&&!$k(n)?r:n||AX(e)||r}const qX=async function(e){const t=this.getOffsetParent||e3,r=this.getDimensions,n=await r(e.floating);return{reference:VX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WX(e){return Ja(e).direction==="rtl"}const HX={convertOffsetParentRelativeRectToViewportRelativeRect:RX,getDocumentElement:Ui,getClippingRect:BX,getOffsetParent:e3,getElementRects:qX,getClientRects:MX,getDimensions:zX,getScale:Wd,isElement:Za,isRTL:WX};function t3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function KX(e,t){let r=null,n;const a=Ui(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Wv(f),p=Wv(a.clientWidth-(d+h)),v=Wv(a.clientHeight-(f+m)),b=Wv(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-b+"px",threshold:zs(0,Kl(1,c))||1};let _=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!t3(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function GX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Lk(e),d=a||i?[...u?Tp(u):[],...Tp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?KX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?gu(e):null;c&&v();function v(){const b=gu(e);p&&!t3(p,b)&&r(),p=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const YX=xX,XX=bX,QX=gX,ZX=jX,JX=vX,tO=pX,eQ=wX,tQ=(e,t,r)=>{const n=new Map,a={platform:HX,...r},i={...a.platform,_c:n};return mX(e,t,{...a,platform:i})};var rQ=typeof document<"u",nQ=function(){},My=rQ?y.useLayoutEffect:nQ;function Nx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Nx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Nx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function r3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rO(e,t){const r=r3(e);return Math.round(t*r)/r}function Kj(e){const t=y.useRef(e);return My(()=>{t.current=e}),t}function sQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);Nx(h,n)||m(n);const[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(D=>{D!==N.current&&(N.current=D,p(D))},[]),w=y.useCallback(D=>{D!==S.current&&(S.current=D,b(D))},[]),_=i||g,j=o||v,N=y.useRef(null),S=y.useRef(null),k=y.useRef(d),C=c!=null,P=Kj(c),A=Kj(a),E=Kj(u),R=y.useCallback(()=>{if(!N.current||!S.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),tQ(N.current,S.current,D).then(T=>{const U={...T,isPositioned:E.current!==!1};$.current&&!Nx(k.current,U)&&(k.current=U,Mu.flushSync(()=>{f(U)}))})},[h,t,r,A,E]);My(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const $=y.useRef(!1);My(()=>($.current=!0,()=>{$.current=!1}),[]),My(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(P.current)return P.current(_,j,R);R()}},[_,j,R,P,C]);const B=y.useMemo(()=>({reference:N,floating:S,setReference:x,setFloating:w}),[x,w]),F=y.useMemo(()=>({reference:_,floating:j}),[_,j]),L=y.useMemo(()=>{const D={position:r,left:0,top:0};if(!F.floating)return D;const T=rO(F.floating,d.x),U=rO(F.floating,d.y);return l?{...D,transform:"translate("+T+"px, "+U+"px)",...r3(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:U}},[r,l,F.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:R,refs:B,elements:F,floatingStyles:L}),[d,R,B,F,L])}const aQ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?tO({element:n.current,padding:a}).fn(r):{}:n?tO({element:n,padding:a}).fn(r):{}}}},iQ=(e,t)=>({...YX(e),options:[e,t]}),oQ=(e,t)=>({...XX(e),options:[e,t]}),lQ=(e,t)=>({...eQ(e),options:[e,t]}),cQ=(e,t)=>({...QX(e),options:[e,t]}),uQ=(e,t)=>({...ZX(e),options:[e,t]}),dQ=(e,t)=>({...JX(e),options:[e,t]}),fQ=(e,t)=>({...aQ(e),options:[e,t]});var hQ="Arrow",n3=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ce.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});n3.displayName=hQ;var mQ=n3;function Vg(e){const[t,r]=y.useState(void 0);return zr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Uk="Popper",[s3,tc]=Vr(Uk),[pQ,a3]=s3(Uk),i3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(pQ,{scope:t,anchor:n,onAnchorChange:a,children:r})};i3.displayName=Uk;var o3="PopperAnchor",l3=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=a3(o3,r),o=y.useRef(null),l=He(t,o);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ce.div,{...a,ref:l})});l3.displayName=o3;var Bk="PopperContent",[gQ,vQ]=s3(Bk),c3=y.forwardRef((e,t)=>{var ue,Oe,se,ge,je,J;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=a3(Bk,r),[b,x]=y.useState(null),w=He(t,at=>x(at)),[_,j]=y.useState(null),N=Vg(_),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],E=A.length>0,R={padding:P,boundary:A.filter(xQ),altBoundary:E},{refs:$,floatingStyles:B,placement:F,isPositioned:L,middlewareData:D}=sQ({strategy:"fixed",placement:C,whileElementsMounted:(...at)=>GX(...at,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[iQ({mainAxis:a+k,alignmentAxis:o}),c&&oQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lQ():void 0,...R}),c&&cQ({...R}),uQ({...R,apply:({elements:at,rects:qe,availableWidth:Lt,availableHeight:vt})=>{const{width:Ft,height:Vt}=qe.reference,Rr=at.floating.style;Rr.setProperty("--radix-popper-available-width",`${Lt}px`),Rr.setProperty("--radix-popper-available-height",`${vt}px`),Rr.setProperty("--radix-popper-anchor-width",`${Ft}px`),Rr.setProperty("--radix-popper-anchor-height",`${Vt}px`)}}),_&&fQ({element:_,padding:l}),bQ({arrowWidth:S,arrowHeight:k}),h&&dQ({strategy:"referenceHidden",...R})]}),[T,U]=f3(F),Q=Br(g);zr(()=>{L&&(Q==null||Q())},[L,Q]);const K=(ue=D.arrow)==null?void 0:ue.x,oe=(Oe=D.arrow)==null?void 0:Oe.y,W=((se=D.arrow)==null?void 0:se.centerOffset)!==0,[fe,Se]=y.useState();return zr(()=>{b&&Se(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ge=D.transformOrigin)==null?void 0:ge.x,(je=D.transformOrigin)==null?void 0:je.y].join(" "),...((J=D.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(gQ,{scope:r,placedSide:T,onArrowChange:j,arrowX:K,arrowY:oe,shouldHideArrow:W,children:s.jsx(Ce.div,{"data-side":T,"data-align":U,...p,ref:w,style:{...p.style,animation:L?void 0:"none"}})})})});c3.displayName=Bk;var u3="PopperArrow",yQ={top:"bottom",right:"left",bottom:"top",left:"right"},d3=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=vQ(u3,n),o=yQ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(mQ,{...a,ref:r,style:{...a.style,display:"block"}})})});d3.displayName=u3;function xQ(e){return e!==null}var bQ=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=f3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function f3(e){const[t,r="center"]=e.split("-");return[t,r]}var C0=i3,qg=l3,k0=c3,E0=d3,[P0,T3e]=Vr("Tooltip",[tc]),A0=tc(),h3="TooltipProvider",wQ=700,n1="tooltip.open",[jQ,zk]=P0(h3),m3=e=>{const{__scopeTooltip:t,delayDuration:r=wQ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(jQ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};m3.displayName=h3;var Dp="Tooltip",[_Q,O0]=P0(Dp),p3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=zk(Dp,e.__scopeTooltip),u=A0(t),[d,f]=y.useState(null),h=Ns(),m=y.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,v=y.useRef(!1),[b,x]=Vn({prop:n,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(n1))):c.onClose(),i==null||i(S)},caller:Dp}),w=y.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),_=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,x(!0)},[x]),j=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),N=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,x(!0),m.current=0},p)},[p,x]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(C0,{...u,children:s.jsx(_Q,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayedRef.current?N():_()},[c.isOpenDelayedRef,N,_]),onTriggerLeave:y.useCallback(()=>{g?j():(window.clearTimeout(m.current),m.current=0)},[j,g]),onOpen:_,onClose:j,disableHoverableContent:g,children:r})})};p3.displayName=Dp;var s1="TooltipTrigger",g3=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=O0(s1,r),i=zk(s1,r),o=A0(r),l=y.useRef(null),c=He(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(qg,{asChild:!0,...o,children:s.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:me(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:me(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:me(e.onBlur,a.onClose),onClick:me(e.onClick,a.onClose)})})});g3.displayName=s1;var NQ="TooltipPortal",[D3e,SQ]=P0(NQ,{forceMount:void 0}),jf="TooltipContent",v3=y.forwardRef((e,t)=>{const r=SQ(jf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=O0(jf,e.__scopeTooltip);return s.jsx(tn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(y3,{side:a,...i,ref:t}):s.jsx(CQ,{side:a,...i,ref:t})})}),CQ=y.forwardRef((e,t)=>{const r=O0(jf,e.__scopeTooltip),n=zk(jf,e.__scopeTooltip),a=y.useRef(null),i=He(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=OQ(b,v.getBoundingClientRect()),w=TQ(b,x),_=DQ(p.getBoundingClientRect()),j=MQ([...w,..._]);l(j),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!RQ(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),s.jsx(y3,{...e,ref:i})}),[kQ,EQ]=P0(Dp,{isInside:!1}),PQ=YL("TooltipContent"),y3=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=O0(jf,r),u=A0(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(n1,d),()=>document.removeEventListener(n1,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx($u,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(k0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(PQ,{children:n}),s.jsx(kQ,{scope:r,isInside:!0,children:s.jsx(sG,{id:c.contentId,role:"tooltip",children:a||n})})]})})});v3.displayName=jf;var x3="TooltipArrow",AQ=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=A0(r);return EQ(x3,r).isInside?null:s.jsx(E0,{...a,...n,ref:t})});AQ.displayName=x3;function OQ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function TQ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function DQ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function RQ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function MQ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$Q(t)}function $Q(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var IQ=m3,LQ=p3,FQ=g3,b3=v3;const UQ=IQ,w3=LQ,j3=FQ,Vk=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(b3,{ref:n,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Vk.displayName=b3.displayName;var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vu=typeof window>"u"||"Deno"in globalThis;function Yn(){}function BQ(e,t){return typeof e=="function"?e(t):e}function a1(e){return typeof e=="number"&&e>=0&&e!==1/0}function _3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rl(e,t){return typeof e=="function"?e(t):e}function da(e,t){return typeof e=="function"?e(t):e}function nO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==qk(o,t.options))return!1}else if(!Rp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function sO(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(yu(t.options.mutationKey)!==yu(i))return!1}else if(!Rp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function qk(e,t){return((t==null?void 0:t.queryKeyHashFn)||yu)(e)}function yu(e){return JSON.stringify(e,(t,r)=>i1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Rp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rp(e[r],t[r])):!1}function N3(e,t){if(e===t)return e;const r=aO(e)&&aO(t);if(r||i1(e)&&i1(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=N3(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Sx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function aO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i1(e){if(!iO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iO(e){return Object.prototype.toString.call(e)==="[object Object]"}function zQ(e){return new Promise(t=>{setTimeout(t,e)})}function o1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?N3(e,t):t}function VQ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qQ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Wk=Symbol();function S3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C3(e,t){return typeof e=="function"?e(...t):!!e}var Bc,fl,Jd,_$,WQ=(_$=class extends yh{constructor(){super();Ke(this,Bc);Ke(this,fl);Ke(this,Jd);Pe(this,Jd,t=>{if(!vu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){q(this,fl)||this.setEventListener(q(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,fl))==null||t.call(this),Pe(this,fl,void 0))}setEventListener(t){var r;Pe(this,Jd,t),(r=q(this,fl))==null||r.call(this),Pe(this,fl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Bc)!==t&&(Pe(this,Bc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof q(this,Bc)=="boolean"?q(this,Bc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bc=new WeakMap,fl=new WeakMap,Jd=new WeakMap,_$),Hk=new WQ,ef,hl,tf,N$,HQ=(N$=class extends yh{constructor(){super();Ke(this,ef,!0);Ke(this,hl);Ke(this,tf);Pe(this,tf,t=>{if(!vu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,hl)||this.setEventListener(q(this,tf))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,hl))==null||t.call(this),Pe(this,hl,void 0))}setEventListener(t){var r;Pe(this,tf,t),(r=q(this,hl))==null||r.call(this),Pe(this,hl,t(this.setOnline.bind(this)))}setOnline(t){q(this,ef)!==t&&(Pe(this,ef,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return q(this,ef)}},ef=new WeakMap,hl=new WeakMap,tf=new WeakMap,N$),Cx=new HQ;function l1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function KQ(e){return Math.min(1e3*2**e,3e4)}function k3(e){return(e??"online")==="online"?Cx.isOnline():!0}var E3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Gj(e){return e instanceof E3}function P3(e){let t=!1,r=0,n=!1,a;const i=l1(),o=p=>{var v;n||(h(new E3(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Hk.isFocused()&&(e.networkMode==="always"||Cx.isOnline())&&e.canRun(),d=()=>k3(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var v;a=b=>{(n||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var N;if(n)return;const x=e.retry??(vu?0:3),w=e.retryDelay??KQ,_=typeof w=="function"?w(r,b):w,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!j){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),zQ(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),i)}}var GQ=e=>setTimeout(e,0);function YQ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=GQ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var cn=YQ(),zc,S$,A3=(S$=class{constructor(){Ke(this,zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a1(this.gcTime)&&Pe(this,zc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vu?1/0:5*60*1e3))}clearGcTimeout(){q(this,zc)&&(clearTimeout(q(this,zc)),Pe(this,zc,void 0))}},zc=new WeakMap,S$),rf,Vc,ua,qc,$n,Og,Wc,$a,Qi,C$,XQ=(C$=class extends A3{constructor(t){super();Ke(this,$a);Ke(this,rf);Ke(this,Vc);Ke(this,ua);Ke(this,qc);Ke(this,$n);Ke(this,Og);Ke(this,Wc);Pe(this,Wc,!1),Pe(this,Og,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,qc,t.client),Pe(this,ua,q(this,qc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,rf,QQ(this.options)),this.state=t.state??q(this,rf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,$n))==null?void 0:t.promise}setOptions(t){this.options={...q(this,Og),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,ua).remove(this)}setData(t,r){const n=o1(this.state.data,t,this.options);return pt(this,$a,Qi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pt(this,$a,Qi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=q(this,$n))==null?void 0:n.promise;return(a=q(this,$n))==null||a.cancel(t),r?r.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,rf))}isActive(){return this.observers.some(t=>da(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Rl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!_3(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,$n))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,$n))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,$n)&&(q(this,Wc)?q(this,$n).cancel({revert:!0}):q(this,$n).cancelRetry()),this.scheduleGc()),q(this,ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,$a,Qi).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,$n))return q(this,$n).continueRetry(),q(this,$n).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Pe(this,Wc,!0),n.signal)})},i=()=>{const h=S3(this.options,r),g=(()=>{const p={client:q(this,qc),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Pe(this,Wc,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:q(this,qc),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Pe(this,Vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&pt(this,$a,Qi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;Gj(h)&&h.silent||pt(this,$a,Qi).call(this,{type:"error",error:h}),Gj(h)||((g=(m=q(this,ua).config).onError)==null||g.call(m,h,this),(v=(p=q(this,ua).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return Pe(this,$n,P3({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(g=(m=q(this,ua).config).onSuccess)==null||g.call(m,h,this),(v=(p=q(this,ua).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{pt(this,$a,Qi).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{pt(this,$a,Qi).call(this,{type:"pause"})},onContinue:()=>{pt(this,$a,Qi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),q(this,$n).start()}},rf=new WeakMap,Vc=new WeakMap,ua=new WeakMap,qc=new WeakMap,$n=new WeakMap,Og=new WeakMap,Wc=new WeakMap,$a=new WeakSet,Qi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...O3(n.data,this.options),fetchMeta:t.meta??null};case"success":return Pe(this,Vc,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Gj(a)&&a.revert&&q(this,Vc)?{...q(this,Vc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,ua).notify({query:this,type:"updated",action:t})})},C$);function O3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gi,k$,ZQ=(k$=class extends yh{constructor(t={}){super();Ke(this,gi);this.config=t,Pe(this,gi,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??qk(a,r);let o=this.get(i);return o||(o=new XQ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){q(this,gi).has(t.queryHash)||(q(this,gi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=q(this,gi).get(t.queryHash);r&&(t.destroy(),r===t&&q(this,gi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,gi).get(t)}getAll(){return[...q(this,gi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>nO(t,n)):r}notify(t){cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gi=new WeakMap,k$),vi,Wn,Hc,yi,Ko,E$,JQ=(E$=class extends A3{constructor(t){super();Ke(this,yi);Ke(this,vi);Ke(this,Wn);Ke(this,Hc);this.mutationId=t.mutationId,Pe(this,Wn,t.mutationCache),Pe(this,vi,[]),this.state=t.state||T3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,vi).includes(t)||(q(this,vi).push(t),this.clearGcTimeout(),q(this,Wn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,vi,q(this,vi).filter(r=>r!==t)),this.scheduleGc(),q(this,Wn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,vi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Wn).remove(this))}continue(){var t;return((t=q(this,Hc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,m,g,p,v,b,x,w,_,j,N,S,k;const r=()=>{pt(this,yi,Ko).call(this,{type:"continue"})};Pe(this,Hc,P3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{pt(this,yi,Ko).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{pt(this,yi,Ko).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Wn).canRun(this)}));const n=this.state.status==="pending",a=!q(this,Hc).canStart();try{if(n)r();else{pt(this,yi,Ko).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=q(this,Wn).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&pt(this,yi,Ko).call(this,{type:"pending",context:P,variables:t,isPaused:a})}const C=await q(this,Hc).start();return await((d=(u=q(this,Wn).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((g=(m=q(this,Wn).config).onSettled)==null?void 0:g.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,C,null,t,this.state.context)),pt(this,yi,Ko).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(b=q(this,Wn).config).onError)==null?void 0:x.call(b,C,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,C,t,this.state.context)),await((N=(j=q(this,Wn).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{pt(this,yi,Ko).call(this,{type:"error",error:C})}}finally{q(this,Wn).runNext(this)}}},vi=new WeakMap,Wn=new WeakMap,Hc=new WeakMap,yi=new WeakSet,Ko=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cn.batch(()=>{q(this,vi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Wn).notify({mutation:this,type:"updated",action:t})})},E$);function T3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ro,Ia,Tg,P$,eZ=(P$=class extends yh{constructor(t={}){super();Ke(this,ro);Ke(this,Ia);Ke(this,Tg);this.config=t,Pe(this,ro,new Set),Pe(this,Ia,new Map),Pe(this,Tg,0)}build(t,r,n){const a=new JQ({mutationCache:this,mutationId:++_v(this,Tg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){q(this,ro).add(t);const r=Hv(t);if(typeof r=="string"){const n=q(this,Ia).get(r);n?n.push(t):q(this,Ia).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,ro).delete(t)){const r=Hv(t);if(typeof r=="string"){const n=q(this,Ia).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&q(this,Ia).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Hv(t);if(typeof r=="string"){const n=q(this,Ia).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Hv(t);if(typeof r=="string"){const a=(n=q(this,Ia).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{q(this,ro).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,ro).clear(),q(this,Ia).clear()})}getAll(){return Array.from(q(this,ro))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sO(r,n))}findAll(t={}){return this.getAll().filter(r=>sO(t,r))}notify(t){cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return cn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Yn))))}},ro=new WeakMap,Ia=new WeakMap,Tg=new WeakMap,P$);function Hv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function oO(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=S3(t.options,t.fetchOptions),x=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return v(A),A})(),k=await b(S),{maxPages:C}=t.options,P=j?qQ:VQ;return{pages:P(w.pages,k,C),pageParams:P(w.pageParams,_,C)}};if(a&&i.length){const w=a==="backward",_=w?tZ:lO,j={pages:i,pageParams:o},N=_(n,j);l=await x(j,N,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:lO(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function lO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Mr,ml,pl,nf,sf,gl,af,of,A$,rZ=(A$=class{constructor(e={}){Ke(this,Mr);Ke(this,ml);Ke(this,pl);Ke(this,nf);Ke(this,sf);Ke(this,gl);Ke(this,af);Ke(this,of);Pe(this,Mr,e.queryCache||new ZQ),Pe(this,ml,e.mutationCache||new eZ),Pe(this,pl,e.defaultOptions||{}),Pe(this,nf,new Map),Pe(this,sf,new Map),Pe(this,gl,0)}mount(){_v(this,gl)._++,q(this,gl)===1&&(Pe(this,af,Hk.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Mr).onFocus())})),Pe(this,of,Cx.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,Mr).onOnline())})))}unmount(){var e,t;_v(this,gl)._--,q(this,gl)===0&&((e=q(this,af))==null||e.call(this),Pe(this,af,void 0),(t=q(this,of))==null||t.call(this),Pe(this,of,void 0))}isFetching(e){return q(this,Mr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,ml).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Mr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=q(this,Mr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Rl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return q(this,Mr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=q(this,Mr).get(n.queryHash),i=a==null?void 0:a.state.data,o=BQ(t,i);if(o!==void 0)return q(this,Mr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return cn.batch(()=>q(this,Mr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,Mr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=q(this,Mr);cn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=q(this,Mr);return cn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=cn.batch(()=>q(this,Mr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Yn).catch(Yn)}invalidateQueries(e,t={}){return cn.batch(()=>(q(this,Mr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=cn.batch(()=>q(this,Mr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Yn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Yn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=q(this,Mr).build(this,t);return r.isStaleByTime(Rl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yn).catch(Yn)}fetchInfiniteQuery(e){return e.behavior=oO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yn).catch(Yn)}ensureInfiniteQueryData(e){return e.behavior=oO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cx.isOnline()?q(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Mr)}getMutationCache(){return q(this,ml)}getDefaultOptions(){return q(this,pl)}setDefaultOptions(e){Pe(this,pl,e)}setQueryDefaults(e,t){q(this,nf).set(yu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,nf).values()],r={};return t.forEach(n=>{Rp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){q(this,sf).set(yu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,sf).values()],r={};return t.forEach(n=>{Rp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,pl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Wk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,pl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,Mr).clear(),q(this,ml).clear()}},Mr=new WeakMap,ml=new WeakMap,pl=new WeakMap,nf=new WeakMap,sf=new WeakMap,gl=new WeakMap,af=new WeakMap,of=new WeakMap,A$),hs,Rt,Dg,Hn,Kc,lf,vl,yl,Rg,cf,uf,Gc,Yc,xl,df,Zt,Tm,c1,u1,d1,f1,h1,m1,p1,D3,O$,nZ=(O$=class extends yh{constructor(t,r){super();Ke(this,Zt);Ke(this,hs);Ke(this,Rt);Ke(this,Dg);Ke(this,Hn);Ke(this,Kc);Ke(this,lf);Ke(this,vl);Ke(this,yl);Ke(this,Rg);Ke(this,cf);Ke(this,uf);Ke(this,Gc);Ke(this,Yc);Ke(this,xl);Ke(this,df,new Set);this.options=r,Pe(this,hs,t),Pe(this,yl,null),Pe(this,vl,l1()),this.options.experimental_prefetchInRender||q(this,vl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Rt).addObserver(this),cO(q(this,Rt),this.options)?pt(this,Zt,Tm).call(this):this.updateResult(),pt(this,Zt,f1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g1(q(this,Rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g1(q(this,Rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Zt,h1).call(this),pt(this,Zt,m1).call(this),q(this,Rt).removeObserver(this)}setOptions(t){const r=this.options,n=q(this,Rt);if(this.options=q(this,hs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof da(this.options.enabled,q(this,Rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Zt,p1).call(this),q(this,Rt).setOptions(this.options),r._defaulted&&!Sx(this.options,r)&&q(this,hs).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Rt),observer:this});const a=this.hasListeners();a&&uO(q(this,Rt),n,this.options,r)&&pt(this,Zt,Tm).call(this),this.updateResult(),a&&(q(this,Rt)!==n||da(this.options.enabled,q(this,Rt))!==da(r.enabled,q(this,Rt))||Rl(this.options.staleTime,q(this,Rt))!==Rl(r.staleTime,q(this,Rt)))&&pt(this,Zt,c1).call(this);const i=pt(this,Zt,u1).call(this);a&&(q(this,Rt)!==n||da(this.options.enabled,q(this,Rt))!==da(r.enabled,q(this,Rt))||i!==q(this,xl))&&pt(this,Zt,d1).call(this,i)}getOptimisticResult(t){const r=q(this,hs).getQueryCache().build(q(this,hs),t),n=this.createResult(r,t);return aZ(this,n)&&(Pe(this,Hn,n),Pe(this,lf,this.options),Pe(this,Kc,q(this,Rt).state)),n}getCurrentResult(){return q(this,Hn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){q(this,df).add(t)}getCurrentQuery(){return q(this,Rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=q(this,hs).defaultQueryOptions(t),n=q(this,hs).getQueryCache().build(q(this,hs),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return pt(this,Zt,Tm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Hn)))}createResult(t,r){var C;const n=q(this,Rt),a=this.options,i=q(this,Hn),o=q(this,Kc),l=q(this,lf),u=t!==n?t.state:q(this,Dg),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&cO(t,r),E=P&&uO(t,n,r,a);(A||E)&&(f={...f,...O3(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,b=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=q(this,uf))==null?void 0:C.state.data,q(this,uf)):r.placeholderData,P!==void 0&&(v="success",m=o1(i==null?void 0:i.data,P,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===q(this,Rg))m=q(this,cf);else try{Pe(this,Rg,r.select),m=r.select(m),m=o1(i==null?void 0:i.data,m,r),Pe(this,cf,m),Pe(this,yl,null)}catch(P){Pe(this,yl,P)}q(this,yl)&&(g=q(this,yl),m=q(this,cf),p=Date.now(),v="error");const x=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",j=w&&x,N=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:_&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&N,isStale:Kk(t,r),refetch:this.refetch,promise:q(this,vl),isEnabled:da(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=R=>{k.status==="error"?R.reject(k.error):k.data!==void 0&&R.resolve(k.data)},A=()=>{const R=Pe(this,vl,k.promise=l1());P(R)},E=q(this,vl);switch(E.status){case"pending":t.queryHash===n.queryHash&&P(E);break;case"fulfilled":(k.status==="error"||k.data!==E.value)&&A();break;case"rejected":(k.status!=="error"||k.error!==E.reason)&&A();break}}return k}updateResult(){const t=q(this,Hn),r=this.createResult(q(this,Rt),this.options);if(Pe(this,Kc,q(this,Rt).state),Pe(this,lf,this.options),q(this,Kc).data!==void 0&&Pe(this,uf,q(this,Rt)),Sx(r,t))return;Pe(this,Hn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!q(this,df).size)return!0;const o=new Set(i??q(this,df));return this.options.throwOnError&&o.add("error"),Object.keys(q(this,Hn)).some(l=>{const c=l;return q(this,Hn)[c]!==t[c]&&o.has(c)})};pt(this,Zt,D3).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Zt,f1).call(this)}},hs=new WeakMap,Rt=new WeakMap,Dg=new WeakMap,Hn=new WeakMap,Kc=new WeakMap,lf=new WeakMap,vl=new WeakMap,yl=new WeakMap,Rg=new WeakMap,cf=new WeakMap,uf=new WeakMap,Gc=new WeakMap,Yc=new WeakMap,xl=new WeakMap,df=new WeakMap,Zt=new WeakSet,Tm=function(t){pt(this,Zt,p1).call(this);let r=q(this,Rt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Yn)),r},c1=function(){pt(this,Zt,h1).call(this);const t=Rl(this.options.staleTime,q(this,Rt));if(vu||q(this,Hn).isStale||!a1(t))return;const n=_3(q(this,Hn).dataUpdatedAt,t)+1;Pe(this,Gc,setTimeout(()=>{q(this,Hn).isStale||this.updateResult()},n))},u1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Rt)):this.options.refetchInterval)??!1},d1=function(t){pt(this,Zt,m1).call(this),Pe(this,xl,t),!(vu||da(this.options.enabled,q(this,Rt))===!1||!a1(q(this,xl))||q(this,xl)===0)&&Pe(this,Yc,setInterval(()=>{(this.options.refetchIntervalInBackground||Hk.isFocused())&&pt(this,Zt,Tm).call(this)},q(this,xl)))},f1=function(){pt(this,Zt,c1).call(this),pt(this,Zt,d1).call(this,pt(this,Zt,u1).call(this))},h1=function(){q(this,Gc)&&(clearTimeout(q(this,Gc)),Pe(this,Gc,void 0))},m1=function(){q(this,Yc)&&(clearInterval(q(this,Yc)),Pe(this,Yc,void 0))},p1=function(){const t=q(this,hs).getQueryCache().build(q(this,hs),this.options);if(t===q(this,Rt))return;const r=q(this,Rt);Pe(this,Rt,t),Pe(this,Dg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D3=function(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(q(this,Hn))}),q(this,hs).getQueryCache().notify({query:q(this,Rt),type:"observerResultsUpdated"})})},O$);function sZ(e,t){return da(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cO(e,t){return sZ(e,t)||e.state.data!==void 0&&g1(e,t,t.refetchOnMount)}function g1(e,t,r){if(da(t.enabled,e)!==!1&&Rl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Kk(e,t)}return!1}function uO(e,t,r,n){return(e!==t||da(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Kk(e,r)}function Kk(e,t){return da(t.enabled,e)!==!1&&e.isStaleByTime(Rl(t.staleTime,e))}function aZ(e,t){return!Sx(e.getCurrentResult(),t)}var bl,wl,ms,no,go,$y,v1,T$,iZ=(T$=class extends yh{constructor(r,n){super();Ke(this,go);Ke(this,bl);Ke(this,wl);Ke(this,ms);Ke(this,no);Pe(this,bl,r),this.setOptions(n),this.bindMethods(),pt(this,go,$y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=q(this,bl).defaultMutationOptions(r),Sx(this.options,n)||q(this,bl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,ms),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&yu(n.mutationKey)!==yu(this.options.mutationKey)?this.reset():((a=q(this,ms))==null?void 0:a.state.status)==="pending"&&q(this,ms).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=q(this,ms))==null||r.removeObserver(this)}onMutationUpdate(r){pt(this,go,$y).call(this),pt(this,go,v1).call(this,r)}getCurrentResult(){return q(this,wl)}reset(){var r;(r=q(this,ms))==null||r.removeObserver(this),Pe(this,ms,void 0),pt(this,go,$y).call(this),pt(this,go,v1).call(this)}mutate(r,n){var a;return Pe(this,no,n),(a=q(this,ms))==null||a.removeObserver(this),Pe(this,ms,q(this,bl).getMutationCache().build(q(this,bl),this.options)),q(this,ms).addObserver(this),q(this,ms).execute(r)}},bl=new WeakMap,wl=new WeakMap,ms=new WeakMap,no=new WeakMap,go=new WeakSet,$y=function(){var n;const r=((n=q(this,ms))==null?void 0:n.state)??T3();Pe(this,wl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},v1=function(r){cn.batch(()=>{var n,a,i,o,l,c,u,d;if(q(this,no)&&this.hasListeners()){const f=q(this,wl).variables,h=q(this,wl).context;(r==null?void 0:r.type)==="success"?((a=(n=q(this,no)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=q(this,no)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=q(this,no)).onError)==null||c.call(l,r.error,f,h),(d=(u=q(this,no)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(q(this,wl))})})},T$),R3=y.createContext(void 0),oi=e=>{const t=y.useContext(R3);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oZ=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(R3.Provider,{value:e,children:t})),M3=y.createContext(!1),lZ=()=>y.useContext(M3);M3.Provider;function cZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uZ=y.createContext(cZ()),dZ=()=>y.useContext(uZ),fZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hZ=e=>{y.useEffect(()=>{e.clearReset()},[e])},mZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||C3(r,[e.error,n])),pZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gZ=(e,t)=>e.isLoading&&e.isFetching&&!t,vZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function yZ(e,t,r){var f,h,m,g,p;const n=lZ(),a=dZ(),i=oi(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",pZ(o),fZ(o,a),hZ(a);const l=!i.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(v=>{const b=d?c.subscribe(cn.batchCalls(v)):Yn;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),vZ(o,u))throw dO(o,c,a);if(mZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,u),o.experimental_prefetchInRender&&!vu&&gZ(u,n)){const v=l?dO(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(Yn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function sr(e,t){return yZ(e,nZ)}function Gt(e,t){const r=oi(),[n]=y.useState(()=>new iZ(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const a=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(cn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(Yn)},[n]);if(a.error&&C3(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(this,arguments)}var Nl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nl||(Nl={}));const fO="popstate";function xZ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return y1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kx(a)}return wZ(t,r,null,e)}function Jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bZ(){return Math.random().toString(36).substr(2,8)}function hO(e,t){return{usr:e.state,key:e.key,idx:t}}function y1(e,t,r,n){return r===void 0&&(r=null),Mp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xh(t):t,{state:r,key:t&&t.key||n||bZ()})}function kx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function wZ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Nl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Nl.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function h(v,b){l=Nl.Push;let x=y1(p.location,v,b);u=d()+1;let w=hO(x,u),_=p.createHref(x);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,b){l=Nl.Replace;let x=y1(p.location,v,b);u=d();let w=hO(x,u),_=p.createHref(x);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:kx(v);return x=x.replace(/ $/,"%20"),Jr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(fO,f),c=v,()=>{a.removeEventListener(fO,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var mO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mO||(mO={}));function jZ(e,t,r){return r===void 0&&(r="/"),_Z(e,t,r,!1)}function _Z(e,t,r,n){let a=typeof t=="string"?xh(t):t,i=Gk(a.pathname||"/",r);if(i==null)return null;let o=I3(e);NZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=MZ(i);l=DZ(o[c],u,n)}return l}function I3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Jr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ml([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I3(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:OZ(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of L3(i.path))a(i,o,c)}),t}function L3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=L3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function NZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SZ=/^:[\w-]+$/,CZ=3,kZ=2,EZ=1,PZ=10,AZ=-2,pO=e=>e==="*";function OZ(e,t){let r=e.split("/"),n=r.length;return r.some(pO)&&(n+=AZ),t&&(n+=kZ),r.filter(a=>!pO(a)).reduce((a,i)=>a+(SZ.test(i)?CZ:i===""?EZ:PZ),n)}function TZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function DZ(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=gO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=gO({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ml([i,f.pathname]),pathnameBase:FZ(Ml([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ml([i,f.pathnameBase]))}return o}function gO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function RZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function MZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $Z(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?xh(e):e;return{pathname:r?r.startsWith("/")?r:IZ(r,t):t,search:UZ(n),hash:BZ(a)}}function IZ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Yj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function F3(e,t){let r=LZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function U3(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=xh(e):(a=Mp({},e),Jr(!a.pathname||!a.pathname.includes("?"),Yj("?","pathname","search",a)),Jr(!a.pathname||!a.pathname.includes("#"),Yj("#","pathname","hash",a)),Jr(!a.search||!a.search.includes("#"),Yj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=$Z(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ml=e=>e.join("/").replace(/\/\/+/g,"/"),FZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B3=["post","put","patch","delete"];new Set(B3);const VZ=["get",...B3];new Set(VZ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(this,arguments)}const Yk=y.createContext(null),qZ=y.createContext(null),Iu=y.createContext(null),T0=y.createContext(null),rc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),z3=y.createContext(null);function WZ(e,t){let{relative:r}=t===void 0?{}:t;Wg()||Jr(!1);let{basename:n,navigator:a}=y.useContext(Iu),{hash:i,pathname:o,search:l}=W3(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ml([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Wg(){return y.useContext(T0)!=null}function Lu(){return Wg()||Jr(!1),y.useContext(T0).location}function V3(e){y.useContext(Iu).static||y.useLayoutEffect(e)}function li(){let{isDataRoute:e}=y.useContext(rc);return e?sJ():HZ()}function HZ(){Wg()||Jr(!1);let e=y.useContext(Yk),{basename:t,future:r,navigator:n}=y.useContext(Iu),{matches:a}=y.useContext(rc),{pathname:i}=Lu(),o=JSON.stringify(F3(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return V3(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=U3(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ml([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function q3(){let{matches:e}=y.useContext(rc),t=e[e.length-1];return t?t.params:{}}function W3(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Iu),{matches:a}=y.useContext(rc),{pathname:i}=Lu(),o=JSON.stringify(F3(a,n.v7_relativeSplatPath));return y.useMemo(()=>U3(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function KZ(e,t){return GZ(e,t)}function GZ(e,t,r,n){Wg()||Jr(!1);let{navigator:a}=y.useContext(Iu),{matches:i}=y.useContext(rc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Lu(),d;if(t){var f;let v=typeof t=="string"?xh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Jr(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=jZ(e,{pathname:m}),p=JZ(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ml([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ml([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?y.createElement(T0.Provider,{value:{location:$p({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nl.Pop}},p):p}function YZ(){let e=nJ(),t=zZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const XZ=y.createElement(YZ,null);class QZ extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(rc.Provider,{value:this.props.routeContext},y.createElement(z3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZZ(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(Yk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(rc.Provider,{value:t},n)}function JZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Jr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||XZ,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(ZZ,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(QZ,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var H3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H3||{}),Ex=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ex||{});function eJ(e){let t=y.useContext(Yk);return t||Jr(!1),t}function tJ(e){let t=y.useContext(qZ);return t||Jr(!1),t}function rJ(e){let t=y.useContext(rc);return t||Jr(!1),t}function K3(e){let t=rJ(),r=t.matches[t.matches.length-1];return r.route.id||Jr(!1),r.route.id}function nJ(){var e;let t=y.useContext(z3),r=tJ(Ex.UseRouteError),n=K3(Ex.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sJ(){let{router:e}=eJ(H3.UseNavigateStable),t=K3(Ex.UseNavigateStable),r=y.useRef(!1);return V3(()=>{r.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,$p({fromRouteId:t},i)))},[e,t])}function aJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Et(e){Jr(!1)}function iJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Nl.Pop,navigator:i,static:o=!1,future:l}=e;Wg()&&Jr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:$p({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=xh(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=Gk(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(Iu.Provider,{value:u},y.createElement(T0.Provider,{children:r,value:p}))}function oJ(e){let{children:t,location:r}=e;return KZ(x1(t),r)}new Promise(()=>{});function x1(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,x1(n.props.children,i));return}n.type!==Et&&Jr(!1),!n.props.index||!n.props.children||Jr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=x1(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}function lJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function cJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uJ(e,t){return e.button===0&&(!t||t==="_self")&&!cJ(e)}const dJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fJ="6";try{window.__reactRouterVersion=fJ}catch{}const hJ="startTransition",vO=DC[hJ];function mJ(e){let{basename:t,children:r,future:n,window:a}=e,i=y.useRef();i.current==null&&(i.current=xZ({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&vO?vO(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>aJ(n),[n]),y.createElement(iJ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const pJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=lJ(t,dJ),{basename:m}=y.useContext(Iu),g,p=!1;if(typeof u=="string"&&gJ.test(u)&&(g=u,pJ))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Gk(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let v=WZ(u,{relative:a}),b=vJ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",b1({},h,{href:g||v,onClick:p||i?n:x,ref:r,target:c}))});var yO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yO||(yO={}));var xO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xO||(xO={}));function vJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=li(),u=Lu(),d=W3(e,{relative:o});return y.useCallback(f=>{if(uJ(f,r)){f.preventDefault();let h=n!==void 0?n:kx(u)===kx(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}const Ip=dh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?KL:"button";return s.jsx(o,{className:ne(Ip({variant:t,size:r,className:e})),ref:i,...a})});I.displayName="Button";var yJ="Separator",bO="horizontal",xJ=["horizontal","vertical"],G3=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=bO,...a}=e,i=bJ(n)?n:bO,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ce.div,{"data-orientation":i,...l,...a,ref:t})});G3.displayName=yJ;function bJ(e){return xJ.includes(e)}var Y3=G3;const St=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Y3,{ref:a,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));St.displayName=Y3.displayName;var bi=function(){return bi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},bi.apply(this,arguments)};function bh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function wJ(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function jJ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const _J=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Xk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NJ extends Xk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wO extends Xk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jO extends Xk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var w1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(w1||(w1={}));class SJ{constructor(t,{headers:r={},customFetch:n,region:a=w1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=_J(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wJ(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:v}).catch(j=>{throw new NJ(j)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new wO(b);if(!b.ok)throw new jO(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof jO||l instanceof wO?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var CJ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kJ=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new CJ(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},EJ=class extends kJ{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const _O=new RegExp("[,()]");var hd=class extends EJ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&_O.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&_O.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},PJ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new hd({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new hd({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new hd({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new hd({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new hd({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},AJ=class X3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PJ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new X3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new hd({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class OJ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TJ="2.93.1",DJ=`realtime-js/${TJ}`,RJ="1.0.0",Q3="2.0.0",NO=Q3,j1=1e4,MJ=1e3,$J=100;var Qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qo||(Qo={}));var sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sn||(sn={}));var Fa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fa||(Fa={}));var _1;(function(e){e.websocket="websocket"})(_1||(_1={}));var kc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kc||(kc={}));class IJ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Z3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ur;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ur||(ur={}));const SO=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=LJ(o,e,t,a),i),{}):{}},LJ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?J3(i,o):N1(o)},J3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zJ(t,r)}switch(e){case ur.bool:return FJ(t);case ur.float4:case ur.float8:case ur.int2:case ur.int4:case ur.int8:case ur.numeric:case ur.oid:return UJ(t);case ur.json:case ur.jsonb:return BJ(t);case ur.timestamp:return VJ(t);case ur.abstime:case ur.date:case ur.daterange:case ur.int4range:case ur.int8range:case ur.money:case ur.reltime:case ur.text:case ur.time:case ur.timestamptz:case ur.timetz:case ur.tsrange:case ur.tstzrange:return N1(t);default:return N1(t)}},N1=e=>e,FJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zJ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>J3(t,l))}return e},VJ=e=>typeof e=="string"?e.replace(" ","T"):e,e5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xj{constructor(t,r,n={},a=j1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var CO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(CO||(CO={}));class Qm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Qm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kO||(kO={}));var Zm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zm||(Zm={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class Ad{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xj(this,Fa.join,this.params,this.timeout),this.rejoinTimer=new Z3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Qm(this),this.broadcastEndpointURL=e5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==sn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Zm.PRESENCE]&&this.bindings[Zm.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ji.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=p[x],{filter:{event:_,schema:j,table:N,filter:S}}=w,k=m&&m[x];if(k&&k.event===_&&Ad.isFilterValueEqual(k.schema,j)&&Ad.isFilterValueEqual(k.table,N)&&Ad.isFilterValueEqual(k.filter,S))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=sn.errored,t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ji.SUBSCRIBED);return}}).receive("error",m=>{this.state=sn.errored,t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===sn.joined&&t===Zm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xj(this,Fa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xj(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$J){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ad.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fa.close,{},t)}_onError(t){this._on(Fa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=SO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=SO(t.columns,t.old_record)),r}}const Qj=()=>{},Kv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qJ=[1e3,2e3,5e3,1e4],WJ=1e4,HJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KJ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j1,this.transport=null,this.heartbeatIntervalMs=Kv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qj,this.ref=0,this.reconnectTimer=null,this.vsn=NO,this.logger=Qj,this.conn=null,this.sendBuffer=[],this.serializer=new IJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_1.websocket}`,this.httpEndpoint=e5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OJ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return kc.Connecting;case Qo.open:return kc.Open;case Qo.closing:return kc.Closing;default:return kc.Closed}}isConnected(){return this.connectionState()===kc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ad(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(MJ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qo.open||this.conn.readyState===Qo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([HJ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:DJ};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Fa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Z3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:j1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Kv.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qj,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:NO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>qJ[g-1]||WJ,this.vsn){case RJ:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case Q3:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Lp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GJ(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function YJ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XJ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=GJ(e.baseUrl,n,a),c=await YJ(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Lp((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Gv(e){return e.join("")}var QJ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Gv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gv(e.namespace)}`}),!0}catch(t){if(t instanceof Lp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Lp&&r.status===409)return;throw r}}};function Zu(e){return e.join("")}var ZJ=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Lp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Lp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},JJ=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XJ({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new QJ(this.client,t),this.tableOps=new ZJ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},D0=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function R0(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Yv=class extends D0{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},t5=class extends D0{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const eee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tee=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S1=e=>{if(Array.isArray(e))return e.map(r=>S1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=S1(n)}),t},ree=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function nee(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e){var t=nee(e,"string");return Fp(t)=="symbol"?t:t+""}function aee(e,t,r){return(t=see(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const PO=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},iee=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Yv(PO(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Yv(a.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Yv(a.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Yv(a.statusText||`HTTP ${i} error`,i,o,n))}}else t(new t5(PO(e),e,n))},oee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?tt(tt({},a),r):(tee(n)?(a.headers=tt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),tt(tt({},a),r))};async function am(e,t,r,n,a,i,o){return new Promise((l,c)=>{e(r,oee(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>iee(u,c,n,o))})}function lee(e="storage"){return{get:async(t,r,n,a)=>am(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>am(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>am(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>am(t,"HEAD",r,tt(tt({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>am(t,"DELETE",r,a,i,n,e)}}const cee=lee("storage"),{get:Up,post:Sr,put:C1,head:uee,remove:Qk}=cee;var wh=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=eee(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(R0(r))return{data:null,error:r};throw r}}},dee=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(R0(t))return{data:null,error:t};throw t}}};let r5;r5=Symbol.toStringTag;var fee=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[r5]="BlobDownloadBuilder",this.promise=null}asStream(){return new dee(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(R0(t))return{data:null,error:t};throw t}}};const hee={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},AO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mee=class extends wh{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const o=tt(tt({},AO),n);let l=tt(tt({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=tt(tt({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?C1:Sr)(a.fetch,`${a.url}/object/${d}`,i,tt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=tt({upsert:AO.upsert},n),d=tt(tt({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await C1(a.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=tt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Sr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new D0("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Sr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Sr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Sr(n.fetch,`${n.url}/object/sign/${a}`,tt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Sr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>tt(tt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Up(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new fee(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>S1(await Up(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await uee(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(R0(n)&&n instanceof t5){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Qk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=tt(tt(tt({},hee),t),{},{prefix:e||""});return await Sr(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=tt({},e);return await Sr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const pee="2.93.1",Hg={"X-Client-Info":`storage-js/${pee}`};var gee=class extends wh{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=tt(tt({},Hg),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Up(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Up(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Sr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await C1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vee=class extends wh{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=tt(tt({},Hg),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Up(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!ree(e))throw new D0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new JJ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},yee=class extends wh{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=tt(tt({},Hg),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Sr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Sr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},xee=class extends wh{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=tt(tt({},Hg),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},bee=class extends wh{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=tt(tt({},Hg),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Sr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},wee=class extends bee{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new jee(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},jee=class extends yee{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new _ee(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_ee=class extends xee{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,tt(tt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Nee=class extends gee{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new mee(this.url,this.headers,e,this.fetch)}get vectors(){return new wee(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vee(this.url+"/iceberg",this.headers,this.fetch)}};const n5="2.93.1",md=30*1e3,k1=3,Zj=k1*md,See="http://localhost:9999",Cee="supabase.auth.token",kee={"X-Client-Info":`gotrue-js/${n5}`},E1="X-Supabase-Api-Version",s5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pee=10*60*1e3;class Bp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Aee extends Bp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Oee(e){return ze(e)&&e.name==="AuthApiError"}class Ec extends Bp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class To extends Bp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $s extends To{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jj(e){return ze(e)&&e.name==="AuthSessionMissingError"}class Ju extends To{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xv extends To{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qv extends To{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tee(e){return ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class OO extends To{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dee extends To{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class P1 extends To{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function e_(e){return ze(e)&&e.name==="AuthRetryableFetchError"}class TO extends To{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class A1 extends To{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DO=` 	
\r=`.split(""),Ree=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<DO.length;t+=1)e[DO[t].charCodeAt(0)]=-2;for(let t=0;t<Px.length;t+=1)e[Px[t].charCodeAt(0)]=t;return e})();function RO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Px[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Px[n]),t.queuedBits-=6}}function a5(e,t,r){const n=Ree[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MO(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Iee(o,n,r)};for(let o=0;o<e.length;o+=1)a5(e.charCodeAt(o),a,i);return t.join("")}function Mee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $ee(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Mee(n,t)}}function Iee(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Hd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)a5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Lee(e){const t=[];return $ee(e,r=>t.push(r)),new Uint8Array(t)}function Rc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RO(a,r,n)),RO(null,r,n),t.join("")}function Fee(e){return Math.round(Date.now()/1e3)+e}function Uee(){return Symbol("auth-callback")}const Cn=()=>typeof window<"u"&&typeof document<"u",pc={tested:!1,writable:!1},i5=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pc.tested)return pc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pc.tested=!0,pc.writable=!0}catch{pc.tested=!0,pc.writable=!1}return pc.writable};function Bee(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const o5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zee=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sn=async(e,t)=>{await e.removeItem(t)};class M0{constructor(){this.promise=new M0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}M0.promiseConstructor=Promise;function Zv(e){const t=e.split(".");if(t.length!==3)throw new A1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Eee.test(t[n]))throw new A1("JWT not in base64url format");return{header:JSON.parse(MO(t[0])),payload:JSON.parse(MO(t[1])),signature:Hd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qee(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Wee(e){return("0"+e.toString(16)).substr(-2)}function Hee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Wee).join("")}async function Kee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Gee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Kee(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ed(e,t,r=!1){const n=Hee();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await pd(e,`${t}-code-verifier`,a);const i=await Gee(n);return[i,n===i?"plain":"s256"]}const Yee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xee(e){const t=e.headers.get(E1);if(!t||!t.match(Yee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function td(e){if(!Jee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function t_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ete(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function $O(e){return JSON.parse(JSON.stringify(e))}const jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tte=[502,503,504];async function IO(e){var t;if(!zee(e))throw new P1(jc(e),0);if(tte.includes(e.status))throw new P1(jc(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ec(jc(i),i)}let n;const a=Xee(e);if(a&&a.getTime()>=s5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new TO(jc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new TO(jc(r),e.status,r.weak_password.reasons);throw new Aee(jc(r),e.status||500,n)}const rte=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ze(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[E1]||(i[E1]=s5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await nte(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nte(e,t,r,n,a,i){const o=rte(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new P1(jc(c),0)}if(l.ok||await IO(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await IO(c)}}function Da(e){var t;let r=null;ite(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Fee(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function LO(e){const t=Da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ste(e){return{data:e,error:null}}function ate(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=bh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function FO(e){return e}function ite(e){return e.access_token&&e.refresh_token&&e.expires_in}const r_=["global","local","others"];class ote{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=o5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=r_[0]){if(r_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${r_.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nl})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ate,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nl})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){td(t);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nl})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){td(t);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:nl})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){td(t);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:nl})}catch(n){if(ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){td(t.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){td(t.userId),td(t.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:FO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ze(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ze(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ze(r))return{data:null,error:r};throw r}}}function UO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const rd={debug:!!(globalThis&&i5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lte extends l5{}async function cte(e,t,r){rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),rd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lte(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ute(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dte(e){return parseInt(e,16)}function fte(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function hte(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=c5(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class Qr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ax extends Qr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function mte({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(u5(o)){if(i.rp.id!==o)return new Qr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pte({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(u5(n)){if(r.rpId!==n)return new Qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gte{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vte=new gte;function yte(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=bh(e,["challenge","user","excludeCredentials"]),i=Hd(t).buffer,o=Object.assign(Object.assign({},r),{id:Hd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Hd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function xte(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=bh(e,["challenge","allowCredentials"]),a=Hd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Hd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function bte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Rc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Rc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Rc(new Uint8Array(a.authenticatorData)),clientDataJSON:Rc(new Uint8Array(a.clientDataJSON)),signature:Rc(new Uint8Array(a.signature)),userHandle:a.userHandle?Rc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BO(){var e,t;return!!(Cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jte(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ax("Browser returned unexpected credential type",t)}:{data:null,error:new Ax("Empty credential response",t)}}catch(t){return{data:null,error:mte({error:t,options:e})}}}async function _te(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ax("Browser returned unexpected credential type",t)}:{data:null,error:new Ax("Empty credential response",t)}}catch(t){return{data:null,error:pte({error:t,options:e})}}}const Nte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ste={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ox(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Ox(l,o):n[i]=Ox(o)}else n[i]=o}return n}function Cte(e,t){return Ox(Nte,e,t||{})}function kte(e,t){return Ox(Ste,e,t||{})}class Ete{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??vte.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Cte(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await jte({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=kte(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await _te(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bp("rpId is required for WebAuthn authentication")};try{if(!BO())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Bp("rpId is required for WebAuthn registration")};try{if(!BO())return{data:null,error:new Ec("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ze(o)?{data:null,error:o}:{data:null,error:new Ec("Unexpected error in register",o)}}}}ute();const Pte={url:See,storageKey:Cee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zO(e,t,r){return await r()}const nd={};class zp{get jwks(){var t,r;return(r=(t=nd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){nd[this.storageKey]=Object.assign(Object.assign({},nd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=nd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){nd[this.storageKey]=Object.assign(Object.assign({},nd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Pte),t);if(this.storageKey=i.storageKey,this.instanceID=(r=zp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,zp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Cn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ote({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=o5(i.fetch),this.lock=i.lock||zO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cte:this.lock=zO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ete(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:i5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=UO(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${n5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Cn()&&(r=Bee(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Cn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tee(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ze(r)?this._returnResult({error:r}):this._returnResult({error:new Ec("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Da}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ed(this.storage,this.storageKey)),i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Da})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Da})}else throw new Xv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:LO})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:LO})}else throw new Xv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ju;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:b,options:x}=t;let w;if(Cn())if(typeof v=="object")w=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=c5(j[0]);let S=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const C=await w.request({method:"eth_chainId"});S=dte(C)}const k={domain:_.host,address:N,statement:b,uri:_.href,version:"1",chainId:S,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=hte(k),g=await w.request({method:"personal_sign",params:[fte(m),N]})}try{const{data:p,error:v}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Da});if(v)throw v;if(!p||!p.session||!p.user){const b=new Ju;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(ze(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(Cn())if(typeof b=="object")_=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:v,error:b}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Rc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Da});if(b)throw b;if(!v||!v.session||!v.user){const x=new Ju;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ze(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await gc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Dee;const{data:i,error:o}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Da});if(await Sn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ju;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Da}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ju;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ed(this.storage,this.storageKey));const{error:f}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Xv("You must provide either an email or phone number.")}catch(l){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Da});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ed(this.storage,this.storageKey));const u=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:ste});return!((i=u.data)===null||i===void 0)&&i.url&&Cn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $s;const{error:a}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Xv("You must provide either an email or phone number and a type")}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await gc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=t_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=ete(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:nl})})}catch(r){if(ze(r))return Jj(r)&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $s;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ed(this.storage,this.storageKey));const{data:u,error:d}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:nl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Zv(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $s;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ze(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Cn())throw new Qv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new OO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new OO("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Qv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=md&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(ze(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!Jj(i))return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Oee(l)&&(l.status===404||l.status===401||l.status===403)||Jj(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Uee(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ed(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ze(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Da}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ju}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qee(async a=>(a>0&&await Vee(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Da})),(a,i)=>{const o=200*Math.pow(2,a);return i&&e_(i)&&Date.now()+o-n<md})}catch(n){if(this._debug(r,"error",n),ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await gc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await gc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await pd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:t_()}else if(a&&!a.user&&!a.user){const o=await gc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Sn(this.storage,this.storageKey+"-user"),await pd(this.storage,this.storageKey,a)):a.user=t_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zj;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Zj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),e_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new M0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $s;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ze(i)){const o={data:null,error:i};return e_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await pd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=$O(a);await pd(this.storage,this.storageKey,i)}else{const a=$O(r);await pd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Sn(this.storage,this.storageKey),await Sn(this.storage,this.storageKey+"-code-verifier"),await Sn(this.storage,this.storageKey+"-user"),this.userStorage&&await Sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),md);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/md);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${md}ms, refresh threshold is ${k1} ticks`),a<=k1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof l5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ed(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bte(t.webauthn.credential_response):wte(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yte(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:xte(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:m}=Zv(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:v},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(ze(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Zv(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $s})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new $s});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new $s});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new $s})})}catch(t){if(ze(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $s})})}catch(r){if(ze(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Pee>a)return n;const{data:i,error:o}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Zv(n);r!=null&&r.allowExpired||Qee(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=Zee(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Lee(`${l}.${c}`)))throw new A1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ze(n))return this._returnResult({data:null,error:n});throw n}}}zp.nextInstanceID={};const Ate=zp,Ote="2.93.1";let Dm="";typeof Deno<"u"?Dm="deno":typeof document<"u"?Dm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dm="react-native":Dm="node";function Tte(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function Dte(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function Rte(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function Mte(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function $te(){const e={"X-Client-Info":`supabase-js-${Dm}/${Ote}`},t=Tte();t&&(e["X-Supabase-Client-Platform"]=t);const r=Dte();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=Rte();n&&(e["X-Supabase-Client-Runtime"]=n);const a=Mte();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const Ite=$te(),Lte={headers:Ite},Fte={schema:"public"},Ute={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bte={};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function zte(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vte(e){var t=zte(e,"string");return Vp(t)=="symbol"?t:t+""}function qte(e,t,r){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Wte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hte=()=>Headers,Kte=(e,t,r)=>{const n=Wte(r),a=Hte();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ir(Ir({},o),{},{headers:u}))}};function Gte(e){return e.endsWith("/")?e:e+"/"}function Yte(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Ir(Ir({},c),a),auth:Ir(Ir({},u),i),realtime:Ir(Ir({},d),o),storage:{},global:Ir(Ir(Ir({},f),l),{},{headers:Ir(Ir({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Xte(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gte(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qte=class extends Ate{constructor(e){super(e)}},Zte=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Xte(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Fte,realtime:Bte,auth:Ir(Ir({},Ute),{},{storageKey:o}),global:Lte},c=Yte(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Kte(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ir({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new AJ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Nee(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new SJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qte({url:this.authUrl.href,headers:Ir(Ir({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KJ(this.realtimeUrl.href,Ir(Ir({},e),{},{params:Ir(Ir({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Jte=(e,t,r)=>new Zte(e,t,r);function ere(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ere()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tre="https://zrqhgzmsbesstxticbbk.supabase.co",rre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpycWhnem1zYmVzc3R4dGljYmJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0ODE5MDMsImV4cCI6MjA4NTA1NzkwM30.p1QAaYye6ZF3xXRrlK_f_j4LK1g9NN1AvYEQlrWlEiM",M=Jte(tre,rre,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function d5(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),a=async()=>{const{data:u,error:d}=await M.from("sidebar_settings").select("*").order("display_order");if(d){console.error("Failed to load sidebar settings:",d);return}t(u||[])};return y.useEffect(()=>{(async()=>{n(!0),await a(),n(!1)})()},[]),{settings:e,loading:r,updateVisibility:async(u,d)=>{const{error:f}=await M.from("sidebar_settings").update({is_visible:d}).eq("module_key",u);return f?(re({title:"Error",description:"Failed to update sidebar visibility. You may not have admin permissions.",variant:"destructive"}),!1):(t(h=>h.map(m=>m.module_key===u?{...m,is_visible:d}:m)),re({title:"Success",description:`${u} visibility updated`}),!0)},updateOrder:async(u,d)=>{const{error:f}=await M.from("sidebar_settings").update({display_order:d}).eq("module_key",u);return f?(re({title:"Error",description:"Failed to update display order",variant:"destructive"}),!1):(await a(),!0)},isModuleVisible:u=>{const d=e.find(f=>f.module_key===u);return(d==null?void 0:d.is_visible)??!0},getVisibleModules:()=>e.filter(u=>u.is_visible).sort((u,d)=>u.display_order-d.display_order).map(u=>u.module_key),refetch:a}}const nre=[{label:"Dashboard",icon:kF,href:"/",moduleKey:"dashboard"},{label:"Employees",icon:Er,href:"/employees",moduleKey:"employees"},{label:"Compliance",icon:mu,href:"/compliance",moduleKey:"compliance",badge:3},{label:"Recruitment",icon:pu,href:"/recruitment",moduleKey:"recruitment"},{label:"Documents",icon:dt,href:"/documents",moduleKey:"documents"},{label:"Contracts",icon:jF,href:"/contracts",moduleKey:"contracts"},{label:"Performance",icon:Zs,href:"/performance",moduleKey:"performance"},{label:"HR Cases",icon:lr,href:"/hr-cases",moduleKey:"hr-cases"},{label:"LMS Admin",icon:Ek,href:"/lms",moduleKey:"lms"},{label:"Payroll",icon:zd,href:"/payroll",moduleKey:"payroll"},{label:"Payroll Export",icon:xf,href:"/payroll-export",moduleKey:"payroll-export"},{label:"Audit & Exports",icon:xf,href:"/audit-exports",moduleKey:"audit-exports"},{label:"Reports",icon:Pk,href:"/reports",moduleKey:"reports"}],sre=[{label:"My Portal",icon:kF,href:"/portal",moduleKey:"portal"},{label:"My Documents",icon:SF,href:"/portal/documents",moduleKey:"portal-documents"},{label:"My Training",icon:bf,href:"/portal/training",moduleKey:"portal-training"},{label:"My Reviews",icon:Hs,href:"/portal/reviews",moduleKey:"portal-reviews"},{label:"My Goals",icon:Zs,href:"/portal/goals",moduleKey:"portal-goals"},{label:"My Profile",icon:ns,href:"/portal/profile",moduleKey:"portal-profile"}],are=[{label:"Settings",icon:mh,href:"/settings",moduleKey:"settings"},{label:"Help",icon:Ep,href:"/help",moduleKey:"help"}];function qO(){const[e,t]=y.useState(!1),r=Lu(),{settings:n,loading:a,isModuleVisible:i}=d5(),l=[...nre.filter(u=>a||n.length===0?!0:i(u.moduleKey))].sort((u,d)=>{const f=n.find(m=>m.module_key===u.moduleKey),h=n.find(m=>m.module_key===d.moduleKey);return((f==null?void 0:f.display_order)??99)-((h==null?void 0:h.display_order)??99)}),c=({item:u})=>{const d=r.pathname===u.href,f=u.icon,h=s.jsxs(On,{to:u.href,className:ne("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group relative",d?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/50"),children:[s.jsx(f,{className:ne("h-5 w-5 flex-shrink-0",d&&"text-sidebar-primary")}),!e&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium text-sm",children:u.label}),u.badge&&s.jsx("span",{className:"ml-auto bg-accent text-accent-foreground text-xs font-semibold px-2 py-0.5 rounded-full",children:u.badge})]}),e&&u.badge&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-accent text-accent-foreground text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:u.badge})]});return e?s.jsxs(w3,{delayDuration:0,children:[s.jsx(j3,{asChild:!0,children:h}),s.jsxs(Vk,{side:"right",className:"font-medium",children:[u.label,u.badge&&s.jsxs("span",{className:"ml-2 text-accent",children:["(",u.badge,")"]})]})]}):h};return s.jsxs("aside",{className:ne("fixed left-0 top-0 z-40 h-screen bg-sidebar flex flex-col transition-all duration-300",e?"w-16":"w-64"),children:[s.jsxs("div",{className:ne("flex items-center h-16 px-4 border-b border-sidebar-border",e?"justify-center":"gap-3"),children:[s.jsx("div",{className:"w-8 h-8 rounded-lg gradient-hero flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"S+"})}),!e&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sidebar-foreground text-sm",children:"Social Plus"}),s.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Support Work"})]})]}),s.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[l.map(u=>s.jsx(c,{item:u},u.href)),!e&&s.jsx("div",{className:"pt-4 pb-2",children:s.jsx("span",{className:"px-3 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:"Self-Service"})}),e&&s.jsx(St,{className:"my-2"}),sre.map(u=>s.jsx(c,{item:u},u.href))]}),s.jsx("div",{className:"px-3 py-4 border-t border-sidebar-border space-y-1",children:are.map(u=>s.jsx(c,{item:u},u.href))}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>t(!e),className:"absolute -right-3 top-20 h-6 w-6 rounded-full border border-sidebar-border bg-sidebar text-sidebar-foreground hover:bg-sidebar-accent",children:e?s.jsx(Oo,{className:"h-3 w-3"}):s.jsx(Ak,{className:"h-3 w-3"})})]})}const Z=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Z.displayName="Input";var f5={exports:{}},h5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=y;function ire(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ore=typeof Object.is=="function"?Object.is:ire,lre=_f.useState,cre=_f.useEffect,ure=_f.useLayoutEffect,dre=_f.useDebugValue;function fre(e,t){var r=t(),n=lre({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return ure(function(){a.value=r,a.getSnapshot=t,n_(a)&&i({inst:a})},[e,r,t]),cre(function(){return n_(a)&&i({inst:a}),e(function(){n_(a)&&i({inst:a})})},[e]),dre(r),r}function n_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ore(e,r)}catch{return!0}}function hre(e,t){return t()}var mre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hre:fre;h5.useSyncExternalStore=_f.useSyncExternalStore!==void 0?_f.useSyncExternalStore:mre;f5.exports=h5;var pre=f5.exports;function gre(){return pre.useSyncExternalStore(vre,()=>!0,()=>!1)}function vre(){return()=>{}}var Zk="Avatar",[yre,M3e]=Vr(Zk),[xre,m5]=yre(Zk),p5=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return s.jsx(xre,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ce.span,{...n,ref:t})})});p5.displayName=Zk;var g5="AvatarImage",v5=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=m5(g5,r),l=bre(n,i),c=Br(u=>{a(u),o.onImageLoadingStatusChange(u)});return zr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ce.img,{...i,ref:t,src:n}):null});v5.displayName=g5;var y5="AvatarFallback",x5=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=m5(y5,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ce.span,{...a,ref:t}):null});x5.displayName=y5;function WO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bre(e,{referrerPolicy:t,crossOrigin:r}){const n=gre(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>WO(i,e));return zr(()=>{l(WO(i,e))},[i,e]),zr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var b5=p5,w5=v5,j5=x5;const Pr=y.forwardRef(({className:e,...t},r)=>s.jsx(b5,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Pr.displayName=b5.displayName;const Kg=y.forwardRef(({className:e,...t},r)=>s.jsx(w5,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));Kg.displayName=w5.displayName;const Ar=y.forwardRef(({className:e,...t},r)=>s.jsx(j5,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ar.displayName=j5.displayName;var wre=y.createContext(void 0);function nc(e){const t=y.useContext(wre);return e||t||"ltr"}var s_=0;function $0(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HO()),document.body.insertAdjacentElement("beforeend",e[1]??HO()),s_++,()=>{s_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),s_--}},[])}function HO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var a_="focusScope.autoFocusOnMount",i_="focusScope.autoFocusOnUnmount",KO={bubbles:!1,cancelable:!0},jre="FocusScope",Gg=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=Br(a),d=Br(i),f=y.useRef(null),h=He(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Go(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Go(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Go(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){YO.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(a_,KO);l.addEventListener(a_,u),l.dispatchEvent(b),b.defaultPrevented||(_re(Ere(_5(l)),{select:!0}),document.activeElement===p&&Go(l))}return()=>{l.removeEventListener(a_,u),setTimeout(()=>{const b=new CustomEvent(i_,KO);l.addEventListener(i_,d),l.dispatchEvent(b),b.defaultPrevented||Go(p??document.body,{select:!0}),l.removeEventListener(i_,d),YO.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const x=p.currentTarget,[w,_]=Nre(x);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&Go(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Go(_,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Ce.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Gg.displayName=jre;function _re(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Go(n,{select:t}),document.activeElement!==r)return}function Nre(e){const t=_5(e),r=GO(t,e),n=GO(t.reverse(),e);return[r,n]}function _5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function GO(e,t){for(const r of e)if(!Sre(r,{upTo:t}))return r}function Sre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cre(e){return e instanceof HTMLInputElement&&"select"in e}function Go(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Cre(e)&&t&&e.select()}}var YO=kre();function kre(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=XO(e,t),e.unshift(t)},remove(t){var r;e=XO(e,t),(r=e[0])==null||r.resume()}}}function XO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ere(e){return e.filter(t=>t.tagName!=="A")}var o_="rovingFocusGroup.onEntryFocus",Pre={bubbles:!1,cancelable:!0},Yg="RovingFocusGroup",[O1,N5,Are]=ch(Yg),[Ore,jh]=Vr(Yg,[Are]),[Tre,Dre]=Ore(Yg),S5=y.forwardRef((e,t)=>s.jsx(O1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(O1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Rre,{...e,ref:t})})}));S5.displayName=Yg;var Rre=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=He(t,h),g=nc(i),[p,v]=Vn({prop:o,defaultProp:l??null,onChange:c,caller:Yg}),[b,x]=y.useState(!1),w=Br(u),_=N5(r),j=y.useRef(!1),[N,S]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(o_,w),()=>k.removeEventListener(o_,w)},[w]),s.jsx(Tre,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(k=>v(k),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>S(k=>k-1),[]),children:s.jsx(Ce.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const P=new CustomEvent(o_,Pre);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=_().filter(F=>F.focusable),E=A.find(F=>F.active),R=A.find(F=>F.id===p),B=[E,R,...A].filter(Boolean).map(F=>F.ref.current);E5(B,d)}}j.current=!1}),onBlur:me(e.onBlur,()=>x(!1))})})}),C5="RovingFocusGroupItem",k5=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Ns(),u=i||c,d=Dre(C5,r),f=d.currentTabStopId===u,h=N5(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(O1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ce.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:me(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:me(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:me(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Ire(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?Lre(w,_+1):w.slice(_+1)}setTimeout(()=>E5(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});k5.displayName=C5;var Mre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $re(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ire(e,t,r){const n=$re(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mre[n]}function E5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Lre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Jk=S5,eE=k5,Fre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sd=new WeakMap,Jv=new WeakMap,ey={},l_=0,P5=function(e){return e&&(e.host||P5(e.parentNode))},Ure=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=P5(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Bre=function(e,t,r,n){var a=Ure(t,Array.isArray(e)?e:[e]);ey[r]||(ey[r]=new WeakMap);var i=ey[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(sd.get(h)||0)+1,v=(i.get(h)||0)+1;sd.set(h,p),i.set(h,v),o.push(h),p===1&&g&&Jv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),l_++,function(){o.forEach(function(f){var h=sd.get(f)-1,m=i.get(f)-1;sd.set(f,h),i.set(f,m),h||(Jv.has(f)||f.removeAttribute(n),Jv.delete(f)),m||f.removeAttribute(r)}),l_--,l_||(sd=new WeakMap,sd=new WeakMap,Jv=new WeakMap,ey={})}},I0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Fre(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Bre(n,a,r,"aria-hidden")):function(){return null}},Iy="right-scroll-bar-position",Ly="width-before-scroll-bar",zre="with-scroll-bars-hidden",Vre="--removed-body-scroll-bar-size";function c_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qre(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Wre=typeof window<"u"?y.useLayoutEffect:y.useEffect,QO=new WeakMap;function Hre(e,t){var r=qre(null,function(n){return e.forEach(function(a){return c_(a,n)})});return Wre(function(){var n=QO.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||c_(l,null)}),i.forEach(function(l){a.has(l)||c_(l,o)})}QO.set(r,e)},[e]),r}function Kre(e){return e}function Gre(e,t){t===void 0&&(t=Kre);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Yre(e){e===void 0&&(e={});var t=Gre(null);return t.options=bi({async:!0,ssr:!1},e),t}var A5=function(e){var t=e.sideCar,r=bh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,bi({},r))};A5.isSideCarExport=!0;function Xre(e,t){return e.useMedium(t),A5}var O5=Yre(),u_=function(){},L0=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:u_,onWheelCapture:u_,onTouchMoveCapture:u_}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=bh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=Hre([r,t]),S=bi(bi({},_),a);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:O5,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),bi(bi({},S),{ref:N})):y.createElement(x,bi({},S,{className:c,ref:N}),l))});L0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L0.classNames={fullWidth:Ly,zeroRight:Iy};var Qre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qre();return t&&e.setAttribute("nonce",t),e}function Jre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ene(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zre())&&(Jre(t,r),ene(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rne=function(){var e=tne();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T5=function(){var e=rne(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},nne={left:0,top:0,right:0,gap:0},d_=function(e){return parseInt(e||"",10)||0},sne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[d_(r),d_(n),d_(a)]},ane=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nne;var t=sne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ine=T5(),Kd="data-scroll-locked",one=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Kd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ly,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Iy," .").concat(Iy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ly," .").concat(Ly,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Kd,`] {
    `).concat(Vre,": ").concat(l,`px;
  }
`)},ZO=function(){var e=parseInt(document.body.getAttribute(Kd)||"0",10);return isFinite(e)?e:0},lne=function(){y.useEffect(function(){return document.body.setAttribute(Kd,(ZO()+1).toString()),function(){var e=ZO()-1;e<=0?document.body.removeAttribute(Kd):document.body.setAttribute(Kd,e.toString())}},[])},cne=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;lne();var i=y.useMemo(function(){return ane(a)},[a]);return y.createElement(ine,{styles:one(i,!t,a,r?"":"!important")})},T1=!1;if(typeof window<"u")try{var ty=Object.defineProperty({},"passive",{get:function(){return T1=!0,!0}});window.addEventListener("test",ty,ty),window.removeEventListener("test",ty,ty)}catch{T1=!1}var ad=T1?{passive:!1}:!1,une=function(e){return e.tagName==="TEXTAREA"},D5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!une(e)&&r[t]==="visible")},dne=function(e){return D5(e,"overflowY")},fne=function(e){return D5(e,"overflowX")},JO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=R5(e,n);if(a){var i=M5(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hne=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mne=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},R5=function(e,t){return e==="v"?dne(t):fne(t)},M5=function(e,t){return e==="v"?hne(t):mne(t)},pne=function(e,t){return e==="h"&&t==="rtl"?-1:1},gne=function(e,t,r,n,a){var i=pne(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=M5(e,l),g=m[0],p=m[1],v=m[2],b=p-v-i*g;(g||b)&&R5(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ry=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eT=function(e){return[e.deltaX,e.deltaY]},tT=function(e){return e&&"current"in e?e.current:e},vne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xne=0,id=[];function bne(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(xne++)[0],i=y.useState(T5)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=jJ([e.lockRef.current],(e.shards||[]).map(tT),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=ry(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],_="deltaY"in p?p.deltaY:x[1]-b[1],j,N=p.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var k=JO(S,N);if(!k)return!0;if(k?j=S:(j=S==="v"?"h":"v",k=JO(S,N)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var C=n.current||j;return gne(C,v,p,C==="h"?w:_,!0)},[]),c=y.useCallback(function(p){var v=p;if(!(!id.length||id[id.length-1]!==i)){var b="deltaY"in v?eT(v):ry(v),x=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&vne(j.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(tT).filter(Boolean).filter(function(j){return j.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,b,x){var w={name:p,delta:v,target:b,should:x,shadowParent:wne(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(p){r.current=ry(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,eT(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,ry(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return id.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ad),document.addEventListener("touchmove",c,ad),document.addEventListener("touchstart",d,ad),function(){id=id.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ad),document.removeEventListener("touchmove",c,ad),document.removeEventListener("touchstart",d,ad)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:yne(a)}):null,m?y.createElement(cne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jne=Xre(O5,bne);var Xg=y.forwardRef(function(e,t){return y.createElement(L0,bi({},e,{ref:t,sideCar:jne}))});Xg.classNames=L0.classNames;var D1=["Enter"," "],_ne=["ArrowDown","PageUp","Home"],$5=["ArrowUp","PageDown","End"],Nne=[..._ne,...$5],Sne={ltr:[...D1,"ArrowRight"],rtl:[...D1,"ArrowLeft"]},Cne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qg="Menu",[qp,kne,Ene]=ch(Qg),[Fu,I5]=Vr(Qg,[Ene,tc,jh]),F0=tc(),L5=jh(),[Pne,Uu]=Fu(Qg),[Ane,Zg]=Fu(Qg),F5=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=F0(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Br(i),h=nc(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(C0,{...l,children:s.jsx(Pne,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Ane,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};F5.displayName=Qg;var One="MenuAnchor",tE=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=F0(r);return s.jsx(qg,{...a,...n,ref:t})});tE.displayName=One;var rE="MenuPortal",[Tne,U5]=Fu(rE,{forceMount:void 0}),B5=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Uu(rE,t);return s.jsx(Tne,{scope:t,forceMount:r,children:s.jsx(tn,{present:r||i.open,children:s.jsx(uh,{asChild:!0,container:a,children:n})})})};B5.displayName=rE;var ba="MenuContent",[Dne,nE]=Fu(ba),z5=y.forwardRef((e,t)=>{const r=U5(ba,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Uu(ba,e.__scopeMenu),o=Zg(ba,e.__scopeMenu);return s.jsx(qp.Provider,{scope:e.__scopeMenu,children:s.jsx(tn,{present:n||i.open,children:s.jsx(qp.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Rne,{...a,ref:t}):s.jsx(Mne,{...a,ref:t})})})})}),Rne=y.forwardRef((e,t)=>{const r=Uu(ba,e.__scopeMenu),n=y.useRef(null),a=He(t,n);return y.useEffect(()=>{const i=n.current;if(i)return I0(i)},[]),s.jsx(sE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Mne=y.forwardRef((e,t)=>{const r=Uu(ba,e.__scopeMenu);return s.jsx(sE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),$ne=Wl("MenuContent.ScrollLock"),sE=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Uu(ba,r),b=Zg(ba,r),x=F0(r),w=L5(r),_=kne(r),[j,N]=y.useState(null),S=y.useRef(null),k=He(t,S,v.onContentChange),C=y.useRef(0),P=y.useRef(""),A=y.useRef(0),E=y.useRef(null),R=y.useRef("right"),$=y.useRef(0),B=g?Xg:y.Fragment,F=g?{as:$ne,allowPinchZoom:!0}:void 0,L=T=>{var ue,Oe;const U=P.current+T,Q=_().filter(se=>!se.disabled),K=document.activeElement,oe=(ue=Q.find(se=>se.ref.current===K))==null?void 0:ue.textValue,W=Q.map(se=>se.textValue),fe=Gne(W,U,oe),Se=(Oe=Q.find(se=>se.textValue===fe))==null?void 0:Oe.ref.current;(function se(ge){P.current=ge,window.clearTimeout(C.current),ge!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(U),Se&&setTimeout(()=>Se.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),$0();const D=y.useCallback(T=>{var Q,K;return R.current===((Q=E.current)==null?void 0:Q.side)&&Xne(T,(K=E.current)==null?void 0:K.area)},[]);return s.jsx(Dne,{scope:r,searchRef:P,onItemEnter:y.useCallback(T=>{D(T)&&T.preventDefault()},[D]),onItemLeave:y.useCallback(T=>{var U;D(T)||((U=S.current)==null||U.focus(),N(null))},[D]),onTriggerLeave:y.useCallback(T=>{D(T)&&T.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:y.useCallback(T=>{E.current=T},[]),children:s.jsx(B,{...F,children:s.jsx(Gg,{asChild:!0,trapped:a,onMountAutoFocus:me(i,T=>{var U;T.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx($u,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(Jk,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:me(c,T=>{b.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(k0,{role:"menu","aria-orientation":"vertical","data-state":sU(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:me(p.onKeyDown,T=>{const Q=T.target.closest("[data-radix-menu-content]")===T.currentTarget,K=T.ctrlKey||T.altKey||T.metaKey,oe=T.key.length===1;Q&&(T.key==="Tab"&&T.preventDefault(),!K&&oe&&L(T.key));const W=S.current;if(T.target!==W||!Nne.includes(T.key))return;T.preventDefault();const Se=_().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);$5.includes(T.key)&&Se.reverse(),Hne(Se)}),onBlur:me(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:me(e.onPointerMove,Wp(T=>{const U=T.target,Q=$.current!==T.clientX;if(T.currentTarget.contains(U)&&Q){const K=T.clientX>$.current?"right":"left";R.current=K,$.current=T.clientX}}))})})})})})})});z5.displayName=ba;var Ine="MenuGroup",aE=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{role:"group",...n,ref:t})});aE.displayName=Ine;var Lne="MenuLabel",V5=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{...n,ref:t})});V5.displayName=Lne;var Tx="MenuItem",rT="menu.itemSelect",U0=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),o=Zg(Tx,e.__scopeMenu),l=nE(Tx,e.__scopeMenu),c=He(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(rT,{bubbles:!0,cancelable:!0});f.addEventListener(rT,m=>n==null?void 0:n(m),{once:!0}),Nk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(q5,{...a,ref:c,disabled:r,onClick:me(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:me(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||D1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});U0.displayName=Tx;var q5=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=nE(Tx,r),l=L5(r),c=y.useRef(null),u=He(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(qp.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(eE,{asChild:!0,...l,focusable:!n,children:s.jsx(Ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:me(e.onPointerMove,Wp(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,Wp(g=>o.onItemLeave(g))),onFocus:me(e.onFocus,()=>f(!0)),onBlur:me(e.onBlur,()=>f(!1))})})})}),Fne="MenuCheckboxItem",W5=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(X5,{scope:e.__scopeMenu,checked:r,children:s.jsx(U0,{role:"menuitemcheckbox","aria-checked":Dx(r)?"mixed":r,...a,ref:t,"data-state":oE(r),onSelect:me(a.onSelect,()=>n==null?void 0:n(Dx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});W5.displayName=Fne;var H5="MenuRadioGroup",[Une,Bne]=Fu(H5,{value:void 0,onValueChange:()=>{}}),K5=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Br(n);return s.jsx(Une,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(aE,{...a,ref:t})})});K5.displayName=H5;var G5="MenuRadioItem",Y5=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=Bne(G5,e.__scopeMenu),i=r===a.value;return s.jsx(X5,{scope:e.__scopeMenu,checked:i,children:s.jsx(U0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":oE(i),onSelect:me(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Y5.displayName=G5;var iE="MenuItemIndicator",[X5,zne]=Fu(iE,{checked:!1}),Q5=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=zne(iE,r);return s.jsx(tn,{present:n||Dx(i.checked)||i.checked===!0,children:s.jsx(Ce.span,{...a,ref:t,"data-state":oE(i.checked)})})});Q5.displayName=iE;var Vne="MenuSeparator",Z5=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Z5.displayName=Vne;var qne="MenuArrow",J5=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=F0(r);return s.jsx(E0,{...a,...n,ref:t})});J5.displayName=qne;var Wne="MenuSub",[$3e,eU]=Fu(Wne),Rm="MenuSubTrigger",tU=y.forwardRef((e,t)=>{const r=Uu(Rm,e.__scopeMenu),n=Zg(Rm,e.__scopeMenu),a=eU(Rm,e.__scopeMenu),i=nE(Rm,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(tE,{asChild:!0,...u,children:s.jsx(q5,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":sU(r.open),...e,ref:g0(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,Wp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:me(e.onPointerLeave,Wp(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Sne[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});tU.displayName=Rm;var rU="MenuSubContent",nU=y.forwardRef((e,t)=>{const r=U5(ba,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Uu(ba,e.__scopeMenu),o=Zg(ba,e.__scopeMenu),l=eU(rU,e.__scopeMenu),c=y.useRef(null),u=He(t,c);return s.jsx(qp.Provider,{scope:e.__scopeMenu,children:s.jsx(tn,{present:n||i.open,children:s.jsx(qp.Slot,{scope:e.__scopeMenu,children:s.jsx(sE,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:me(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Cne[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});nU.displayName=rU;function sU(e){return e?"open":"closed"}function Dx(e){return e==="indeterminate"}function oE(e){return Dx(e)?"indeterminate":e?"checked":"unchecked"}function Hne(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Kne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Gne(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Kne(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Yne(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Xne(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Yne(r,t)}function Wp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Qne=F5,Zne=tE,Jne=B5,ese=z5,tse=aE,rse=V5,nse=U0,sse=W5,ase=K5,ise=Y5,ose=Q5,lse=Z5,cse=J5,use=tU,dse=nU,B0="DropdownMenu",[fse,I3e]=Vr(B0,[I5]),ls=I5(),[hse,aU]=fse(B0),iU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ls(t),u=y.useRef(null),[d,f]=Vn({prop:a,defaultProp:i??!1,onChange:o,caller:B0});return s.jsx(hse,{scope:t,triggerId:Ns(),triggerRef:u,contentId:Ns(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Qne,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};iU.displayName=B0;var oU="DropdownMenuTrigger",lU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=aU(oU,r),o=ls(r);return s.jsx(Zne,{asChild:!0,...o,children:s.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:g0(t,i.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});lU.displayName=oU;var mse="DropdownMenuPortal",cU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ls(t);return s.jsx(Jne,{...n,...r})};cU.displayName=mse;var uU="DropdownMenuContent",dU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=aU(uU,r),i=ls(r),o=y.useRef(!1);return s.jsx(ese,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dU.displayName=uU;var pse="DropdownMenuGroup",gse=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(tse,{...a,...n,ref:t})});gse.displayName=pse;var vse="DropdownMenuLabel",fU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(rse,{...a,...n,ref:t})});fU.displayName=vse;var yse="DropdownMenuItem",hU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(nse,{...a,...n,ref:t})});hU.displayName=yse;var xse="DropdownMenuCheckboxItem",mU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(sse,{...a,...n,ref:t})});mU.displayName=xse;var bse="DropdownMenuRadioGroup",wse=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(ase,{...a,...n,ref:t})});wse.displayName=bse;var jse="DropdownMenuRadioItem",pU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(ise,{...a,...n,ref:t})});pU.displayName=jse;var _se="DropdownMenuItemIndicator",gU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(ose,{...a,...n,ref:t})});gU.displayName=_se;var Nse="DropdownMenuSeparator",vU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(lse,{...a,...n,ref:t})});vU.displayName=Nse;var Sse="DropdownMenuArrow",Cse=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(cse,{...a,...n,ref:t})});Cse.displayName=Sse;var kse="DropdownMenuSubTrigger",yU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(use,{...a,...n,ref:t})});yU.displayName=kse;var Ese="DropdownMenuSubContent",xU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ls(r);return s.jsx(dse,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xU.displayName=Ese;var Pse=iU,Ase=lU,Ose=cU,bU=dU,wU=fU,jU=hU,_U=mU,NU=pU,SU=gU,CU=vU,kU=yU,EU=xU;const Cs=Pse,ks=Ase,Tse=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(kU,{ref:a,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Oo,{className:"ml-auto h-4 w-4"})]}));Tse.displayName=kU.displayName;const Dse=y.forwardRef(({className:e,...t},r)=>s.jsx(EU,{ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Dse.displayName=EU.displayName;const ss=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Ose,{children:s.jsx(bU,{ref:n,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ss.displayName=bU.displayName;const nt=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(jU,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));nt.displayName=jU.displayName;const Rse=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(_U,{ref:a,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SU,{children:s.jsx(fh,{className:"h-4 w-4"})})}),t]}));Rse.displayName=_U.displayName;const Mse=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(NU,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(SU,{children:s.jsx(b0,{className:"h-2 w-2 fill-current"})})}),t]}));Mse.displayName=NU.displayName;const R1=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(wU,{ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));R1.displayName=wU.displayName;const ga=y.forwardRef(({className:e,...t},r)=>s.jsx(CU,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));ga.displayName=CU.displayName;const $se=dh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function de({className:e,variant:t,...r}){return s.jsx("div",{className:ne($se({variant:t}),e),...r})}function _h(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[a,i]=y.useState(!0);return y.useEffect(()=>{const{data:{subscription:u}}=M.auth.onAuthStateChange((d,f)=>{n(f),t((f==null?void 0:f.user)??null),i(!1)});return M.auth.getSession().then(({data:{session:d}})=>{n(d),t((d==null?void 0:d.user)??null),i(!1)}),()=>u.unsubscribe()},[]),{user:e,session:r,loading:a,signUp:async(u,d,f)=>{const h=`${window.location.origin}/`,{data:m,error:g}=await M.auth.signUp({email:u,password:d,options:{emailRedirectTo:h,data:{display_name:f}}});return{data:m,error:g}},signIn:async(u,d)=>{const{data:f,error:h}=await M.auth.signInWithPassword({email:u,password:d});return{data:f,error:h}},signOut:async()=>{const{error:u}=await M.auth.signOut();return{error:u}}}}function Ise(){const[e,t]=y.useState([]),[r,n]=y.useState(0),[a,i]=y.useState(!0),{toast:o}=cr(),l=y.useCallback(async()=>{try{i(!0);const{data:{user:d}}=await M.auth.getUser();if(!d){i(!1);return}const{data:f,error:h}=await M.from("notifications").select("*").eq("user_id",d.id).order("created_at",{ascending:!1}).limit(50);if(h)throw h;const m=f||[];t(m),n(m.filter(g=>!g.is_read).length)}catch(d){console.error("Error fetching notifications:",d.message)}finally{i(!1)}},[]),c=async d=>{try{const{error:f}=await M.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",d);if(f)throw f;t(h=>h.map(m=>m.id===d?{...m,is_read:!0,read_at:new Date().toISOString()}:m)),n(h=>Math.max(0,h-1))}catch(f){console.error("Error marking notification as read:",f.message)}},u=async()=>{try{const{data:{user:d}}=await M.auth.getUser();if(!d)return;const{error:f}=await M.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",d.id).eq("is_read",!1);if(f)throw f;t(h=>h.map(m=>({...m,is_read:!0,read_at:new Date().toISOString()}))),n(0),o({title:"All notifications marked as read"})}catch(d){o({title:"Error marking notifications as read",description:d.message,variant:"destructive"})}};return y.useEffect(()=>{l();const d=async()=>{const{data:{user:h}}=await M.auth.getUser();return h?M.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${h.id}`},g=>{const p=g.new;t(v=>[p,...v]),n(v=>v+1),o({title:p.title,description:p.message})}).subscribe():null};let f=null;return d().then(h=>{f=h}),()=>{f&&M.removeChannel(f)}},[l,o]),{notifications:e,unreadCount:r,loading:a,fetchNotifications:l,markAsRead:c,markAllAsRead:u}}function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Es(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ln(e,t){const r=Ge(e);return isNaN(t)?Es(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ei(e,t){const r=Ge(e);if(isNaN(t))return Es(e,NaN);if(!t)return r;const n=r.getDate(),a=Es(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function Lse(e){const t=Ge(e).getDay();return t===0||t===6}const lE=6048e5,Fse=864e5,PU=6e4,AU=36e5,ny=43200,nT=1440;let Use={};function Nh(){return Use}function Di(e,t){var l,c,u,d;const r=Nh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function xu(e){return Di(e,{weekStartsOn:1})}function OU(e){const t=Ge(e),r=t.getFullYear(),n=Es(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=xu(n),i=Es(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=xu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Nf(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function Sf(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function va(e,t){const r=Nf(e),n=Nf(t),a=+r-Sf(r),i=+n-Sf(n);return Math.round((a-i)/Fse)}function Bse(e){const t=OU(e),r=Es(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xu(r)}function M1(e,t){const r=t*7;return ln(e,r)}function zse(e,t){return ei(e,t*12)}function Vse(e){let t;return e.forEach(function(r){const n=Ge(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function qse(e){let t;return e.forEach(r=>{const n=Ge(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Fy(e,t){const r=Ge(e),n=Ge(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Wse(e){return Es(e,Date.now())}function Zn(e,t){const r=Nf(e),n=Nf(t);return+r==+n}function cE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $1(e){if(!cE(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function Hse(e,t){const r=Ge(e);let n=Ge(t);if(!$1(r)||!$1(n))return NaN;const a=va(r,n),i=a<0?-1:1,o=Math.trunc(a/7);let l=o*5;for(n=ln(n,o*7);!Zn(r,n);)l+=Lse(n)?0:i,n=ln(n,i);return l===0?0:l}function Cf(e,t){const r=Ge(e),n=Ge(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Kse(e,t,r){const n=Di(e,r),a=Di(t,r),i=+n-Sf(n),o=+a-Sf(a);return Math.round((i-o)/lE)}function ti(e,t){const r=Ge(e),n=Ge(t),a=sT(r,n),i=Math.abs(va(r,n));r.setDate(r.getDate()-a*i);const o=+(sT(r,n)===-a),l=a*(i-o);return l===0?0:l}function sT(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Gse(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Yse(e,t){return+Ge(e)-+Ge(t)}function Xse(e){const t=Ge(e);return t.setHours(23,59,59,999),t}function z0(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qse(e){const t=Ge(e);return+Xse(t)==+z0(t)}function Zse(e,t){const r=Ge(e),n=Ge(t),a=Fy(r,n),i=Math.abs(Cf(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Fy(r,n)===-a;Qse(Ge(e))&&i===1&&Fy(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function Jse(e,t,r){const n=Yse(e,t)/1e3;return Gse(r==null?void 0:r.roundingMethod)(n)}function Ss(e){const t=Ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function TU(e){const t=Ge(e),r=Es(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function uE(e,t){var l,c,u,d;const r=Nh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function DU(e){return uE(e,{weekStartsOn:1})}const eae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tae=(e,t,r)=>{let n;const a=eae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function f_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aae={date:f_({formats:rae,defaultWidth:"full"}),time:f_({formats:nae,defaultWidth:"full"}),dateTime:f_({formats:sae,defaultWidth:"full"})},iae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oae=(e,t,r,n)=>iae[e];function im(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const lae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mae=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pae={ordinalNumber:mae,era:im({values:lae,defaultWidth:"wide"}),quarter:im({values:cae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:im({values:uae,defaultWidth:"wide"}),day:im({values:dae,defaultWidth:"wide"}),dayPeriod:im({values:fae,defaultWidth:"wide",formattingValues:hae,defaultFormattingWidth:"wide"})};function om(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?vae(l,f=>f.test(o)):gae(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function gae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yae(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const xae=/^(\d+)(th|st|nd|rd)?/i,bae=/\d+/i,wae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jae={any:[/^b/i,/^(a|c)/i]},_ae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nae={any:[/1/i,/2/i,/3/i,/4/i]},Sae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Aae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oae={ordinalNumber:yae({matchPattern:xae,parsePattern:bae,valueCallback:e=>parseInt(e,10)}),era:om({matchPatterns:wae,defaultMatchWidth:"wide",parsePatterns:jae,defaultParseWidth:"any"}),quarter:om({matchPatterns:_ae,defaultMatchWidth:"wide",parsePatterns:Nae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:om({matchPatterns:Sae,defaultMatchWidth:"wide",parsePatterns:Cae,defaultParseWidth:"any"}),day:om({matchPatterns:kae,defaultMatchWidth:"wide",parsePatterns:Eae,defaultParseWidth:"any"}),dayPeriod:om({matchPatterns:Pae,defaultMatchWidth:"any",parsePatterns:Aae,defaultParseWidth:"any"})},dE={code:"en-US",formatDistance:tae,formatLong:aae,formatRelative:oae,localize:pae,match:Oae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tae(e){const t=Ge(e);return va(t,TU(t))+1}function RU(e){const t=Ge(e),r=+xu(t)-+Bse(t);return Math.round(r/lE)+1}function MU(e,t){var d,f,h,m;const r=Ge(e),n=r.getFullYear(),a=Nh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Es(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Di(o,t),c=Es(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Di(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Dae(e,t){var l,c,u,d;const r=Nh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=MU(e,t),i=Es(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Di(i,t)}function $U(e,t){const r=Ge(e),n=+Di(r,t)-+Dae(r,t);return Math.round(n/lE)+1}function er(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Wo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return er(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):er(r+1,2)},d(e,t){return er(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return er(e.getHours()%12||12,t.length)},H(e,t){return er(e.getHours(),t.length)},m(e,t){return er(e.getMinutes(),t.length)},s(e,t){return er(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return er(a,t.length)}},od={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Wo.y(e,t)},Y:function(e,t,r,n){const a=MU(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return er(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):er(i,t.length)},R:function(e,t){const r=OU(e);return er(r,t.length)},u:function(e,t){const r=e.getFullYear();return er(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return er(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return er(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Wo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return er(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=$U(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):er(a,t.length)},I:function(e,t,r){const n=RU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):er(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wo.d(e,t)},D:function(e,t,r){const n=Tae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):er(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return er(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return er(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return er(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=od.noon:n===0?a=od.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=od.evening:n>=12?a=od.afternoon:n>=4?a=od.morning:a=od.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wo.s(e,t)},S:function(e,t){return Wo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return oT(n);case"XXXX":case"XX":return _c(n);case"XXXXX":case"XXX":default:return _c(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return oT(n);case"xxxx":case"xx":return _c(n);case"xxxxx":case"xxx":default:return _c(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iT(n,":");case"OOOO":default:return"GMT"+_c(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iT(n,":");case"zzzz":default:return"GMT"+_c(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return er(n,t.length)},T:function(e,t,r){const n=e.getTime();return er(n,t.length)}};function iT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+er(i,2)}function oT(e,t){return e%60===0?(e>0?"-":"+")+er(Math.abs(e)/60,2):_c(e,t)}function _c(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=er(Math.trunc(n/60),2),i=er(n%60,2);return r+a+t+i}const lT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return lT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lT(n,t)).replace("{{time}}",IU(a,t))},Mae={p:IU,P:Rae},$ae=/^D+$/,Iae=/^Y+$/,Lae=["D","DD","YY","YYYY"];function Fae(e){return $ae.test(e)}function Uae(e){return Iae.test(e)}function Bae(e,t,r){const n=zae(e,t,r);if(console.warn(n),Lae.includes(e))throw new RangeError(n)}function zae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wae=/^'([^]*?)'?$/,Hae=/''/g,Kae=/[a-zA-Z]/;function le(e,t,r){var d,f,h,m,g,p,v,b;const n=Nh(),a=(r==null?void 0:r.locale)??n.locale??dE,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ge(e);if(!$1(l))throw new RangeError("Invalid time value");let c=t.match(qae).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=Mae[w];return _(x,a.formatLong)}return x}).join("").match(Vae).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Gae(x)};if(aT[w])return{isToken:!0,value:x};if(w.match(Kae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Uae(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Fae(w))&&Bae(w,t,String(e));const _=aT[w[0]];return _(l,w,a.localize,u)}).join("")}function Gae(e){const t=e.match(Wae);return t?t[1].replace(Hae,"'"):e}function Yae(e,t,r){const n=Nh(),a=(r==null?void 0:r.locale)??n.locale??dE,i=2520,o=Fy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ge(t),u=Ge(e)):(c=Ge(e),u=Ge(t));const d=Jse(u,c),f=(Sf(u)-Sf(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<nT){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<ny){const g=Math.round(h/nT);return a.formatDistance("xDays",g,l)}else if(h<ny*2)return m=Math.round(h/ny),a.formatDistance("aboutXMonths",m,l)}if(m=Zse(u,c),m<12){const g=Math.round(h/ny);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function LU(e,t){return Yae(e,Wse(e),t)}function Xae(e){const t=Ge(e),r=t.getFullYear(),n=t.getMonth(),a=Es(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Qae(e){return Math.trunc(+Ge(e)/1e3)}function Zae(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Jae(e,t){return Kse(Zae(e),Ss(e),t)+1}function I1(e,t){const r=Ge(e),n=Ge(t);return r.getTime()>n.getTime()}function FU(e,t){const r=Ge(e),n=Ge(t);return+r<+n}function Jm(e){return+Ge(e)<Date.now()}function fE(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function eie(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()}function h_(e,t){return ln(e,-t)}function Kr(e,t){const n=sie(e);let a;if(n.date){const c=aie(n.date,2);a=iie(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=oie(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=lie(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const sy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function sie(e){const t={},r=e.split(sy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],sy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(sy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=sy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function aie(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function iie(e,t){if(t===null)return new Date(NaN);const r=e.match(tie);if(!r)return new Date(NaN);const n=!!r[4],a=lm(r[1]),i=lm(r[2])-1,o=lm(r[3]),l=lm(r[4]),c=lm(r[5])-1;if(n)return hie(t,l,c)?cie(t,l,c):new Date(NaN);{const u=new Date(0);return!die(t,i,o)||!fie(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function lm(e){return e?parseInt(e):1}function oie(e){const t=e.match(rie);if(!t)return NaN;const r=m_(t[1]),n=m_(t[2]),a=m_(t[3]);return mie(r,n,a)?r*AU+n*PU+a*1e3:NaN}function m_(e){return e&&parseFloat(e.replace(",","."))||0}function lie(e){if(e==="Z")return 0;const t=e.match(nie);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return pie(n,a)?r*(n*AU+a*PU):NaN}function cie(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const uie=[31,null,31,30,31,30,31,31,30,31,30,31];function UU(e){return e%400===0||e%4===0&&e%100!==0}function die(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(uie[t]||(UU(e)?29:28))}function fie(e,t){return t>=1&&t<=(UU(e)?366:365)}function hie(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function mie(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function pie(e,t){return t>=0&&t<=59}function p_(e,t){const r=Ge(e),n=r.getFullYear(),a=r.getDate(),i=Es(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Xae(i);return r.setMonth(t,Math.min(a,o)),r}function cT(e,t){const r=Ge(e);return isNaN(+r)?Es(e,NaN):(r.setFullYear(t),r)}function gie({onMenuClick:e}){var f;const t=li(),{user:r,signOut:n}=_h(),{notifications:a,unreadCount:i,markAsRead:o,markAllAsRead:l}=Ise(),c=async()=>{const{error:h}=await n();if(h){re({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"});return}re({title:"Logged out",description:"You have been successfully logged out."}),t("/auth")},u=((f=r==null?void 0:r.user_metadata)==null?void 0:f.display_name)||(r==null?void 0:r.email)||"User",d=u.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2);return s.jsx("header",{className:"sticky top-0 z-30 h-16 border-b border-border bg-card/80 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-between h-full px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx(I,{variant:"ghost",size:"icon",className:"md:hidden",onClick:e,children:s.jsx(AF,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative hidden sm:block max-w-md flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search employees, documents...",className:"pl-10 bg-muted/50 border-0 focus-visible:ring-1 focus-visible:ring-primary"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(wF,{className:"h-5 w-5"}),i>0&&s.jsx(de,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs bg-destructive border-0",children:i>9?"9+":i})]})}),s.jsxs(ss,{align:"end",className:"w-80 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx(R1,{children:"Notifications"}),i>0&&s.jsxs(I,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:h=>{h.preventDefault(),l()},children:[s.jsx(EG,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),s.jsx(ga,{}),a.length===0?s.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"No notifications yet"}):a.slice(0,10).map(h=>s.jsxs(nt,{className:`flex flex-col items-start gap-1 cursor-pointer ${h.is_read?"":"bg-muted/50"}`,onClick:()=>{h.is_read||o(h.id),h.link&&t(h.link)},children:[s.jsxs("div",{className:"flex items-start justify-between w-full gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:h.title}),!h.is_read&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),s.jsx("span",{className:"text-xs text-muted-foreground line-clamp-2",children:h.message}),s.jsx("span",{className:"text-xs text-muted-foreground/70",children:LU(new Date(h.created_at),{addSuffix:!0})})]},h.id)),a.length>10&&s.jsxs(s.Fragment,{children:[s.jsx(ga,{}),s.jsx(nt,{className:"text-center justify-center text-primary cursor-pointer",children:"View all notifications"})]})]})]}),s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:s.jsxs(Pr,{className:"h-9 w-9",children:[s.jsx(Kg,{src:"/avatars/admin.jpg",alt:u}),s.jsx(Ar,{className:"bg-primary text-primary-foreground text-sm",children:d})]})})}),s.jsxs(ss,{align:"end",className:"w-56",children:[s.jsx(R1,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:u}),s.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:(r==null?void 0:r.email)||"No email"})]})}),s.jsx(ga,{}),s.jsx(nt,{children:"My Profile"}),s.jsx(nt,{children:"Account Settings"}),s.jsx(ga,{}),s.jsx(nt,{className:"text-destructive",onClick:c,children:"Log out"})]})]})]})]})})}function BU({children:e}){const[t,r]=y.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(qO,{})}),t&&s.jsx("div",{className:"fixed inset-0 z-40 bg-foreground/20 backdrop-blur-sm md:hidden",onClick:()=>r(!1),children:s.jsx("div",{onClick:n=>n.stopPropagation(),children:s.jsx(qO,{})})}),s.jsxs("div",{className:ne("md:ml-64 min-h-screen flex flex-col transition-all duration-300"),children:[s.jsx(gie,{onMenuClick:()=>r(!t)}),s.jsx("main",{className:"flex-1 p-4 md:p-6",children:e})]})]})}function vie({children:e}){const{user:t,loading:r}=_h(),n=li();return y.useEffect(()=>{!r&&!t&&n("/auth")},[t,r,n]),r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?s.jsx(s.Fragment,{children:e}):null}const yie={default:"bg-primary/10 text-primary",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",danger:"bg-destructive/10 text-destructive",info:"bg-info/10 text-info"};function Bt({title:e,value:t,description:r,icon:n,trend:a,variant:i="default",className:o}){return s.jsx("div",{className:ne("metric-card bg-card rounded-xl border border-border p-5 card-interactive",o),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:t}),a&&s.jsxs("span",{className:ne("text-xs font-medium",a.positive?"text-success":"text-destructive"),children:[a.positive?"+":"",a.value,"%"]})]}),r&&s.jsx("p",{className:"text-xs text-muted-foreground",children:r})]}),s.jsx("div",{className:ne("p-3 rounded-lg",yie[i]),children:s.jsx(n,{className:"h-5 w-5"})})]})})}const G=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const he=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));he.displayName="CardHeader";const pe=y.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const Fe=y.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));Fe.displayName="CardDescription";const X=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));X.displayName="CardContent";const xie=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));xie.displayName="CardFooter";class bie{async getCurrentUser(){const{data:{user:t}}=await M.auth.getUser();if(!t)return null;const{data:r}=await M.from("profiles").select("display_name").eq("user_id",t.id).maybeSingle();return{id:t.id,email:t.email,name:(r==null?void 0:r.display_name)||t.email}}async log(t){try{const r=await this.getCurrentUser(),n={action:t.action,entity_type:t.entityType,entity_id:t.entityId,organisation_id:t.organisationId||null,user_id:(r==null?void 0:r.id)||null,user_email:(r==null?void 0:r.email)||null,user_name:(r==null?void 0:r.name)||null,old_values:t.beforeState?JSON.parse(JSON.stringify(t.beforeState)):null,new_values:t.afterState?JSON.parse(JSON.stringify(t.afterState)):null},{error:a}=await M.from("audit_logs").insert(n);return a?(console.error("[AuditService] Failed to write audit log:",a),!1):!0}catch(r){return console.error("[AuditService] Unexpected error writing audit log:",r),!1}}async logEmployeeAction(t,r,n,a,i){return this.log({action:`employee.${t}`,entityType:"employee",entityId:r,organisationId:n,beforeState:a,afterState:i})}async logCertificationAction(t,r,n,a,i){return this.log({action:`certification.${t}`,entityType:"certification",entityId:r,organisationId:n,beforeState:a,afterState:i})}async logTimesheetAction(t,r,n,a,i){return this.log({action:`timesheet.${t}`,entityType:"timesheet",entityId:r,organisationId:n,beforeState:a,afterState:i})}async logLeaveAction(t,r,n,a,i){return this.log({action:`leave.${t}`,entityType:"leave_request",entityId:r,organisationId:n,beforeState:a,afterState:i})}}const Nr=new bie,ay="hrms_employees";function sc(e){const t=oi(),[r,n]=y.useState("idle"),{data:a}=sr({queryKey:["default-organisation"],queryFn:async()=>{const{data:x,error:w}=await M.from("organisations").select("id").limit(1).maybeSingle();if(w)throw w;return x},enabled:!e}),i=a==null?void 0:a.id,{data:o=[],isLoading:l,error:c,refetch:u}=sr({queryKey:["employees",i],queryFn:async()=>{if(!i)return[];const{data:x,error:w}=await M.from("employees").select("*").eq("organisation_id",i).order("last_name",{ascending:!0});if(w)throw console.error("[useSupabaseEmployees] Failed to fetch employees:",w),w;return x||[]},enabled:!!i}),{data:d=[]}=sr({queryKey:["employee-certifications",i],queryFn:async()=>{if(!i)return[];const{data:x,error:w}=await M.from("employee_certifications").select("*").eq("organisation_id",i).order("expiry_date",{ascending:!0});if(w)throw console.error("[useSupabaseEmployees] Failed to fetch certifications:",w),w;return x||[]},enabled:!!i}),f=Gt({mutationFn:async x=>{const{data:w,error:_}=await M.from("employees").insert(x).select().single();if(_)throw _;return w},onSuccess:async x=>{t.invalidateQueries({queryKey:["employees",i]}),await Nr.logEmployeeAction("create",x.id,i,void 0,x),re({title:"Employee Added",description:`${x.first_name} ${x.last_name} has been added to the system.`})},onError:x=>{console.error("[useSupabaseEmployees] Create failed:",x),re({title:"Error",description:"Failed to add employee. Please try again.",variant:"destructive"})}}),h=Gt({mutationFn:async({id:x,updates:w})=>{const{data:_}=await M.from("employees").select("*").eq("id",x).single(),{data:j,error:N}=await M.from("employees").update(w).eq("id",x).select().single();if(N)throw N;return{employee:j,beforeState:_}},onSuccess:async({employee:x,beforeState:w})=>{t.invalidateQueries({queryKey:["employees",i]}),await Nr.logEmployeeAction("update",x.id,i,w,x),re({title:"Employee Updated",description:`${x.first_name} ${x.last_name}'s profile has been updated.`})},onError:x=>{console.error("[useSupabaseEmployees] Update failed:",x),re({title:"Error",description:"Failed to update employee. Please try again.",variant:"destructive"})}}),m=Gt({mutationFn:async({id:x,status:w})=>{const{data:_}=await M.from("employees").select("*").eq("id",x).single(),{data:j,error:N}=await M.from("employees").update({status:w}).eq("id",x).select().single();if(N)throw N;return{employee:j,beforeState:_}},onSuccess:async({employee:x,beforeState:w})=>{t.invalidateQueries({queryKey:["employees",i]}),await Nr.logEmployeeAction("status_change",x.id,i,{status:w==null?void 0:w.status},{status:x.status});const _=x.status==="inactive"?"deactivated":"reactivated";re({title:`Employee ${_.charAt(0).toUpperCase()+_.slice(1)}`,description:`${x.first_name} ${x.last_name} has been ${_}.`})},onError:x=>{console.error("[useSupabaseEmployees] Status change failed:",x),re({title:"Error",description:"Failed to change employee status. Please try again.",variant:"destructive"})}}),g=Gt({mutationFn:async x=>{const{data:w,error:_}=await M.from("employee_certifications").insert(x).select().single();if(_)throw _;return w},onSuccess:async x=>{t.invalidateQueries({queryKey:["employee-certifications",i]}),await Nr.logCertificationAction("create",x.id,i,void 0,x),re({title:"Certification Added",description:`${x.name} has been added.`})},onError:x=>{console.error("[useSupabaseEmployees] Add certification failed:",x),re({title:"Error",description:"Failed to add certification. Please try again.",variant:"destructive"})}}),p=y.useCallback(async()=>{if(i)try{const x=localStorage.getItem(ay);if(!x){n("complete");return}const w=JSON.parse(x);if(!Array.isArray(w)||w.length===0){n("complete"),localStorage.removeItem(ay);return}const{count:_}=await M.from("employees").select("*",{count:"exact",head:!0}).eq("organisation_id",i);if(_&&_>0){localStorage.removeItem(ay),n("complete"),console.log("[Migration] Employees already in database, clearing localStorage");return}n("migrating"),console.log(`[Migration] Migrating ${w.length} employees from localStorage`);const j=w.map(S=>{var k,C,P;return{organisation_id:i,first_name:S.firstName||"Unknown",last_name:S.lastName||"Unknown",email:S.email||`unknown-${Date.now()}@temp.local`,phone:S.phone||null,avatar_url:S.avatar||null,employment_type:S.employmentType||"casual",position:S.position||null,department:S.department||null,start_date:S.startDate||null,status:S.status||"active",compliance_status:S.complianceStatus||"pending",pay_rate:S.payRate||null,award_classification_id:null,emergency_contact_name:((k=S.emergencyContact)==null?void 0:k.name)||null,emergency_contact_phone:((C=S.emergencyContact)==null?void 0:C.phone)||null,emergency_contact_relationship:((P=S.emergencyContact)==null?void 0:P.relationship)||null}}),{error:N}=await M.from("employees").insert(j);if(N){console.error("[Migration] Failed to migrate employees:",N),n("error");return}localStorage.removeItem(ay),n("complete"),u(),re({title:"Data Migration Complete",description:`${w.length} employees have been migrated to the database.`}),console.log("[Migration] Successfully migrated employees to Supabase")}catch(x){console.error("[Migration] Unexpected error:",x),n("error")}},[i,u]);y.useEffect(()=>{i&&r==="idle"&&p()},[i,r,p]);const v=y.useCallback(x=>d.filter(w=>w.employee_id===x),[d]),b=o.filter(x=>x.status==="active");return{employees:o,activeEmployees:b,certifications:d,getCertificationsForEmployee:v,organisationId:i,isLoading:l,error:c,migrationStatus:r,createEmployee:f.mutateAsync,updateEmployee:(x,w)=>h.mutateAsync({id:x,updates:w}),changeStatus:(x,w)=>m.mutateAsync({id:x,status:w}),addCertification:g.mutateAsync,refetch:u,isCreating:f.isPending,isUpdating:h.isPending,isChangingStatus:m.isPending}}function wie(){const{employees:e,certifications:t,getCertificationsForEmployee:r,isLoading:n}=sc(),a=y.useMemo(()=>e.filter(i=>i.status==="active").flatMap(i=>r(i.id).filter(l=>l.status==="expired"||l.status==="expiring").map(l=>({employeeId:i.id,employeeName:`${i.first_name} ${i.last_name}`,certification:l.name,expiryDate:l.expiry_date||"",status:l.status,daysUntilExpiry:l.expiry_date?ti(Kr(l.expiry_date),new Date):0}))).sort((i,o)=>i.status==="expired"&&o.status!=="expired"?-1:i.status!=="expired"&&o.status==="expired"?1:i.daysUntilExpiry-o.daysUntilExpiry),[e,r]);return n?s.jsxs(G,{className:"h-full",children:[s.jsx(he,{className:"flex flex-row items-center justify-between pb-2",children:s.jsx(pe,{className:"text-lg font-semibold",children:"Compliance Alerts"})}),s.jsx(X,{className:"flex items-center justify-center py-8",children:s.jsx(Xe,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):s.jsxs(G,{className:"h-full",children:[s.jsxs(he,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(pe,{className:"text-lg font-semibold",children:"Compliance Alerts"}),s.jsxs(I,{variant:"ghost",size:"sm",className:"text-primary",children:["View All",s.jsx(Oo,{className:"ml-1 h-4 w-4"})]})]}),s.jsx(X,{className:"space-y-3",children:a.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(wt,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"All certifications are up to date!"})]}):a.slice(0,5).map((i,o)=>s.jsxs("div",{className:ne("flex items-start gap-3 p-3 rounded-lg border transition-colors hover:bg-muted/50",i.status==="expired"?"border-destructive/30 bg-destructive/5":"border-warning/30 bg-warning/5"),children:[s.jsx("div",{className:ne("p-2 rounded-full flex-shrink-0",i.status==="expired"?"bg-destructive/10":"bg-warning/10"),children:i.status==="expired"?s.jsx(Bn,{className:"h-4 w-4 text-destructive"}):s.jsx(lr,{className:"h-4 w-4 text-warning"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:i.employeeName}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i.certification}),s.jsx("p",{className:ne("text-xs font-medium mt-1",i.status==="expired"?"text-destructive":"text-warning"),children:i.status==="expired"?`Expired ${Math.abs(i.daysUntilExpiry)} days ago`:`Expires in ${i.daysUntilExpiry} days`})]}),s.jsx(I,{variant:"ghost",size:"sm",className:"flex-shrink-0",children:"Resolve"})]},`${i.employeeId}-${i.certification}-${o}`))})]})}const jie={hire:pu,leave:Ht,document:Oi,timesheet:wt,compliance:bt},_ie={hire:"bg-success/10 text-success",leave:"bg-info/10 text-info",document:"bg-primary/10 text-primary",timesheet:"bg-warning/10 text-warning",compliance:"bg-success/10 text-success"},Nie=[{id:"1",type:"hire",title:"New Employee Onboarded",description:"Alex Nguyen joined as Specialist Support",time:"2 hours ago",user:{name:"Alex Nguyen",initials:"AN"}},{id:"2",type:"leave",title:"Leave Request Approved",description:"Emma Thompson - Personal leave approved",time:"3 hours ago",user:{name:"Emma Thompson",initials:"ET"}},{id:"3",type:"compliance",title:"Certificate Uploaded",description:"Sarah Mitchell uploaded First Aid Certificate",time:"5 hours ago",user:{name:"Sarah Mitchell",initials:"SM"}},{id:"4",type:"timesheet",title:"Timesheet Submitted",description:"Michael Chen submitted weekly timesheet",time:"6 hours ago",user:{name:"Michael Chen",initials:"MC"}},{id:"5",type:"document",title:"Contract Signed",description:"David Williams signed employment contract",time:"1 day ago",user:{name:"David Williams",initials:"DW"}}];function Sie(){return s.jsxs(G,{className:"h-full",children:[s.jsx(he,{className:"pb-3",children:s.jsx(pe,{className:"text-lg font-semibold",children:"Recent Activity"})}),s.jsx(X,{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border"}),s.jsx("div",{className:"space-y-4",children:Nie.map(e=>{const t=jie[e.type];return s.jsxs("div",{className:"relative flex gap-4 pl-2",children:[s.jsx("div",{className:ne("relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-background",_ie[e.type]),children:s.jsx(t,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0 pb-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:e.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.description})]}),e.user&&s.jsx(Pr,{className:"h-6 w-6 flex-shrink-0",children:s.jsx(Ar,{className:"text-[10px] bg-muted",children:e.user.initials})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:e.time})]})]},e.id)})})]})})]})}const Cie={compliant:{label:"Compliant",className:"status-compliant",icon:bt},expiring:{label:"Expiring Soon",className:"status-expiring",icon:lr},expired:{label:"Expired",className:"status-expired",icon:Bn},pending:{label:"Pending",className:"status-pending",icon:wt},approved:{label:"Approved",className:"status-compliant",icon:bt},rejected:{label:"Rejected",className:"status-expired",icon:Bn},cancelled:{label:"Cancelled",className:"bg-muted text-muted-foreground border-muted",icon:Bn},active:{label:"Active",className:"status-compliant",icon:bt},inactive:{label:"Inactive",className:"bg-muted text-muted-foreground border-muted",icon:Ep},onboarding:{label:"Onboarding",className:"status-pending",icon:wt},offboarding:{label:"Offboarding",className:"status-expiring",icon:lr}};function Sh({status:e,showIcon:t=!0,size:r="md",className:n}){const a=Cie[e],i=a.icon;return s.jsxs("span",{className:ne("inline-flex items-center gap-1.5 rounded-full border font-medium",r==="sm"?"px-2 py-0.5 text-xs":"px-2.5 py-1 text-xs",a.className,n),children:[t&&s.jsx(i,{className:ne(r==="sm"?"h-3 w-3":"h-3.5 w-3.5")}),a.label]})}class kie{async getLeaveTypes(t){const{data:r,error:n}=await M.from("leave_types").select("*").eq("organisation_id",t).eq("is_active",!0).order("display_order");if(n)throw console.error("[LeaveService] Failed to fetch leave types:",n),n;return r||[]}async getEmployeeBalances(t){const{data:r,error:n}=await M.from("leave_balances").select(`
        *,
        leave_type:leave_types(*)
      `).eq("employee_id",t);if(n)throw console.error("[LeaveService] Failed to fetch employee balances:",n),n;return r||[]}async getOrganisationBalances(t){const{data:r,error:n}=await M.from("leave_balances").select(`
        *,
        leave_type:leave_types(*)
      `).eq("organisation_id",t);if(n)throw console.error("[LeaveService] Failed to fetch organisation balances:",n),n;return r||[]}async getLeaveRequests(t,r){let n=M.from("leave_requests").select(`
        *,
        employee:employees(id, first_name, last_name, email, employment_type, department),
        leave_type:leave_types(*)
      `).eq("organisation_id",t).order("created_at",{ascending:!1});r!=null&&r.status&&(n=n.eq("status",r.status)),r!=null&&r.employeeId&&(n=n.eq("employee_id",r.employeeId)),r!=null&&r.startDate&&(n=n.gte("start_date",r.startDate)),r!=null&&r.endDate&&(n=n.lte("end_date",r.endDate));const{data:a,error:i}=await n;if(i)throw console.error("[LeaveService] Failed to fetch leave requests:",i),i;return a||[]}async createLeaveRequest(t,r,n,a,i,o,l){var h;const{data:c}=await M.from("leave_types").select("name").eq("id",n).single(),u=((h=c==null?void 0:c.name)==null?void 0:h.toLowerCase().replace(/[^a-z]/g,"_"))||"other",{data:d,error:f}=await M.from("leave_requests").insert({organisation_id:t,employee_id:r,leave_type_id:n,type:u,start_date:a,end_date:i,hours:o,reason:l,status:"pending"}).select().single();if(f)throw console.error("[LeaveService] Failed to create leave request:",f),f;return await Nr.logLeaveAction("create",d.id,t,void 0,{employee_id:r,leave_type_id:n,start_date:a,end_date:i,hours:o}),d}async processLeaveDecision(t,r){const{data:n,error:a}=await M.from("leave_requests").select("*").eq("id",t.request_id).single();if(a||!n)throw new Error("Leave request not found");const i={...n},{data:{user:o}}=await M.auth.getUser(),{data:l}=await M.from("profiles").select("display_name").eq("user_id",o==null?void 0:o.id).maybeSingle(),c=new Date().toISOString();if(t.action==="approve"){if(!t.override_insufficient_balance&&n.leave_type_id){const{data:f}=await M.rpc("check_leave_balance",{_employee_id:n.employee_id,_leave_type_id:n.leave_type_id,_hours_requested:n.hours});if(!f)throw new Error("Insufficient leave balance. Use override to approve anyway.")}const{data:u,error:d}=await M.from("leave_requests").update({status:"approved",approved_by:(l==null?void 0:l.display_name)||(o==null?void 0:o.email),approved_at:c,decided_by_user_id:o==null?void 0:o.id,decided_at:c,balance_deducted:!!n.leave_type_id,override_reason:t.override_insufficient_balance?t.reason:null}).eq("id",t.request_id).select().single();if(d)throw d;return n.leave_type_id&&await M.rpc("deduct_leave_balance",{_employee_id:n.employee_id,_leave_type_id:n.leave_type_id,_hours:n.hours}),await Nr.logLeaveAction("approve",t.request_id,r,i,{status:"approved",approved_by:l==null?void 0:l.display_name,override_reason:t.override_insufficient_balance?t.reason:null}),u}else if(t.action==="reject"){const{data:u,error:d}=await M.from("leave_requests").update({status:"rejected",decided_by_user_id:o==null?void 0:o.id,decided_at:c}).eq("id",t.request_id).select().single();if(d)throw d;return await Nr.logLeaveAction("reject",t.request_id,r,i,{status:"rejected",reason:t.reason}),u}else if(t.action==="cancel"){n.status==="approved"&&n.balance_deducted&&n.leave_type_id&&await M.rpc("restore_leave_balance",{_employee_id:n.employee_id,_leave_type_id:n.leave_type_id,_hours:n.hours});const{data:u,error:d}=await M.from("leave_requests").update({status:"cancelled",cancelled_at:c,cancellation_reason:t.reason,balance_deducted:!1}).eq("id",t.request_id).select().single();if(d)throw d;return await Nr.logLeaveAction("update",t.request_id,r,i,{status:"cancelled",cancellation_reason:t.reason}),u}throw new Error("Invalid action")}async createAdjustment(t,r){const{data:{user:n}}=await M.auth.getUser(),{data:a}=await M.from("profiles").select("display_name").eq("user_id",n==null?void 0:n.id).maybeSingle(),{data:i}=await M.from("leave_balances").select("balance_hours").eq("employee_id",t.employee_id).eq("leave_type_id",t.leave_type_id).maybeSingle(),o={balance_hours:(i==null?void 0:i.balance_hours)||0},{data:l,error:c}=await M.from("leave_adjustments").insert({organisation_id:r,employee_id:t.employee_id,leave_type_id:t.leave_type_id,adjustment_hours:t.adjustment_hours,reason:t.reason,adjusted_by_user_id:n==null?void 0:n.id,adjusted_by_name:(a==null?void 0:a.display_name)||(n==null?void 0:n.email),adjusted_by_email:n==null?void 0:n.email}).select().single();if(c)throw console.error("[LeaveService] Failed to create adjustment:",c),c;i?await M.from("leave_balances").update({balance_hours:i.balance_hours+t.adjustment_hours}).eq("employee_id",t.employee_id).eq("leave_type_id",t.leave_type_id):await M.from("leave_balances").insert({organisation_id:r,employee_id:t.employee_id,leave_type_id:t.leave_type_id,balance_hours:t.adjustment_hours});const u={balance_hours:((i==null?void 0:i.balance_hours)||0)+t.adjustment_hours};return await Nr.log({action:"admin.override",entityType:"leave_request",entityId:l.id,organisationId:r,beforeState:o,afterState:{...u,adjustment_hours:t.adjustment_hours,reason:t.reason}}),l}async getAdjustments(t,r){let n=M.from("leave_adjustments").select(`
        *,
        leave_type:leave_types(id, name),
        employee:employees(id, first_name, last_name)
      `).eq("organisation_id",t).order("created_at",{ascending:!1});r&&(n=n.eq("employee_id",r));const{data:a,error:i}=await n;if(i)throw console.error("[LeaveService] Failed to fetch adjustments:",i),i;return a||[]}async runAccruals(t){const{data:r,error:n}=await M.rpc("run_leave_accruals",{_organisation_id:t});if(n)throw console.error("[LeaveService] Failed to run accruals:",n),n;return r}async initializeEmployeeBalances(t,r,n){const{data:a}=await M.from("leave_types").select("*").eq("organisation_id",t).eq("is_active",!0).contains("applicable_employment_types",[n]);if(!a||a.length===0)return;const i=a.map(o=>({organisation_id:t,employee_id:r,leave_type_id:o.id,balance_hours:0}));await M.from("leave_balances").upsert(i,{onConflict:"employee_id,leave_type_id"})}}const Ho=new kie;function Bu(e){const t=oi(),{toast:r}=cr(),{data:n}=sr({queryKey:["organisation"],queryFn:async()=>{const{data:N}=await M.from("organisations").select("id").limit(1).single();return N},enabled:!e}),a=n==null?void 0:n.id,{data:i=[],isLoading:o}=sr({queryKey:["leaveTypes",a],queryFn:()=>Ho.getLeaveTypes(a),enabled:!!a}),{data:l=[],isLoading:c,refetch:u}=sr({queryKey:["leaveRequests",a],queryFn:()=>Ho.getLeaveRequests(a),enabled:!!a}),{data:d=[],isLoading:f,refetch:h}=sr({queryKey:["leaveBalances",a],queryFn:()=>Ho.getOrganisationBalances(a),enabled:!!a}),{data:m=[],isLoading:g}=sr({queryKey:["leaveAdjustments",a],queryFn:()=>Ho.getAdjustments(a),enabled:!!a}),p=Gt({mutationFn:async N=>{if(!a)throw new Error("No organisation ID");return Ho.createLeaveRequest(a,N.employeeId,N.leaveTypeId,N.startDate,N.endDate,N.hours,N.reason)},onSuccess:()=>{t.invalidateQueries({queryKey:["leaveRequests"]}),r({title:"Leave request submitted",description:"Your request is pending approval."})},onError:N=>{r({title:"Failed to submit request",description:N.message,variant:"destructive"})}}),v=Gt({mutationFn:async N=>{if(!a)throw new Error("No organisation ID");return Ho.processLeaveDecision(N,a)},onSuccess:N=>{t.invalidateQueries({queryKey:["leaveRequests"]}),t.invalidateQueries({queryKey:["leaveBalances"]}),r({title:`Leave request ${{approved:"approved",rejected:"rejected",cancelled:"cancelled"}[N.status]}`,description:N.status==="approved"?"Balance has been deducted.":N.status==="cancelled"?"Balance has been restored.":void 0})},onError:N=>{r({title:"Failed to process request",description:N.message,variant:"destructive"})}}),b=Gt({mutationFn:async N=>{if(!a)throw new Error("No organisation ID");return Ho.createAdjustment(N,a)},onSuccess:()=>{t.invalidateQueries({queryKey:["leaveBalances"]}),t.invalidateQueries({queryKey:["leaveAdjustments"]}),r({title:"Balance adjusted",description:"The adjustment has been recorded."})},onError:N=>{r({title:"Failed to adjust balance",description:N.message,variant:"destructive"})}}),x=Gt({mutationFn:async()=>{if(!a)throw new Error("No organisation ID");return Ho.runAccruals(a)},onSuccess:N=>{t.invalidateQueries({queryKey:["leaveBalances"]}),r({title:"Accruals processed",description:`${N} balance(s) updated.`})},onError:N=>{r({title:"Accrual failed",description:N.message,variant:"destructive"})}}),w={pending:l.filter(N=>N.status==="pending").length,approved:l.filter(N=>N.status==="approved").length,rejected:l.filter(N=>N.status==="rejected").length,cancelled:l.filter(N=>N.status==="cancelled").length};return{leaveTypes:i,leaveRequests:l,leaveBalances:d,adjustments:m,stats:w,organisationId:a,isLoading:o||c||f,leaveTypesLoading:o,requestsLoading:c,balancesLoading:f,adjustmentsLoading:g,getEmployeeBalances:N=>d.filter(S=>S.employee_id===N),getRequestsByStatus:N=>N==="all"?l:l.filter(S=>S.status===N),createRequest:p.mutate,processDecision:v.mutate,createAdjustment:b.mutate,runAccruals:x.mutate,isCreatingRequest:p.isPending,isProcessingDecision:v.isPending,isCreatingAdjustment:b.isPending,isRunningAccruals:x.isPending,refetchRequests:u,refetchBalances:h}}function It({className:e,...t}){return s.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}function Eie(){const e=li(),{leaveRequests:t,processDecision:r,isProcessingDecision:n,isLoading:a}=Bu(),i=t.filter(c=>c.status==="pending").slice(0,5),o=c=>{r({request_id:c,action:"approve"})},l=c=>{r({request_id:c,action:"reject"})};return a?s.jsxs(G,{className:"h-full",children:[s.jsx(he,{className:"flex flex-row items-center justify-between pb-2",children:s.jsx(pe,{className:"text-lg font-semibold",children:"Leave Requests"})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(c=>s.jsx(It,{className:"h-20 w-full"},c))})})]}):s.jsxs(G,{className:"h-full",children:[s.jsxs(he,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(pe,{className:"text-lg font-semibold",children:"Leave Requests"}),s.jsxs(I,{variant:"ghost",size:"sm",className:"text-primary",onClick:()=>e("/leave"),children:["View All",s.jsx(Oo,{className:"ml-1 h-4 w-4"})]})]}),s.jsx(X,{children:i.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No pending leave requests"})]}):s.jsx("div",{className:"space-y-4",children:i.map(c=>{var d;const u=c.employee;return u?s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-border bg-card hover:bg-muted/30 transition-colors",children:[s.jsx(Pr,{className:"h-10 w-10 flex-shrink-0",children:s.jsxs(Ar,{className:"bg-primary/10 text-primary text-sm",children:[u.first_name[0],u.last_name[0]]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("p",{className:"text-sm font-medium",children:[u.first_name," ",u.last_name]}),s.jsx(Sh,{status:c.status,size:"sm",showIcon:!1})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:((d=c.leave_type)==null?void 0:d.name)||c.type}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[le(Kr(c.start_date),"MMM d")," -"," ",le(Kr(c.end_date),"MMM d, yyyy"),s.jsx("span",{className:"mx-1.5",children:""}),c.hours," hours"]}),c.reason&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',c.reason,'"']})]}),s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx(I,{size:"icon",variant:"ghost",className:"h-8 w-8 text-success hover:text-success hover:bg-success/10",onClick:()=>o(c.id),disabled:n,children:s.jsx(fh,{className:"h-4 w-4"})}),s.jsx(I,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>l(c.id),disabled:n,children:s.jsx(Un,{className:"h-4 w-4"})})]})]},c.id):null})})})]})}const Pie=[{label:"Add Employee",icon:pu,description:"Onboard a new team member",variant:"primary",path:"/employees"},{label:"Submit Timesheet",icon:wt,description:"Log hours for approval",variant:"secondary",path:"/payroll"},{label:"Request Leave",icon:Ht,description:"Submit a leave request",variant:"secondary",path:"/leave"},{label:"Upload Document",icon:jo,description:"Add compliance documents",variant:"secondary",path:"/documents"},{label:"Send Invite",icon:wo,description:"Invite staff to portal",variant:"secondary",path:"/settings"},{label:"Generate Report",icon:dt,description:"Create HR reports",variant:"secondary",path:"/audit-exports"}];function Aie(){const e=li(),t=r=>{e(r)};return s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsx(pe,{className:"text-lg font-semibold",children:"Quick Actions"})}),s.jsx(X,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:Pie.map(r=>s.jsxs(I,{variant:r.variant==="primary"?"default":"outline",className:ne("h-auto flex-col gap-2 py-4 px-3",r.variant==="primary"?"gradient-primary hover:opacity-90":"hover:bg-muted/50"),onClick:()=>t(r.path),children:[s.jsx(r.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs font-medium",children:r.label})]},r.label))})})]})}const vn=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]},$r=e=>{const t=new Date;return t.setDate(t.getDate()-e),t.toISOString().split("T")[0]},Mm=[{id:"1",firstName:"Sarah",lastName:"Mitchell",email:"sarah.mitchell@socialplus.com.au",phone:"0412 345 678",employmentType:"part_time",position:"Senior Support Worker",department:"Community Support",startDate:"2022-03-15",status:"active",complianceStatus:"compliant",payRate:42.5,awardClassification:"Level 3.1",emergencyContact:{name:"James Mitchell",phone:"0423 456 789",relationship:"Spouse"},documents:[],certifications:[{id:"c1",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:$r(180),expiryDate:vn(185),status:"compliant"},{id:"c2",name:"First Aid Certificate",type:"first_aid",issueDate:$r(365),expiryDate:vn(730),status:"compliant"},{id:"c3",name:"Police Check",type:"police_check",issueDate:$r(200),expiryDate:vn(165),status:"compliant"}]},{id:"2",firstName:"Michael",lastName:"Chen",email:"michael.chen@socialplus.com.au",phone:"0423 456 789",employmentType:"casual",position:"Support Worker",department:"Disability Services",startDate:"2023-08-01",status:"active",complianceStatus:"expiring",payRate:38.75,awardClassification:"Level 2.2",documents:[],certifications:[{id:"c4",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:$r(350),expiryDate:vn(15),status:"expiring"},{id:"c5",name:"CPR Certificate",type:"cpr",issueDate:$r(300),expiryDate:vn(65),status:"compliant"}]},{id:"3",firstName:"Emma",lastName:"Thompson",email:"emma.thompson@socialplus.com.au",phone:"0434 567 890",employmentType:"full_time",position:"Team Coordinator",department:"Operations",startDate:"2021-01-10",status:"active",complianceStatus:"compliant",payRate:55,awardClassification:"Level 4.1",documents:[],certifications:[{id:"c6",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:$r(100),expiryDate:vn(265),status:"compliant"},{id:"c7",name:"First Aid Certificate",type:"first_aid",issueDate:$r(200),expiryDate:vn(530),status:"compliant"},{id:"c8",name:"Mental Health First Aid",type:"training",issueDate:$r(50),expiryDate:vn(680),status:"compliant"}]},{id:"4",firstName:"David",lastName:"Williams",email:"david.williams@socialplus.com.au",phone:"0445 678 901",employmentType:"casual",position:"Support Worker",department:"Community Support",startDate:"2024-01-15",status:"active",complianceStatus:"expired",payRate:36.5,awardClassification:"Level 1.3",documents:[],certifications:[{id:"c9",name:"Police Check",type:"police_check",issueDate:$r(400),expiryDate:$r(35),status:"expired"},{id:"c10",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:$r(90),expiryDate:vn(275),status:"compliant"}]},{id:"5",firstName:"Jessica",lastName:"Brown",email:"jessica.brown@socialplus.com.au",phone:"0456 789 012",employmentType:"part_time",position:"Senior Support Worker",department:"Disability Services",startDate:"2022-06-20",status:"active",complianceStatus:"compliant",payRate:44,awardClassification:"Level 3.2",documents:[],certifications:[{id:"c11",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:$r(150),expiryDate:vn(215),status:"compliant"},{id:"c12",name:"First Aid Certificate",type:"first_aid",issueDate:$r(100),expiryDate:vn(630),status:"compliant"},{id:"c13",name:"Manual Handling",type:"training",issueDate:$r(60),expiryDate:vn(305),status:"compliant"}]},{id:"6",firstName:"Alex",lastName:"Nguyen",email:"alex.nguyen@socialplus.com.au",phone:"0467 890 123",employmentType:"contractor",position:"Specialist Support",department:"Allied Health",startDate:"2023-11-01",status:"active",complianceStatus:"pending",payRate:65,documents:[],certifications:[{id:"c14",name:"NDIS Worker Screening",type:"ndis_screening",issueDate:"",expiryDate:"",status:"pending"}]}],Oie=[{id:"l1",employeeId:"1",type:"annual",startDate:vn(14),endDate:vn(21),hours:56,reason:"Family vacation",status:"pending",createdAt:$r(2)},{id:"l2",employeeId:"3",type:"personal",startDate:vn(3),endDate:vn(3),hours:8,reason:"Medical appointment",status:"approved",approvedBy:"HR Manager",createdAt:$r(5)},{id:"l3",employeeId:"5",type:"annual",startDate:vn(30),endDate:vn(35),hours:40,status:"pending",createdAt:$r(1)}];$r(0),$r(0),$r(0),$r(1),$r(1);const cm=Mm.filter(e=>e.status==="active"),um={totalEmployees:cm.length,activeToday:4,pendingLeaveRequests:Oie.filter(e=>e.status==="pending").length,complianceAlerts:cm.filter(e=>e.complianceStatus==="expired"||e.complianceStatus==="expiring").length,expiringCertifications:cm.flatMap(e=>e.certifications.filter(t=>t.status==="expiring")),upcomingBirthdays:cm.filter(e=>Mm.indexOf(e)===0||Mm.indexOf(e)===4),recentHires:cm.filter(e=>Mm.indexOf(e)===5||Mm.indexOf(e)===3)};function Tie(){return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back, Admin"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening at Social Plus Support Work today."})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Total Employees",value:um.totalEmployees,description:"Active team members",icon:Er,trend:{value:12,positive:!0},variant:"default"}),s.jsx(Bt,{title:"Active Today",value:um.activeToday,description:"Currently on shift",icon:wt,variant:"success"}),s.jsx(Bt,{title:"Pending Leave",value:um.pendingLeaveRequests,description:"Awaiting approval",icon:Ht,variant:"info"}),s.jsx(Bt,{title:"Compliance Alerts",value:um.complianceAlerts,description:"Require attention",icon:lr,variant:um.complianceAlerts>0?"warning":"success"})]}),s.jsx(Aie,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(wie,{})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Eie,{})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Sie,{})})]}),s.jsx("div",{className:"bg-card rounded-xl border border-border p-5",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(mu,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Team Compliance Overview"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"4 of 6 employees fully compliant"})]})]}),s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsx("div",{className:"compliance-bar",children:s.jsx("div",{className:"compliance-bar-fill bg-success",style:{width:"67%"}})}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"67% Compliant"}),s.jsx("span",{children:"2 need attention"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Js,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-success font-medium",children:"+5%"}),s.jsx("span",{className:"text-muted-foreground",children:"vs last month"})]})]})})]})}const Die=()=>{const{user:e,loading:t}=_h(),r=li();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):e?s.jsx(BU,{children:s.jsx(Tie,{})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"SocialPlus HR"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{variant:"ghost",onClick:()=>r("/auth"),children:"Log in"}),s.jsx(I,{onClick:()=>r("/auth"),children:"Get Started"})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 py-20 text-center",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Human Resource Management",s.jsx("br",{}),s.jsx("span",{className:"text-primary",children:"Made Simple"})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"Streamline your HR operations with our comprehensive HRMS solution. Manage employees, track compliance, handle contracts, and more."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(I,{size:"lg",onClick:()=>r("/auth"),children:"Start Free Trial"}),s.jsx(I,{size:"lg",variant:"outline",children:"Learn More"})]})]}),s.jsxs("section",{className:"container mx-auto px-4 py-20",children:[s.jsx("h3",{className:"text-2xl font-bold text-center mb-12",children:"Everything you need to manage your workforce"}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"p-6 rounded-lg border border-border bg-card",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:s.jsx(Er,{className:"h-6 w-6 text-primary"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Employee Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Centralize employee data, track onboarding, and manage your entire workforce."})]}),s.jsxs("div",{className:"p-6 rounded-lg border border-border bg-card",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:s.jsx(dn,{className:"h-6 w-6 text-primary"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Compliance Tracking"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay compliant with automated document tracking and expiry alerts."})]}),s.jsxs("div",{className:"p-6 rounded-lg border border-border bg-card",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:s.jsx(dt,{className:"h-6 w-6 text-primary"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Digital Contracts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create, send, and sign employment contracts with e-signature support."})]}),s.jsxs("div",{className:"p-6 rounded-lg border border-border bg-card",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg w-fit mb-4",children:s.jsx(wt,{className:"h-6 w-6 text-primary"})}),s.jsx("h4",{className:"font-semibold mb-2",children:"Time & Attendance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track hours, manage leave requests, and process payroll seamlessly."})]})]})]}),s.jsx("section",{className:"container mx-auto px-4 py-20",children:s.jsxs("div",{className:"bg-primary rounded-2xl p-12 text-center",children:[s.jsx("h3",{className:"text-3xl font-bold text-primary-foreground mb-4",children:"Ready to get started?"}),s.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Join thousands of organizations already using SocialPlus HR to manage their workforce effectively."}),s.jsx(I,{size:"lg",variant:"secondary",onClick:()=>r("/auth"),children:"Create Your Account"})]})}),s.jsx("footer",{className:"border-t border-border py-8",children:s.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:" 2024 SocialPlus. All rights reserved."})})]})};var Wt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Wt||(Wt={}));var uT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(uT||(uT={}));const Le=Wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zo=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},we=Wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class So extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof So))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}So.create=e=>new So(e);const L1=(e,t)=>{let r;switch(e.code){case we.invalid_type:e.received===Le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Wt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Wt.joinValues(e.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Wt.joinValues(e.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Wt.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Wt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case we.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case we.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=t.defaultError,Wt.assertNever(e)}return{message:r}};let Rie=L1;function Mie(){return Rie}const $ie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ae(e,t){const r=Mie(),n=$ie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===L1?void 0:L1].filter(a=>!!a)});e.common.issues.push(n)}class ea{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return lt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ea.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return lt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const lt=Object.freeze({status:"aborted"}),$m=e=>({status:"dirty",value:e}),Na=e=>({status:"valid",value:e}),dT=e=>e.status==="aborted",fT=e=>e.status==="dirty",kf=e=>e.status==="valid",Rx=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class Yl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hT=(e,t)=>{if(kf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new So(e.common.issues);return this._error=r,this._error}}};function jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class zt{get description(){return this._def.description}_getType(t){return Zo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Zo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ea,ctx:{common:t.parent.common,data:t.data,parsedType:Zo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Rx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return hT(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return kf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>kf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Rx(a)?a:Promise.resolve(a));return hT(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:we.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Af({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $l.create(this,this._def)}nullable(){return Of.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ki.create(this)}promise(){return Lx.create(this,this._def)}or(t){return $x.create([this,t],this._def)}and(t){return Ix.create(this,t,this._def)}transform(t){return new Af({...jt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new B1({...jt(this._def),innerType:this,defaultValue:r,typeName:ct.ZodDefault})}brand(){return new aoe({typeName:ct.ZodBranded,type:this,...jt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new z1({...jt(this._def),innerType:this,catchValue:r,typeName:ct.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return hE.create(this,t)}readonly(){return V1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Iie=/^c[^\s-]{8,}$/i,Lie=/^[0-9a-z]+$/,Fie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Uie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bie=/^[a-z0-9_-]{21}$/i,zie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let g_;const Hie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zie=new RegExp(`^${zU}$`);function VU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Jie(e){return new RegExp(`^${VU(e)}$`)}function eoe(e){let t=`${zU}T${VU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function toe(e,t){return!!((t==="v4"||!t)&&Hie.test(e)||(t==="v6"||!t)&&Gie.test(e))}function roe(e,t){if(!zie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function noe(e,t){return!!((t==="v4"||!t)&&Kie.test(e)||(t==="v6"||!t)&&Yie.test(e))}class lo extends zt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:Le.string,received:i.parsedType}),lt}const n=new ea;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ae(a,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ae(a,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")qie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"email",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")g_||(g_=new RegExp(Wie,"u")),g_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"emoji",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Uie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"uuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Bie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"nanoid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Iie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Lie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cuid2",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Fie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ulid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ae(a,{validation:"url",code:we.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"regex",code:we.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?eoe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Zie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Jie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Vie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"duration",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?toe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"ip",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?roe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"jwt",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?noe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"cidr",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Xie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Qie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ae(a,{validation:"base64url",code:we.invalid_string,message:i.message}),n.dirty()):Wt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:we.invalid_string,...Ue.errToObj(n)})}_addCheck(t){return new lo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ue.errToObj(r)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new lo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}lo.create=e=>new lo({checks:[],typeName:ct.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...jt(e)});function soe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class bu extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:Le.number,received:i.parsedType}),lt}let n;const a=new ea;for(const i of this._def.checks)i.kind==="int"?Wt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?soe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_finite,message:i.message}),a.dirty()):Wt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,a){return new bu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(a)}]})}_addCheck(t){return new bu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Wt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bu.create=e=>new bu({checks:[],typeName:ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...jt(e)});class wu extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let n;const a=new ea;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ae(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Wt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:we.invalid_type,expected:Le.bigint,received:r.parsedType}),lt}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,a){return new wu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(a)}]})}_addCheck(t){return new wu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wu.create=e=>new wu({checks:[],typeName:ct.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...jt(e)});class Mx extends zt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.boolean,received:n.parsedType}),lt}return Na(t.data)}}Mx.create=e=>new Mx({typeName:ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...jt(e)});class Ef extends zt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_type,expected:Le.date,received:i.parsedType}),lt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ae(i,{code:we.invalid_date}),lt}const n=new ea;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ae(a,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Wt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ef({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Ef.create=e=>new Ef({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ct.ZodDate,...jt(e)});class mT extends zt{_parse(t){if(this._getType(t)!==Le.symbol){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.symbol,received:n.parsedType}),lt}return Na(t.data)}}mT.create=e=>new mT({typeName:ct.ZodSymbol,...jt(e)});class pT extends zt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.undefined,received:n.parsedType}),lt}return Na(t.data)}}pT.create=e=>new pT({typeName:ct.ZodUndefined,...jt(e)});class gT extends zt{_parse(t){if(this._getType(t)!==Le.null){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.null,received:n.parsedType}),lt}return Na(t.data)}}gT.create=e=>new gT({typeName:ct.ZodNull,...jt(e)});class vT extends zt{constructor(){super(...arguments),this._any=!0}_parse(t){return Na(t.data)}}vT.create=e=>new vT({typeName:ct.ZodAny,...jt(e)});class yT extends zt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Na(t.data)}}yT.create=e=>new yT({typeName:ct.ZodUnknown,...jt(e)});class Xl extends zt{_parse(t){const r=this._getOrReturnCtx(t);return Ae(r,{code:we.invalid_type,expected:Le.never,received:r.parsedType}),lt}}Xl.create=e=>new Xl({typeName:ct.ZodNever,...jt(e)});class xT extends zt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.void,received:n.parsedType}),lt}return Na(t.data)}}xT.create=e=>new xT({typeName:ct.ZodVoid,...jt(e)});class ki extends zt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Le.array)return Ae(r,{code:we.invalid_type,expected:Le.array,received:r.parsedType}),lt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ae(r,{code:o?we.too_big:we.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ae(r,{code:we.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ae(r,{code:we.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Yl(r,o,r.path,l)))).then(o=>ea.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Yl(r,o,r.path,l)));return ea.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ki({...this._def,minLength:{value:t,message:Ue.toString(r)}})}max(t,r){return new ki({...this._def,maxLength:{value:t,message:Ue.toString(r)}})}length(t,r){return new ki({...this._def,exactLength:{value:t,message:Ue.toString(r)}})}nonempty(t){return this.min(1,t)}}ki.create=(e,t)=>new ki({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...jt(t)});function gd(e){if(e instanceof Lr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=$l.create(gd(n))}return new Lr({...e._def,shape:()=>t})}else return e instanceof ki?new ki({...e._def,type:gd(e.element)}):e instanceof $l?$l.create(gd(e.unwrap())):e instanceof Of?Of.create(gd(e.unwrap())):e instanceof ju?ju.create(e.items.map(t=>gd(t))):e}class Lr extends zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Wt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Le.object){const u=this._getOrReturnCtx(t);return Ae(u,{code:we.invalid_type,expected:Le.object,received:u.parsedType}),lt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Yl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Xl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ae(a,{code:we.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Yl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ea.mergeObjectSync(n,u)):ea.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new Lr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Lr({...this._def,unknownKeys:"strip"})}passthrough(){return new Lr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Lr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Lr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ct.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Lr({...this._def,catchall:t})}pick(t){const r={};for(const n of Wt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Lr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Wt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Lr({...this._def,shape:()=>r})}deepPartial(){return gd(this)}partial(t){const r={};for(const n of Wt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Lr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Wt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof $l;)i=i._def.innerType;r[n]=i}return new Lr({...this._def,shape:()=>r})}keyof(){return qU(Wt.objectKeys(this.shape))}}Lr.create=(e,t)=>new Lr({shape:()=>e,unknownKeys:"strip",catchall:Xl.create(),typeName:ct.ZodObject,...jt(t)});Lr.strictCreate=(e,t)=>new Lr({shape:()=>e,unknownKeys:"strict",catchall:Xl.create(),typeName:ct.ZodObject,...jt(t)});Lr.lazycreate=(e,t)=>new Lr({shape:e,unknownKeys:"strip",catchall:Xl.create(),typeName:ct.ZodObject,...jt(t)});class $x extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new So(l.ctx.common.issues));return Ae(r,{code:we.invalid_union,unionErrors:o}),lt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new So(c));return Ae(r,{code:we.invalid_union,unionErrors:l}),lt}}get options(){return this._def.options}}$x.create=(e,t)=>new $x({options:e,typeName:ct.ZodUnion,...jt(t)});function F1(e,t){const r=Zo(e),n=Zo(t);if(e===t)return{valid:!0,data:e};if(r===Le.object&&n===Le.object){const a=Wt.objectKeys(t),i=Wt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=F1(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Le.array&&n===Le.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=F1(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Le.date&&n===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ix extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(dT(i)||dT(o))return lt;const l=F1(i.value,o.value);return l.valid?((fT(i)||fT(o))&&r.dirty(),{status:r.value,value:l.data}):(Ae(n,{code:we.invalid_intersection_types}),lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ix.create=(e,t,r)=>new Ix({left:e,right:t,typeName:ct.ZodIntersection,...jt(r)});class ju extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.array)return Ae(n,{code:we.invalid_type,expected:Le.array,received:n.parsedType}),lt;if(n.data.length<this._def.items.length)return Ae(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Yl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ea.mergeArray(r,o)):ea.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ju({...this._def,rest:t})}}ju.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ju({items:e,typeName:ct.ZodTuple,rest:null,...jt(t)})};class bT extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.map)return Ae(n,{code:we.invalid_type,expected:Le.map,received:n.parsedType}),lt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Yl(n,l,n.path,[u,"key"])),value:i._parse(new Yl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return lt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return lt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}bT.create=(e,t,r)=>new bT({valueType:t,keyType:e,typeName:ct.ZodMap,...jt(r)});class Hp extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.set)return Ae(n,{code:we.invalid_type,expected:Le.set,received:n.parsedType}),lt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ae(n,{code:we.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ae(n,{code:we.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return lt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Yl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Hp({...this._def,minSize:{value:t,message:Ue.toString(r)}})}max(t,r){return new Hp({...this._def,maxSize:{value:t,message:Ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Hp.create=(e,t)=>new Hp({valueType:e,minSize:null,maxSize:null,typeName:ct.ZodSet,...jt(t)});class wT extends zt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wT.create=(e,t)=>new wT({getter:e,typeName:ct.ZodLazy,...jt(t)});class U1 extends zt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ae(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}U1.create=(e,t)=>new U1({value:e,typeName:ct.ZodLiteral,...jt(t)});function qU(e,t){return new Pf({values:e,typeName:ct.ZodEnum,...jt(t)})}class Pf extends zt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{expected:Wt.joinValues(n),received:r.parsedType,code:we.invalid_type}),lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ae(r,{received:r.data,code:we.invalid_enum_value,options:n}),lt}return Na(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Pf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Pf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Pf.create=qU;class jT extends zt{_parse(t){const r=Wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const a=Wt.objectValues(r);return Ae(n,{expected:Wt.joinValues(a),received:n.parsedType,code:we.invalid_type}),lt}if(this._cache||(this._cache=new Set(Wt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Wt.objectValues(r);return Ae(n,{received:n.data,code:we.invalid_enum_value,options:a}),lt}return Na(t.data)}get enum(){return this._def.values}}jT.create=(e,t)=>new jT({values:e,typeName:ct.ZodNativeEnum,...jt(t)});class Lx extends zt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.promise&&r.common.async===!1)return Ae(r,{code:we.invalid_type,expected:Le.promise,received:r.parsedType}),lt;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return Na(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lx.create=(e,t)=>new Lx({type:e,typeName:ct.ZodPromise,...jt(t)});class Af extends zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return lt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?lt:c.status==="dirty"||r.value==="dirty"?$m(c.value):c});{if(r.value==="aborted")return lt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?lt:l.status==="dirty"||r.value==="dirty"?$m(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?lt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!kf(o))return lt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>kf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):lt);Wt.assertNever(a)}}Af.create=(e,t,r)=>new Af({schema:e,typeName:ct.ZodEffects,effect:t,...jt(r)});Af.createWithPreprocess=(e,t,r)=>new Af({schema:t,effect:{type:"preprocess",transform:e},typeName:ct.ZodEffects,...jt(r)});class $l extends zt{_parse(t){return this._getType(t)===Le.undefined?Na(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$l.create=(e,t)=>new $l({innerType:e,typeName:ct.ZodOptional,...jt(t)});class Of extends zt{_parse(t){return this._getType(t)===Le.null?Na(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Of.create=(e,t)=>new Of({innerType:e,typeName:ct.ZodNullable,...jt(t)});class B1 extends zt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}B1.create=(e,t)=>new B1({innerType:e,typeName:ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...jt(t)});class z1 extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Rx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}z1.create=(e,t)=>new z1({innerType:e,typeName:ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...jt(t)});class _T extends zt{_parse(t){if(this._getType(t)!==Le.nan){const n=this._getOrReturnCtx(t);return Ae(n,{code:we.invalid_type,expected:Le.nan,received:n.parsedType}),lt}return{status:"valid",value:t.data}}}_T.create=e=>new _T({typeName:ct.ZodNaN,...jt(e)});class aoe extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class hE extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),$m(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?lt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new hE({in:t,out:r,typeName:ct.ZodPipeline})}}class V1 extends zt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(kf(a)&&(a.value=Object.freeze(a.value)),a);return Rx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}V1.create=(e,t)=>new V1({innerType:e,typeName:ct.ZodReadonly,...jt(t)});Lr.lazycreate;var ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ct||(ct={}));const Je=lo.create,WU=bu.create;wu.create;const Fx=Mx.create,_u=Ef.create;Xl.create;ki.create;const As=Lr.create;Lr.strictCreate;$x.create;Ix.create;ju.create;const Mc=U1.create,zu=Pf.create;Lx.create;$l.create;Of.create;const HU={string:e=>lo.create({...e,coerce:!0}),number:e=>bu.create({...e,coerce:!0}),boolean:e=>Mx.create({...e,coerce:!0}),bigint:e=>wu.create({...e,coerce:!0}),date:e=>Ef.create({...e,coerce:!0})};var Jg=e=>e.type==="checkbox",$c=e=>e instanceof Date,Xn=e=>e==null;const KU=e=>typeof e=="object";var Gr=e=>!Xn(e)&&!Array.isArray(e)&&KU(e)&&!$c(e),GU=e=>Gr(e)&&e.target?Jg(e.target)?e.target.checked:e.target.value:e,ioe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YU=(e,t)=>e.has(ioe(t)),ooe=e=>{const t=e.constructor&&e.constructor.prototype;return Gr(t)&&t.hasOwnProperty("isPrototypeOf")},mE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mE&&(e instanceof Blob||n))&&(r||Gr(e)))if(t=r?[]:{},!r&&!ooe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=an(e[a]));else return e;return t}var V0=e=>/^\w*$/.test(e),qr=e=>e===void 0,pE=e=>Array.isArray(e)?e.filter(Boolean):[],gE=e=>pE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Gr(e))return r;const n=(V0(t)?[t]:gE(t)).reduce((a,i)=>Xn(a)?a:a[i],e);return qr(n)||n===e?qr(e[t])?r:e[t]:n},Bs=e=>typeof e=="boolean",Jt=(e,t,r)=>{let n=-1;const a=V0(t)?[t]:gE(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Gr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ux={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vE=O.createContext(null);vE.displayName="HookFormContext";const q0=()=>O.useContext(vE),loe=e=>{const{children:t,...r}=e;return O.createElement(vE.Provider,{value:r},t)};var XU=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Va.all&&(t._proxyFormState[o]=!n||Va.all),r&&(r[o]=!0),e[o]}});return a};const yE=typeof window<"u"?O.useLayoutEffect:O.useEffect;function coe(e){const t=q0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=O.useState(r._formState),c=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return yE(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),O.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),O.useMemo(()=>XU(o,r,c.current,!1),[o,r])}var ji=e=>typeof e=="string",QU=(e,t,r,n,a)=>ji(e)?(n&&t.watch.add(e),Ee(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ee(r,i))):(n&&(t.watchAll=!0),r),q1=e=>Xn(e)||!KU(e);function so(e,t,r=new WeakSet){if(q1(e)||q1(t))return e===t;if($c(e)&&$c(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if($c(o)&&$c(l)||Gr(o)&&Gr(l)||Array.isArray(o)&&Array.isArray(l)?!so(o,l,r):o!==l)return!1}}return!0}function uoe(e){const t=q0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=O.useRef(a),u=O.useRef(l),d=O.useRef(void 0);u.current=l;const f=O.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=O.useState(u.current?u.current(f):f);return yE(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!i){const p=QU(n,r._names,g.values||r._formValues,!1,c.current);if(u.current){const v=u.current(p);so(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[r,i,n,o]),O.useEffect(()=>r._removeUnmounted()),h}function doe(e){const t=q0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=YU(a._names.array,r),c=O.useMemo(()=>Ee(a._formValues,r,Ee(a._defaultValues,r,o)),[a,r,o]),u=uoe({control:a,name:r,defaultValue:c,exact:!0}),d=coe({control:a,name:r,exact:!0}),f=O.useRef(e),h=O.useRef(a.register(r,{...e.rules,value:u,...Bs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ee(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ee(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ee(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ee(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ee(d.errors,r)}}),[d,r]),g=O.useCallback(x=>h.current.onChange({target:{value:GU(x),name:r},type:Ux.CHANGE}),[r]),p=O.useCallback(()=>h.current.onBlur({target:{value:Ee(a._formValues,r),name:r},type:Ux.BLUR}),[r,a._formValues]),v=O.useCallback(x=>{const w=Ee(a._fields,r);w&&x&&(w._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),b=O.useMemo(()=>({name:r,value:u,...Bs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:g,onBlur:p,ref:v}),[r,n,d.disabled,g,p,v,u]);return O.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...f.current.rules,...Bs(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,j)=>{const N=Ee(a._fields,_);N&&N._f&&(N._f.mount=j)};if(w(r,!0),x){const _=an(Ee(a._options.defaultValues,r));Jt(a._defaultValues,r,_),qr(Ee(a._formValues,r))&&Jt(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):w(r,!1)}},[r,a,l,i]),O.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),O.useMemo(()=>({field:b,formState:d,fieldState:m}),[b,d,m])}const foe=e=>e.render(doe(e));var ZU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},ep=e=>Array.isArray(e)?e:[e],NT=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},ps=e=>Gr(e)&&!Object.keys(e).length,xE=e=>e.type==="file",qa=e=>typeof e=="function",Bx=e=>{if(!mE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},JU=e=>e.type==="select-multiple",bE=e=>e.type==="radio",hoe=e=>bE(e)||Jg(e),v_=e=>Bx(e)&&e.isConnected;function moe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=qr(e)?n++:e[t[n++]];return e}function poe(e){for(const t in e)if(e.hasOwnProperty(t)&&!qr(e[t]))return!1;return!0}function Yr(e,t){const r=Array.isArray(t)?t:V0(t)?[t]:gE(t),n=r.length===1?e:moe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Gr(n)&&ps(n)||Array.isArray(n)&&poe(n))&&Yr(e,r.slice(0,-1)),e}var eB=e=>{for(const t in e)if(qa(e[t]))return!0;return!1};function zx(e,t={}){const r=Array.isArray(e);if(Gr(e)||r)for(const n in e)Array.isArray(e[n])||Gr(e[n])&&!eB(e[n])?(t[n]=Array.isArray(e[n])?[]:{},zx(e[n],t[n])):Xn(e[n])||(t[n]=!0);return t}function tB(e,t,r){const n=Array.isArray(e);if(Gr(e)||n)for(const a in e)Array.isArray(e[a])||Gr(e[a])&&!eB(e[a])?qr(t)||q1(r[a])?r[a]=Array.isArray(e[a])?zx(e[a],[]):{...zx(e[a])}:tB(e[a],Xn(t)?{}:t[a],r[a]):r[a]=!so(e[a],t[a]);return r}var dm=(e,t)=>tB(e,t,zx(t));const ST={value:!1,isValid:!1},CT={value:!0,isValid:!0};var rB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qr(e[0].attributes.value)?qr(e[0].value)||e[0].value===""?CT:{value:e[0].value,isValid:!0}:CT:ST}return ST},nB=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>qr(e)?e:t?e===""?NaN:e&&+e:r&&ji(e)?new Date(e):n?n(e):e;const kT={isValid:!1,value:null};var sB=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,kT):kT;function ET(e){const t=e.ref;return xE(t)?t.files:bE(t)?sB(e.refs).value:JU(t)?[...t.selectedOptions].map(({value:r})=>r):Jg(t)?rB(e.refs).value:nB(qr(t.value)?e.ref.value:t.value,e)}var goe=(e,t,r,n)=>{const a={};for(const i of e){const o=Ee(t,i);o&&Jt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Vx=e=>e instanceof RegExp,fm=e=>qr(e)?e:Vx(e)?e.source:Gr(e)?Vx(e.value)?e.value.source:e.value:e,PT=e=>({isOnSubmit:!e||e===Va.onSubmit,isOnBlur:e===Va.onBlur,isOnChange:e===Va.onChange,isOnAll:e===Va.all,isOnTouch:e===Va.onTouched});const AT="AsyncFunction";var voe=e=>!!e&&!!e.validate&&!!(qa(e.validate)&&e.validate.constructor.name===AT||Gr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===AT)),yoe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const tp=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ee(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(tp(l,t))break}else if(Gr(l)&&tp(l,t))break}}};function TT(e,t,r){const n=Ee(e,r);if(n||V0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ee(t,i),l=Ee(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var xoe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ps(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Va.all))},boe=(e,t,r)=>!e||!t||e===t||ep(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),woe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,joe=(e,t)=>!pE(Ee(e,t)).length&&Yr(e,t),_oe=(e,t,r)=>{const n=ep(Ee(e,r));return Jt(n,"root",t[r]),Jt(e,r,n),e},Uy=e=>ji(e);function DT(e,t,r="validate"){if(Uy(e)||Array.isArray(e)&&e.every(Uy)||Bs(e)&&!e)return{type:r,message:Uy(e)?e:"",ref:t}}var ld=e=>Gr(e)&&!Vx(e)?e:{value:e,message:""},RT=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:b}=e._f,x=Ee(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=E=>{a&&w.reportValidity&&(w.setCustomValidity(Bs(E)?"":E||""),w.reportValidity())},j={},N=bE(o),S=Jg(o),k=N||S,C=(v||xE(o))&&qr(o.value)&&qr(x)||Bx(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,P=ZU.bind(null,p,n,j),A=(E,R,$,B=Gi.maxLength,F=Gi.minLength)=>{const L=E?R:$;j[p]={type:E?B:F,message:L,ref:o,...P(E?B:F,L)}};if(i?!Array.isArray(x)||!x.length:c&&(!k&&(C||Xn(x))||Bs(x)&&!x||S&&!rB(l).isValid||N&&!sB(l).isValid)){const{value:E,message:R}=Uy(c)?{value:!!c,message:c}:ld(c);if(E&&(j[p]={type:Gi.required,message:R,ref:w,...P(Gi.required,R)},!n))return _(R),j}if(!C&&(!Xn(f)||!Xn(h))){let E,R;const $=ld(h),B=ld(f);if(!Xn(x)&&!isNaN(x)){const F=o.valueAsNumber||x&&+x;Xn($.value)||(E=F>$.value),Xn(B.value)||(R=F<B.value)}else{const F=o.valueAsDate||new Date(x),L=U=>new Date(new Date().toDateString()+" "+U),D=o.type=="time",T=o.type=="week";ji($.value)&&x&&(E=D?L(x)>L($.value):T?x>$.value:F>new Date($.value)),ji(B.value)&&x&&(R=D?L(x)<L(B.value):T?x<B.value:F<new Date(B.value))}if((E||R)&&(A(!!E,$.message,B.message,Gi.max,Gi.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(ji(x)||i&&Array.isArray(x))){const E=ld(u),R=ld(d),$=!Xn(E.value)&&x.length>+E.value,B=!Xn(R.value)&&x.length<+R.value;if(($||B)&&(A($,E.message,R.message),!n))return _(j[p].message),j}if(m&&!C&&ji(x)){const{value:E,message:R}=ld(m);if(Vx(E)&&!x.match(E)&&(j[p]={type:Gi.pattern,message:R,ref:o,...P(Gi.pattern,R)},!n))return _(R),j}if(g){if(qa(g)){const E=await g(x,r),R=DT(E,w);if(R&&(j[p]={...R,...P(Gi.validate,R.message)},!n))return _(R.message),j}else if(Gr(g)){let E={};for(const R in g){if(!ps(E)&&!n)break;const $=DT(await g[R](x,r),w,R);$&&(E={...$,...P(R,$.message)},_($.message),n&&(j[p]=E))}if(!ps(E)&&(j[p]={ref:w,...E},!n))return j}}return _(!0),j};const Noe={mode:Va.onSubmit,reValidateMode:Va.onChange,shouldFocusError:!0};function Soe(e={}){let t={...Noe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:qa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Gr(t.defaultValues)||Gr(t.values)?an(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:an(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:NT(),state:NT()},m=t.criteriaMode===Va.all,g=z=>Y=>{clearTimeout(u),u=setTimeout(z,Y)},p=async z=>{if(!t.disabled&&(d.isValid||f.isValid||z)){const Y=t.resolver?ps((await S()).errors):await C(n,!0);Y!==r.isValid&&h.state.next({isValid:Y})}},v=(z,Y)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((z||Array.from(l.mount)).forEach(ee=>{ee&&(Y?Jt(r.validatingFields,ee,Y):Yr(r.validatingFields,ee))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ps(r.validatingFields)}))},b=(z,Y=[],ee,be,Ne=!0,ve=!0)=>{if(be&&ee&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Ee(n,z))){const ke=ee(Ee(n,z),be.argA,be.argB);Ne&&Jt(n,z,ke)}if(ve&&Array.isArray(Ee(r.errors,z))){const ke=ee(Ee(r.errors,z),be.argA,be.argB);Ne&&Jt(r.errors,z,ke),joe(r.errors,z)}if((d.touchedFields||f.touchedFields)&&ve&&Array.isArray(Ee(r.touchedFields,z))){const ke=ee(Ee(r.touchedFields,z),be.argA,be.argB);Ne&&Jt(r.touchedFields,z,ke)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=dm(a,i)),h.state.next({name:z,isDirty:A(z,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Jt(i,z,Y)},x=(z,Y)=>{Jt(r.errors,z,Y),h.state.next({errors:r.errors})},w=z=>{r.errors=z,h.state.next({errors:r.errors,isValid:!1})},_=(z,Y,ee,be)=>{const Ne=Ee(n,z);if(Ne){const ve=Ee(i,z,qr(ee)?Ee(a,z):ee);qr(ve)||be&&be.defaultChecked||Y?Jt(i,z,Y?ve:ET(Ne._f)):$(z,ve),o.mount&&p()}},j=(z,Y,ee,be,Ne)=>{let ve=!1,ke=!1;const ut={name:z};if(!t.disabled){if(!ee||be){(d.isDirty||f.isDirty)&&(ke=r.isDirty,r.isDirty=ut.isDirty=A(),ve=ke!==ut.isDirty);const kt=so(Ee(a,z),Y);ke=!!Ee(r.dirtyFields,z),kt?Yr(r.dirtyFields,z):Jt(r.dirtyFields,z,!0),ut.dirtyFields=r.dirtyFields,ve=ve||(d.dirtyFields||f.dirtyFields)&&ke!==!kt}if(ee){const kt=Ee(r.touchedFields,z);kt||(Jt(r.touchedFields,z,ee),ut.touchedFields=r.touchedFields,ve=ve||(d.touchedFields||f.touchedFields)&&kt!==ee)}ve&&Ne&&h.state.next(ut)}return ve?ut:{}},N=(z,Y,ee,be)=>{const Ne=Ee(r.errors,z),ve=(d.isValid||f.isValid)&&Bs(Y)&&r.isValid!==Y;if(t.delayError&&ee?(c=g(()=>x(z,ee)),c(t.delayError)):(clearTimeout(u),c=null,ee?Jt(r.errors,z,ee):Yr(r.errors,z)),(ee?!so(Ne,ee):Ne)||!ps(be)||ve){const ke={...be,...ve&&Bs(Y)?{isValid:Y}:{},errors:r.errors,name:z};r={...r,...ke},h.state.next(ke)}},S=async z=>{v(z,!0);const Y=await t.resolver(i,t.context,goe(z||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(z),Y},k=async z=>{const{errors:Y}=await S(z);if(z)for(const ee of z){const be=Ee(Y,ee);be?Jt(r.errors,ee,be):Yr(r.errors,ee)}else r.errors=Y;return Y},C=async(z,Y,ee={valid:!0})=>{for(const be in z){const Ne=z[be];if(Ne){const{_f:ve,...ke}=Ne;if(ve){const ut=l.array.has(ve.name),kt=Ne._f&&voe(Ne._f);kt&&d.validatingFields&&v([be],!0);const Nn=await RT(Ne,l.disabled,i,m,t.shouldUseNativeValidation&&!Y,ut);if(kt&&d.validatingFields&&v([be]),Nn[ve.name]&&(ee.valid=!1,Y))break;!Y&&(Ee(Nn,ve.name)?ut?_oe(r.errors,Nn,ve.name):Jt(r.errors,ve.name,Nn[ve.name]):Yr(r.errors,ve.name))}!ps(ke)&&await C(ke,Y,ee)}}return ee.valid},P=()=>{for(const z of l.unMount){const Y=Ee(n,z);Y&&(Y._f.refs?Y._f.refs.every(ee=>!v_(ee)):!v_(Y._f.ref))&&ue(z)}l.unMount=new Set},A=(z,Y)=>!t.disabled&&(z&&Y&&Jt(i,z,Y),!so(U(),a)),E=(z,Y,ee)=>QU(z,l,{...o.mount?i:qr(Y)?a:ji(z)?{[z]:Y}:Y},ee,Y),R=z=>pE(Ee(o.mount?i:a,z,t.shouldUnregister?Ee(a,z,[]):[])),$=(z,Y,ee={})=>{const be=Ee(n,z);let Ne=Y;if(be){const ve=be._f;ve&&(!ve.disabled&&Jt(i,z,nB(Y,ve)),Ne=Bx(ve.ref)&&Xn(Y)?"":Y,JU(ve.ref)?[...ve.ref.options].forEach(ke=>ke.selected=Ne.includes(ke.value)):ve.refs?Jg(ve.ref)?ve.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(Ne)?ke.checked=!!Ne.find(ut=>ut===ke.value):ke.checked=Ne===ke.value||!!Ne)}):ve.refs.forEach(ke=>ke.checked=ke.value===Ne):xE(ve.ref)?ve.ref.value="":(ve.ref.value=Ne,ve.ref.type||h.state.next({name:z,values:an(i)})))}(ee.shouldDirty||ee.shouldTouch)&&j(z,Ne,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&T(z)},B=(z,Y,ee)=>{for(const be in Y){if(!Y.hasOwnProperty(be))return;const Ne=Y[be],ve=z+"."+be,ke=Ee(n,ve);(l.array.has(z)||Gr(Ne)||ke&&!ke._f)&&!$c(Ne)?B(ve,Ne,ee):$(ve,Ne,ee)}},F=(z,Y,ee={})=>{const be=Ee(n,z),Ne=l.array.has(z),ve=an(Y);Jt(i,z,ve),Ne?(h.array.next({name:z,values:an(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&h.state.next({name:z,dirtyFields:dm(a,i),isDirty:A(z,ve)})):be&&!be._f&&!Xn(ve)?B(z,ve,ee):$(z,ve,ee),OT(z,l)&&h.state.next({...r,name:z}),h.state.next({name:o.mount?z:void 0,values:an(i)})},L=async z=>{o.mount=!0;const Y=z.target;let ee=Y.name,be=!0;const Ne=Ee(n,ee),ve=kt=>{be=Number.isNaN(kt)||$c(kt)&&isNaN(kt.getTime())||so(kt,Ee(i,ee,kt))},ke=PT(t.mode),ut=PT(t.reValidateMode);if(Ne){let kt,Nn;const qn=Y.type?ET(Ne._f):GU(z),cs=z.type===Ux.BLUR||z.type===Ux.FOCUS_OUT,Uo=!yoe(Ne._f)&&!t.resolver&&!Ee(r.errors,ee)&&!Ne._f.deps||woe(cs,Ee(r.touchedFields,ee),r.isSubmitted,ut,ke),Ea=OT(ee,l,cs);Jt(i,ee,qn),cs?(Ne._f.onBlur&&Ne._f.onBlur(z),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(z);const us=j(ee,qn,cs),Bo=!ps(us)||Ea;if(!cs&&h.state.next({name:ee,type:z.type,values:an(i)}),Uo)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?cs&&p():cs||p()),Bo&&h.state.next({name:ee,...Ea?{}:us});if(!cs&&Ea&&h.state.next({...r}),t.resolver){const{errors:na}=await S([ee]);if(ve(qn),be){const Gu=TT(r.errors,n,ee),Yu=TT(na,n,Gu.name||ee);kt=Yu.error,ee=Yu.name,Nn=ps(na)}}else v([ee],!0),kt=(await RT(Ne,l.disabled,i,m,t.shouldUseNativeValidation))[ee],v([ee]),ve(qn),be&&(kt?Nn=!1:(d.isValid||f.isValid)&&(Nn=await C(n,!0)));be&&(Ne._f.deps&&T(Ne._f.deps),N(ee,Nn,kt,us))}},D=(z,Y)=>{if(Ee(r.errors,Y)&&z.focus)return z.focus(),1},T=async(z,Y={})=>{let ee,be;const Ne=ep(z);if(t.resolver){const ve=await k(qr(z)?z:Ne);ee=ps(ve),be=z?!Ne.some(ke=>Ee(ve,ke)):ee}else z?(be=(await Promise.all(Ne.map(async ve=>{const ke=Ee(n,ve);return await C(ke&&ke._f?{[ve]:ke}:ke)}))).every(Boolean),!(!be&&!r.isValid)&&p()):be=ee=await C(n);return h.state.next({...!ji(z)||(d.isValid||f.isValid)&&ee!==r.isValid?{}:{name:z},...t.resolver||!z?{isValid:ee}:{},errors:r.errors}),Y.shouldFocus&&!be&&tp(n,D,z?Ne:l.mount),be},U=z=>{const Y={...o.mount?i:a};return qr(z)?Y:ji(z)?Ee(Y,z):z.map(ee=>Ee(Y,ee))},Q=(z,Y)=>({invalid:!!Ee((Y||r).errors,z),isDirty:!!Ee((Y||r).dirtyFields,z),error:Ee((Y||r).errors,z),isValidating:!!Ee(r.validatingFields,z),isTouched:!!Ee((Y||r).touchedFields,z)}),K=z=>{z&&ep(z).forEach(Y=>Yr(r.errors,Y)),h.state.next({errors:z?r.errors:{}})},oe=(z,Y,ee)=>{const be=(Ee(n,z,{_f:{}})._f||{}).ref,Ne=Ee(r.errors,z)||{},{ref:ve,message:ke,type:ut,...kt}=Ne;Jt(r.errors,z,{...kt,...Y,ref:be}),h.state.next({name:z,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&be&&be.focus&&be.focus()},W=(z,Y)=>qa(z)?h.state.subscribe({next:ee=>"values"in ee&&z(E(void 0,Y),ee)}):E(z,Y,!0),fe=z=>h.state.subscribe({next:Y=>{boe(z.name,Y.name,z.exact)&&xoe(Y,z.formState||d,Ft,z.reRenderRoot)&&z.callback({values:{...i},...r,...Y,defaultValues:a})}}).unsubscribe,Se=z=>(o.mount=!0,f={...f,...z.formState},fe({...z,formState:f})),ue=(z,Y={})=>{for(const ee of z?ep(z):l.mount)l.mount.delete(ee),l.array.delete(ee),Y.keepValue||(Yr(n,ee),Yr(i,ee)),!Y.keepError&&Yr(r.errors,ee),!Y.keepDirty&&Yr(r.dirtyFields,ee),!Y.keepTouched&&Yr(r.touchedFields,ee),!Y.keepIsValidating&&Yr(r.validatingFields,ee),!t.shouldUnregister&&!Y.keepDefaultValue&&Yr(a,ee);h.state.next({values:an(i)}),h.state.next({...r,...Y.keepDirty?{isDirty:A()}:{}}),!Y.keepIsValid&&p()},Oe=({disabled:z,name:Y})=>{(Bs(z)&&o.mount||z||l.disabled.has(Y))&&(z?l.disabled.add(Y):l.disabled.delete(Y))},se=(z,Y={})=>{let ee=Ee(n,z);const be=Bs(Y.disabled)||Bs(t.disabled);return Jt(n,z,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:z}},name:z,mount:!0,...Y}}),l.mount.add(z),ee?Oe({disabled:Bs(Y.disabled)?Y.disabled:t.disabled,name:z}):_(z,!0,Y.value),{...be?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:fm(Y.min),max:fm(Y.max),minLength:fm(Y.minLength),maxLength:fm(Y.maxLength),pattern:fm(Y.pattern)}:{},name:z,onChange:L,onBlur:L,ref:Ne=>{if(Ne){se(z,Y),ee=Ee(n,z);const ve=qr(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,ke=hoe(ve),ut=ee._f.refs||[];if(ke?ut.find(kt=>kt===ve):ve===ee._f.ref)return;Jt(n,z,{_f:{...ee._f,...ke?{refs:[...ut.filter(v_),ve,...Array.isArray(Ee(a,z))?[{}]:[]],ref:{type:ve.type,name:z}}:{ref:ve}}}),_(z,!1,void 0,ve)}else ee=Ee(n,z,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(YU(l.array,z)&&o.action)&&l.unMount.add(z)}}},ge=()=>t.shouldFocusError&&tp(n,D,l.mount),je=z=>{Bs(z)&&(h.state.next({disabled:z}),tp(n,(Y,ee)=>{const be=Ee(n,ee);be&&(Y.disabled=be._f.disabled||z,Array.isArray(be._f.refs)&&be._f.refs.forEach(Ne=>{Ne.disabled=be._f.disabled||z}))},0,!1))},J=(z,Y)=>async ee=>{let be;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let Ne=an(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:ke}=await S();r.errors=ve,Ne=an(ke)}else await C(n);if(l.disabled.size)for(const ve of l.disabled)Yr(Ne,ve);if(Yr(r.errors,"root"),ps(r.errors)){h.state.next({errors:{}});try{await z(Ne,ee)}catch(ve){be=ve}}else Y&&await Y({...r.errors},ee),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ps(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},at=(z,Y={})=>{Ee(n,z)&&(qr(Y.defaultValue)?F(z,an(Ee(a,z))):(F(z,Y.defaultValue),Jt(a,z,an(Y.defaultValue))),Y.keepTouched||Yr(r.touchedFields,z),Y.keepDirty||(Yr(r.dirtyFields,z),r.isDirty=Y.defaultValue?A(z,an(Ee(a,z))):A()),Y.keepError||(Yr(r.errors,z),d.isValid&&p()),h.state.next({...r}))},qe=(z,Y={})=>{const ee=z?an(z):a,be=an(ee),Ne=ps(z),ve=Ne?a:be;if(Y.keepDefaultValues||(a=ee),!Y.keepValues){if(Y.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(dm(a,i))]);for(const ut of Array.from(ke))Ee(r.dirtyFields,ut)?Jt(ve,ut,Ee(i,ut)):F(ut,Ee(ve,ut))}else{if(mE&&qr(z))for(const ke of l.mount){const ut=Ee(n,ke);if(ut&&ut._f){const kt=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(Bx(kt)){const Nn=kt.closest("form");if(Nn){Nn.reset();break}}}}if(Y.keepFieldsRef)for(const ke of l.mount)F(ke,Ee(ve,ke));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?an(a):{}:an(ve),h.array.next({values:{...ve}}),h.state.next({values:{...ve}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!so(z,a)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?dm(a,i):r.dirtyFields:Y.keepDefaultValues&&z?dm(a,z):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Lt=(z,Y)=>qe(qa(z)?z(i):z,Y),vt=(z,Y={})=>{const ee=Ee(n,z),be=ee&&ee._f;if(be){const Ne=be.refs?be.refs[0]:be.ref;Ne.focus&&(Ne.focus(),Y.shouldSelect&&qa(Ne.select)&&Ne.select())}},Ft=z=>{r={...r,...z}},Rr={control:{register:se,unregister:ue,getFieldState:Q,handleSubmit:J,setError:oe,_subscribe:fe,_runSchema:S,_focusError:ge,_getWatch:E,_getDirty:A,_setValid:p,_setFieldArray:b,_setDisabledField:Oe,_setErrors:w,_getFieldArray:R,_reset:qe,_resetDefaultValues:()=>qa(t.defaultValues)&&t.defaultValues().then(z=>{Lt(z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:je,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(z){o=z},get _defaultValues(){return a},get _names(){return l},set _names(z){l=z},get _formState(){return r},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:Se,trigger:T,register:se,handleSubmit:J,watch:W,setValue:F,getValues:U,reset:Lt,resetField:at,clearErrors:K,unregister:ue,setError:oe,setFocus:vt,getFieldState:Q};return{...Rr,formControl:Rr}}function as(e={}){const t=O.useRef(void 0),r=O.useRef(void 0),[n,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:qa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!qa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Soe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,yE(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),O.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),O.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),O.useEffect(()=>{e.values&&!so(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),O.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=XU(n,i),t.current}const MT=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},aB=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?MT(n.ref,r,e):n.refs&&n.refs.forEach(a=>MT(a,r,e))}},Coe=(e,t)=>{t.shouldUseNativeValidation&&aB(e,t);const r={};for(const n in e){const a=Ee(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(koe(t.names||Object.keys(e),n)){const o=Object.assign({},Ee(r,n));Jt(o,"root",i),Jt(r,n,o)}else Jt(r,n,i)}return r},koe=(e,t)=>e.some(r=>r.startsWith(t+"."));var Eoe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=ZU(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ri=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&aB({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Coe(Eoe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Poe="Label",iB=y.forwardRef((e,t)=>s.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iB.displayName=Poe;var oB=iB;const Aoe=dh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),V=y.forwardRef(({className:e,...t},r)=>s.jsx(oB,{ref:r,className:ne(Aoe(),e),...t}));V.displayName=oB.displayName;function ev(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W0="Checkbox",[Ooe,L3e]=Vr(W0),[Toe,wE]=Ooe(W0);function Doe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Vn({prop:r,defaultProp:a??!1,onChange:c,caller:W0}),[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!o||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Il(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return s.jsx(Toe,{scope:t,..._,children:Roe(f)?f(_):n})}var lB="CheckboxTrigger",cB=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=wE(lB,e),p=He(a,d),v=y.useRef(c);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),s.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Il(c)?"mixed":c,"aria-required":u,"data-state":mB(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:me(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:me(r,b=>{f(x=>Il(x)?!0:!x),g&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});cB.displayName=lB;var jE=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(Doe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(cB,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(hB,{__scopeCheckbox:r})]})})});jE.displayName=W0;var uB="CheckboxIndicator",dB=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=wE(uB,r);return s.jsx(tn,{present:n||Il(i.checked)||i.checked===!0,children:s.jsx(Ce.span,{"data-state":mB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});dB.displayName=uB;var fB="CheckboxBubbleInput",hB=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=wE(fB,e),g=He(r,m),p=ev(i),v=Vg(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&j){const S=new Event("click",{bubbles:N});x.indeterminate=Il(i),j.call(x,Il(i)?!1:i),x.dispatchEvent(S)}},[h,p,i,a]);const b=y.useRef(Il(i)?!1:i);return s.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hB.displayName=fB;function Roe(e){return typeof e=="function"}function Il(e){return e==="indeterminate"}function mB(e){return Il(e)?"indeterminate":e?"checked":"unchecked"}const Mi=y.forwardRef(({className:e,...t},r)=>s.jsx(jE,{ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(dB,{className:ne("flex items-center justify-center text-current"),children:s.jsx(fh,{className:"h-4 w-4"})})}));Mi.displayName=jE.displayName;const Moe=As({email:Je().email({message:"Please enter a valid email address"}),password:Je().min(6,{message:"Password must be at least 6 characters"})}),$oe=As({displayName:Je().min(2,{message:"Display name must be at least 2 characters"}).max(50,{message:"Display name must be less than 50 characters"}),email:Je().email({message:"Please enter a valid email address"}),password:Je().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Je()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Ioe(){const[e,t]=y.useState(!0),[r,n]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=li(),{user:u,loading:d,signIn:f,signUp:h}=_h(),m=as({resolver:Ri(Moe),defaultValues:{email:"",password:""},mode:"onChange"}),g=as({resolver:Ri($oe),defaultValues:{displayName:"",email:"",password:"",confirmPassword:""},mode:"onChange"});y.useEffect(()=>{!d&&u&&c("/employees")},[u,d,c]);const p=async x=>{n(!0);const{error:w}=await f(x.email,x.password);if(n(!1),w){w.message.includes("Invalid login credentials")?re({title:"Login failed",description:"Invalid email or password. Please try again.",variant:"destructive"}):re({title:"Login failed",description:w.message,variant:"destructive"});return}re({title:"Welcome back!",description:"You have successfully logged in."}),c("/employees")},v=async x=>{n(!0);const{error:w}=await h(x.email,x.password,x.displayName);if(n(!1),w){w.message.includes("User already registered")?re({title:"Account exists",description:"An account with this email already exists. Please log in instead.",variant:"destructive"}):re({title:"Signup failed",description:w.message,variant:"destructive"});return}re({title:"Account created!",description:"Welcome to SocialPlus HR. You are now logged in."}),c("/employees")},b=async()=>{const x=m.watch("email");if(!x||!Je().email().safeParse(x).success){re({title:"Email required",description:"Please enter your email address first.",variant:"destructive"});return}l(!0);const{error:w}=await M.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/auth`});if(l(!1),w){re({title:"Error",description:w.message,variant:"destructive"});return}re({title:"Password reset email sent",description:"Check your inbox for a link to reset your password."})};return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen flex bg-background",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-primary p-12 flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-primary-foreground",children:"SocialPlus HR"}),s.jsx("p",{className:"text-primary-foreground/80 mt-2",children:"Human Resource Management System"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-primary-foreground/10 rounded-lg",children:s.jsx(Er,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-primary-foreground",children:"Employee Management"}),s.jsx("p",{className:"text-primary-foreground/70 text-sm",children:"Manage your entire workforce from one central location"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-primary-foreground/10 rounded-lg",children:s.jsx(dn,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-primary-foreground",children:"Compliance Tracking"}),s.jsx("p",{className:"text-primary-foreground/70 text-sm",children:"Stay compliant with automated document tracking"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-primary-foreground/10 rounded-lg",children:s.jsx(wt,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-primary-foreground",children:"Time & Attendance"}),s.jsx("p",{className:"text-primary-foreground/70 text-sm",children:"Track hours, manage leave, and process payroll seamlessly"})]})]})]}),s.jsx("p",{className:"text-primary-foreground/60 text-sm",children:" 2024 SocialPlus. All rights reserved."})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs(G,{className:"w-full max-w-md",children:[s.jsxs(he,{className:"text-center",children:[s.jsx("div",{className:"lg:hidden mb-4",children:s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"SocialPlus HR"})}),s.jsx(pe,{className:"text-2xl",children:e?"Welcome back":"Create an account"}),s.jsx(Fe,{children:e?"Enter your credentials to access your account":"Enter your details to get started"})]}),s.jsxs(X,{children:[e?s.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"login-email",children:"Email"}),s.jsx(Z,{id:"login-email",type:"email",placeholder:"name@company.com",value:m.watch("email"),onChange:x=>m.setValue("email",x.target.value,{shouldValidate:!0})}),m.formState.errors.email&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:m.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"login-password",children:"Password"}),s.jsx(Z,{id:"login-password",type:"password",placeholder:"Enter your password",value:m.watch("password"),onChange:x=>m.setValue("password",x.target.value,{shouldValidate:!0})}),m.formState.errors.password&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:m.formState.errors.password.message})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{id:"remember-me",checked:a,onCheckedChange:x=>i(x===!0)}),s.jsx(V,{htmlFor:"remember-me",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:b,disabled:o,className:"text-sm text-primary hover:underline disabled:opacity-50",children:o?"Sending...":"Forgot password?"})]}),s.jsx(I,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}):s.jsxs("form",{onSubmit:g.handleSubmit(v),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signup-displayName",children:"Display Name"}),s.jsx(Z,{id:"signup-displayName",placeholder:"John Doe",value:g.watch("displayName"),onChange:x=>g.setValue("displayName",x.target.value,{shouldValidate:!0})}),g.formState.errors.displayName&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:g.formState.errors.displayName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signup-email",children:"Email"}),s.jsx(Z,{id:"signup-email",type:"email",placeholder:"name@company.com",value:g.watch("email"),onChange:x=>g.setValue("email",x.target.value,{shouldValidate:!0})}),g.formState.errors.email&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:g.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signup-password",children:"Password"}),s.jsx(Z,{id:"signup-password",type:"password",placeholder:"Create a password",value:g.watch("password"),onChange:x=>g.setValue("password",x.target.value,{shouldValidate:!0})}),g.formState.errors.password&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:g.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"signup-confirmPassword",children:"Confirm Password"}),s.jsx(Z,{id:"signup-confirmPassword",type:"password",placeholder:"Confirm your password",value:g.watch("confirmPassword"),onChange:x=>g.setValue("confirmPassword",x.target.value,{shouldValidate:!0})}),g.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm font-medium text-destructive",children:g.formState.errors.confirmPassword.message})]}),s.jsx(I,{type:"submit",className:"w-full",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-primary hover:underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})]})}function Kp(e,[t,r]){return Math.min(r,Math.max(t,e))}var Loe=[" ","Enter","ArrowUp","ArrowDown"],Foe=[" ","Enter"],Nu="Select",[H0,K0,Uoe]=ch(Nu),[Ch,F3e]=Vr(Nu,[Uoe,tc]),G0=tc(),[Boe,ac]=Ch(Nu),[zoe,Voe]=Ch(Nu),pB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=G0(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,j]=y.useState(!1),N=nc(u),[S,k]=Vn({prop:n,defaultProp:a??!1,onChange:i,caller:Nu}),[C,P]=Vn({prop:o,defaultProp:l,onChange:c,caller:Nu}),A=y.useRef(null),E=v?g||!!v.closest("form"):!0,[R,$]=y.useState(new Set),B=Array.from(R).map(F=>F.props.value).join(";");return s.jsx(C0,{...p,children:s.jsxs(Boe,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ns(),value:C,onValueChange:P,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(H0.Provider,{scope:t,children:s.jsx(zoe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(F=>{$(L=>new Set(L).add(F))},[]),onNativeOptionRemove:y.useCallback(F=>{$(L=>{const D=new Set(L);return D.delete(F),D})},[]),children:r})}),E?s.jsxs(FB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:F=>P(F.target.value),disabled:h,form:g,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};pB.displayName=Nu;var gB="SelectTrigger",vB=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=G0(r),o=ac(gB,r),l=o.disabled||n,c=He(t,o.onTriggerChange),u=K0(r),d=y.useRef("touch"),[f,h,m]=BB(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),x=zB(v,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(qg,{asChild:!0,...i,children:s.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UB(o.value)?"":void 0,...a,ref:c,onClick:me(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:me(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:me(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&Loe.includes(p.key)&&(g(),p.preventDefault())})})})});vB.displayName=gB;var yB="SelectValue",xB=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ac(yB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=He(t,c.onValueNodeChange);return zr(()=>{u(d)},[u,d]),s.jsx(Ce.span,{...l,ref:f,style:{pointerEvents:"none"},children:UB(c.value)?s.jsx(s.Fragment,{children:o}):i})});xB.displayName=yB;var qoe="SelectIcon",bB=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});bB.displayName=qoe;var Woe="SelectPortal",wB=e=>s.jsx(uh,{asChild:!0,...e});wB.displayName=Woe;var Su="SelectContent",jB=y.forwardRef((e,t)=>{const r=ac(Su,e.__scopeSelect),[n,a]=y.useState();if(zr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Mu.createPortal(s.jsx(_B,{scope:e.__scopeSelect,children:s.jsx(H0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(NB,{...e,ref:t})});jB.displayName=Su;var Ra=10,[_B,ic]=Ch(Su),Hoe="SelectContentImpl",Koe=Wl("SelectContent.RemoveScroll"),NB=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...b}=e,x=ac(Su,r),[w,_]=y.useState(null),[j,N]=y.useState(null),S=He(t,ue=>_(ue)),[k,C]=y.useState(null),[P,A]=y.useState(null),E=K0(r),[R,$]=y.useState(!1),B=y.useRef(!1);y.useEffect(()=>{if(w)return I0(w)},[w]),$0();const F=y.useCallback(ue=>{const[Oe,...se]=E().map(J=>J.ref.current),[ge]=se.slice(-1),je=document.activeElement;for(const J of ue)if(J===je||(J==null||J.scrollIntoView({block:"nearest"}),J===Oe&&j&&(j.scrollTop=0),J===ge&&j&&(j.scrollTop=j.scrollHeight),J==null||J.focus(),document.activeElement!==je))return},[E,j]),L=y.useCallback(()=>F([k,w]),[F,k,w]);y.useEffect(()=>{R&&L()},[R,L]);const{onOpenChange:D,triggerPointerDownPosRef:T}=x;y.useEffect(()=>{if(w){let ue={x:0,y:0};const Oe=ge=>{var je,J;ue={x:Math.abs(Math.round(ge.pageX)-(((je=T.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((J=T.current)==null?void 0:J.y)??0))}},se=ge=>{ue.x<=10&&ue.y<=10?ge.preventDefault():w.contains(ge.target)||D(!1),document.removeEventListener("pointermove",Oe),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,D,T]),y.useEffect(()=>{const ue=()=>D(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[D]);const[U,Q]=BB(ue=>{const Oe=E().filter(je=>!je.disabled),se=Oe.find(je=>je.ref.current===document.activeElement),ge=zB(Oe,ue,se);ge&&setTimeout(()=>ge.ref.current.focus())}),K=y.useCallback((ue,Oe,se)=>{const ge=!B.current&&!se;(x.value!==void 0&&x.value===Oe||ge)&&(C(ue),ge&&(B.current=!0))},[x.value]),oe=y.useCallback(()=>w==null?void 0:w.focus(),[w]),W=y.useCallback((ue,Oe,se)=>{const ge=!B.current&&!se;(x.value!==void 0&&x.value===Oe||ge)&&A(ue)},[x.value]),fe=n==="popper"?W1:SB,Se=fe===W1?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(_B,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:K,selectedItem:k,onItemLeave:oe,itemTextRefCallback:W,focusSelectedItem:L,selectedItemText:P,position:n,isPositioned:R,searchRef:U,children:s.jsx(Xg,{as:Koe,allowPinchZoom:!0,children:s.jsx(Gg,{asChild:!0,trapped:x.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:me(a,ue=>{var Oe;(Oe=x.trigger)==null||Oe.focus({preventScroll:!0}),ue.preventDefault()}),children:s.jsx($u,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(fe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ue=>ue.preventDefault(),...b,...Se,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:me(b.onKeyDown,ue=>{const Oe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Oe&&ue.key.length===1&&Q(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ge=E().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const je=ue.target,J=ge.indexOf(je);ge=ge.slice(J+1)}setTimeout(()=>F(ge)),ue.preventDefault()}})})})})})})});NB.displayName=Hoe;var Goe="SelectItemAlignedPosition",SB=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ac(Su,r),o=ic(Su,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=He(t,S=>d(S)),h=K0(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&b){const S=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(i.dir!=="rtl"){const je=P.left-k.left,J=C.left-je,at=S.left-J,qe=S.width+at,Lt=Math.max(qe,k.width),vt=window.innerWidth-Ra,Ft=Kp(J,[Ra,Math.max(Ra,vt-Lt)]);l.style.minWidth=qe+"px",l.style.left=Ft+"px"}else{const je=k.right-P.right,J=window.innerWidth-C.right-je,at=window.innerWidth-S.right-J,qe=S.width+at,Lt=Math.max(qe,k.width),vt=window.innerWidth-Ra,Ft=Kp(J,[Ra,Math.max(Ra,vt-Lt)]);l.style.minWidth=qe+"px",l.style.right=Ft+"px"}const A=h(),E=window.innerHeight-Ra*2,R=p.scrollHeight,$=window.getComputedStyle(u),B=parseInt($.borderTopWidth,10),F=parseInt($.paddingTop,10),L=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),T=B+F+R+D+L,U=Math.min(v.offsetHeight*5,T),Q=window.getComputedStyle(p),K=parseInt(Q.paddingTop,10),oe=parseInt(Q.paddingBottom,10),W=S.top+S.height/2-Ra,fe=E-W,Se=v.offsetHeight/2,ue=v.offsetTop+Se,Oe=B+F+ue,se=T-Oe;if(Oe<=W){const je=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-p.offsetTop-p.offsetHeight,at=Math.max(fe,Se+(je?oe:0)+J+L),qe=Oe+at;l.style.height=qe+"px"}else{const je=A.length>0&&v===A[0].ref.current;l.style.top="0px";const at=Math.max(W,B+p.offsetTop+(je?K:0)+Se)+se;l.style.height=at+"px",p.scrollTop=Oe-W+p.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,b,i.dir,n]);zr(()=>w(),[w]);const[_,j]=y.useState();zr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=y.useCallback(S=>{S&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return s.jsx(Xoe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Ce.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});SB.displayName=Goe;var Yoe="SelectPopperPosition",W1=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ra,...i}=e,o=G0(r);return s.jsx(k0,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W1.displayName=Yoe;var[Xoe,_E]=Ch(Su,{}),H1="SelectViewport",CB=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ic(H1,r),o=_E(H1,r),l=He(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(H0.Slot,{scope:r,children:s.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:me(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Ra*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<g){const x=b+m,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CB.displayName=H1;var kB="SelectGroup",[Qoe,Zoe]=Ch(kB),Joe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ns();return s.jsx(Qoe,{scope:r,id:a,children:s.jsx(Ce.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Joe.displayName=kB;var EB="SelectLabel",PB=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Zoe(EB,r);return s.jsx(Ce.div,{id:a.id,...n,ref:t})});PB.displayName=EB;var qx="SelectItem",[ele,AB]=Ch(qx),OB=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ac(qx,r),c=ic(qx,r),u=l.value===n,[d,f]=y.useState(i??""),[h,m]=y.useState(!1),g=He(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),p=Ns(),v=y.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ele,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(H0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ce.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:me(o.onFocus,()=>m(!0)),onBlur:me(o.onBlur,()=>m(!1)),onClick:me(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:me(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:me(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:me(o.onPointerMove,x=>{var w;v.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:me(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Foe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});OB.displayName=qx;var Im="SelectItemText",TB=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ac(Im,r),l=ic(Im,r),c=AB(Im,r),u=Voe(Im,r),[d,f]=y.useState(null),h=He(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return zr(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(Ce.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mu.createPortal(i.children,o.valueNode):null]})});TB.displayName=Im;var DB="SelectItemIndicator",RB=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return AB(DB,r).isSelected?s.jsx(Ce.span,{"aria-hidden":!0,...n,ref:t}):null});RB.displayName=DB;var K1="SelectScrollUpButton",MB=y.forwardRef((e,t)=>{const r=ic(K1,e.__scopeSelect),n=_E(K1,e.__scopeSelect),[a,i]=y.useState(!1),o=He(t,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(IB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MB.displayName=K1;var G1="SelectScrollDownButton",$B=y.forwardRef((e,t)=>{const r=ic(G1,e.__scopeSelect),n=_E(G1,e.__scopeSelect),[a,i]=y.useState(!1),o=He(t,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(IB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$B.displayName=G1;var IB=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ic("SelectScrollButton",r),o=y.useRef(null),l=K0(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),zr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:me(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:me(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:me(a.onPointerLeave,()=>{c()})})}),tle="SelectSeparator",LB=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ce.div,{"aria-hidden":!0,...n,ref:t})});LB.displayName=tle;var Y1="SelectArrow",rle=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=G0(r),i=ac(Y1,r),o=ic(Y1,r);return i.open&&o.position==="popper"?s.jsx(E0,{...a,...n,ref:t}):null});rle.displayName=Y1;var nle="SelectBubbleInput",FB=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=He(n,a),o=ev(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Ce.select,{...r,style:{...JL,...r.style},ref:i,defaultValue:t})});FB.displayName=nle;function UB(e){return e===""||e===void 0}function BB(e){const t=Br(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function zB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=sle(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function sle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ale=pB,VB=vB,ile=xB,ole=bB,lle=wB,qB=jB,cle=CB,WB=PB,HB=OB,ule=TB,dle=RB,KB=MB,GB=$B,YB=LB;const $e=ale,Ie=ile,De=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(VB,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ole,{asChild:!0,children:s.jsx(x0,{className:"h-4 w-4 opacity-50"})})]}));De.displayName=VB.displayName;const XB=y.forwardRef(({className:e,...t},r)=>s.jsx(KB,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(PG,{className:"h-4 w-4"})}));XB.displayName=KB.displayName;const QB=y.forwardRef(({className:e,...t},r)=>s.jsx(GB,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(x0,{className:"h-4 w-4"})}));QB.displayName=GB.displayName;const Re=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(lle,{children:s.jsxs(qB,{ref:a,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(XB,{}),s.jsx(cle,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(QB,{})]})}));Re.displayName=qB.displayName;const fle=y.forwardRef(({className:e,...t},r)=>s.jsx(WB,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fle.displayName=WB.displayName;const H=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(HB,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dle,{children:s.jsx(fh,{className:"h-4 w-4"})})}),s.jsx(ule,{children:t})]}));H.displayName=HB.displayName;const hle=y.forwardRef(({className:e,...t},r)=>s.jsx(YB,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));hle.displayName=YB.displayName;var Y0="Dialog",[ZB,JB]=Vr(Y0),[mle,ci]=ZB(Y0),e6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=Vn({prop:n,defaultProp:a??!1,onChange:i,caller:Y0});return s.jsx(mle,{scope:t,triggerRef:l,contentRef:c,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};e6.displayName=Y0;var t6="DialogTrigger",r6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(t6,r),i=He(t,a.triggerRef);return s.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":CE(a.open),...n,ref:i,onClick:me(e.onClick,a.onOpenToggle)})});r6.displayName=t6;var NE="DialogPortal",[ple,n6]=ZB(NE,{forceMount:void 0}),s6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ci(NE,t);return s.jsx(ple,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(tn,{present:r||i.open,children:s.jsx(uh,{asChild:!0,container:a,children:o})}))})};s6.displayName=NE;var Wx="DialogOverlay",a6=y.forwardRef((e,t)=>{const r=n6(Wx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ci(Wx,e.__scopeDialog);return i.modal?s.jsx(tn,{present:n||i.open,children:s.jsx(vle,{...a,ref:t})}):null});a6.displayName=Wx;var gle=Wl("DialogOverlay.RemoveScroll"),vle=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(Wx,r);return s.jsx(Xg,{as:gle,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ce.div,{"data-state":CE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Cu="DialogContent",i6=y.forwardRef((e,t)=>{const r=n6(Cu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ci(Cu,e.__scopeDialog);return s.jsx(tn,{present:n||i.open,children:i.modal?s.jsx(yle,{...a,ref:t}):s.jsx(xle,{...a,ref:t})})});i6.displayName=Cu;var yle=y.forwardRef((e,t)=>{const r=ci(Cu,e.__scopeDialog),n=y.useRef(null),a=He(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return I0(i)},[]),s.jsx(o6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault())})}),xle=y.forwardRef((e,t)=>{const r=ci(Cu,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(o6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),o6=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ci(Cu,r),c=y.useRef(null),u=He(t,c);return $0(),s.jsxs(s.Fragment,{children:[s.jsx(Gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($u,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":CE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(wle,{titleId:l.titleId}),s.jsx(_le,{contentRef:c,descriptionId:l.descriptionId})]})]})}),SE="DialogTitle",l6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(SE,r);return s.jsx(Ce.h2,{id:a.titleId,...n,ref:t})});l6.displayName=SE;var c6="DialogDescription",u6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(c6,r);return s.jsx(Ce.p,{id:a.descriptionId,...n,ref:t})});u6.displayName=c6;var d6="DialogClose",f6=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ci(d6,r);return s.jsx(Ce.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});f6.displayName=d6;function CE(e){return e?"open":"closed"}var h6="DialogTitleWarning",[ble,m6]=RK(h6,{contentName:Cu,titleName:SE,docsSlug:"dialog"}),wle=({titleId:e})=>{const t=m6(h6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jle="DialogDescriptionWarning",_le=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m6(jle).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kE=e6,p6=r6,EE=s6,tv=a6,rv=i6,nv=l6,sv=u6,X0=f6;const Mt=kE,av=p6,Nle=EE,g6=y.forwardRef(({className:e,...t},r)=>s.jsx(tv,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g6.displayName=tv.displayName;const At=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Nle,{children:[s.jsx(g6,{}),s.jsxs(rv,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(X0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));At.displayName=rv.displayName;const Ot=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ot.displayName="DialogHeader";const ir=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ir.displayName="DialogFooter";const Tt=y.forwardRef(({className:e,...t},r)=>s.jsx(nv,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));Tt.displayName=nv.displayName;const Dt=y.forwardRef(({className:e,...t},r)=>s.jsx(sv,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));Dt.displayName=sv.displayName;const Sle=As({firstName:Je().min(1,"First name is required").max(50,"First name must be less than 50 characters").trim(),lastName:Je().min(1,"Last name is required").max(50,"Last name must be less than 50 characters").trim(),email:Je().min(1,"Email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").trim(),phone:Je().max(20,"Phone must be less than 20 characters").regex(/^[0-9\s\-\+\(\)]*$/,"Please enter a valid phone number").optional().or(Mc("")),position:Je().min(1,"Position is required").max(100,"Position must be less than 100 characters").trim(),department:Je().max(100,"Department must be less than 100 characters").trim().optional().or(Mc("")),employmentType:zu(["casual","part_time","full_time","contractor"]),payRate:Je().regex(/^(\d+(\.\d{0,2})?)?$/,"Please enter a valid pay rate").refine(e=>{if(!e)return!0;const t=parseFloat(e);return t>=0&&t<=9999.99},"Pay rate must be between 0 and 9999.99").optional().or(Mc(""))}),Cle=As({title:Je().max(200,"Title must be less than 200 characters").trim().optional().or(Mc("")),employee_name:Je().min(1,"Employee name is required").max(100,"Employee name must be less than 100 characters").trim(),employee_email:Je().min(1,"Employee email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").trim(),position:Je().min(1,"Position is required").max(100,"Position must be less than 100 characters").trim(),department:Je().max(100,"Department must be less than 100 characters").trim().optional().or(Mc("")),start_date:Je().regex(/^(\d{4}-\d{2}-\d{2})?$/,"Please enter a valid date").optional().or(Mc("")),pay_rate:Je().regex(/^(\d+(\.\d{0,2})?)?$/,"Please enter a valid pay rate").refine(e=>{if(!e)return!0;const t=parseFloat(e);return t>=0&&t<=9999.99},"Pay rate must be between 0 and 9999.99").optional().or(Mc("")),employment_type:zu(["casual","part_time","full_time","contractor"]),content:Je().min(10,"Contract content must be at least 10 characters").max(5e4,"Contract content must be less than 50000 characters")}),$T={firstName:"",lastName:"",email:"",phone:"",position:"",department:"",employmentType:"casual",payRate:""};function kle({open:e,onOpenChange:t,onAdd:r}){var S,k,C,P;const[n,a]=y.useState($T),[i,o]=y.useState({}),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(!1),m=y.useRef(null),{data:g=[]}=sr({queryKey:["departments"],queryFn:async()=>{const{data:A,error:E}=await M.from("departments").select("*").order("name");if(E)throw E;return A}}),{data:p=[]}=sr({queryKey:["positions"],queryFn:async()=>{const{data:A,error:E}=await M.from("positions").select("*, departments(name)").order("name");if(E)throw E;return A}}),v=n.department?p.filter(A=>{const E=g.find(R=>R.name===n.department);return E?A.department_id===E.id:!0}):p,b=A=>{var R;const E=(R=A.target.files)==null?void 0:R[0];if(E){if(E.size>5*1024*1024){re({title:"File too large",description:"Please select an image under 5MB",variant:"destructive"});return}if(!E.type.startsWith("image/")){re({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}c(E),d(URL.createObjectURL(E))}},x=()=>{c(null),u&&(URL.revokeObjectURL(u),d(null)),m.current&&(m.current.value="")},w=async()=>{if(!l)return null;const A=l.name.split(".").pop(),E=`${Date.now()}-${Math.random().toString(36).substring(2)}.${A}`,{error:R}=await M.storage.from("employee-avatars").upload(E,l);if(R)throw console.error("Upload error:",R),R;const{data:{publicUrl:$}}=M.storage.from("employee-avatars").getPublicUrl(E);return $},_=()=>{const A=Sle.safeParse(n);if(!A.success){const E={};return A.error.errors.forEach(R=>{const $=R.path[0];E[$]||(E[$]=R.message)}),o(E),!1}return o({}),!0},j=async()=>{var A,E;if(!_()){re({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}h(!0);try{let R;l&&(R=await w()||void 0),r({firstName:n.firstName.trim(),lastName:n.lastName.trim(),email:n.email.trim(),phone:((A=n.phone)==null?void 0:A.trim())||"",position:n.position.trim(),department:((E=n.department)==null?void 0:E.trim())||"",employmentType:n.employmentType,payRate:n.payRate?parseFloat(n.payRate):0,avatar:R}),a($T),o({}),x(),t(!1)}catch(R){console.error("Error adding employee:",R),re({title:"Upload Error",description:"Failed to upload employee photo. Please try again.",variant:"destructive"})}finally{h(!1)}},N=(A,E)=>{a({...n,[A]:E}),i[A]&&o({...i,[A]:void 0})};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-lg",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"h-5 w-5 text-primary"}),"Add New Employee"]}),s.jsx(Dt,{children:"Enter the details for the new employee"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Pr,{className:"h-24 w-24",children:u?s.jsx(Kg,{src:u,alt:"Employee photo"}):s.jsxs(Ar,{className:"bg-muted text-muted-foreground text-2xl",children:[((k=(S=n.firstName)==null?void 0:S[0])==null?void 0:k.toUpperCase())||"?",((P=(C=n.lastName)==null?void 0:C[0])==null?void 0:P.toUpperCase())||""]})}),u&&s.jsx(I,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:x,children:s.jsx(Un,{className:"h-3 w-3"})})]}),s.jsxs("div",{children:[s.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:b,className:"hidden"}),s.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},children:[s.jsx(jo,{className:"h-4 w-4 mr-2"}),u?"Change Photo":"Upload Photo"]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"firstName",children:"First Name *"}),s.jsx(Z,{id:"firstName",value:n.firstName,onChange:A=>N("firstName",A.target.value),placeholder:"John",className:i.firstName?"border-destructive":"",maxLength:50}),i.firstName&&s.jsx("p",{className:"text-xs text-destructive",children:i.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"lastName",children:"Last Name *"}),s.jsx(Z,{id:"lastName",value:n.lastName,onChange:A=>N("lastName",A.target.value),placeholder:"Smith",className:i.lastName?"border-destructive":"",maxLength:50}),i.lastName&&s.jsx("p",{className:"text-xs text-destructive",children:i.lastName})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"email",children:"Email *"}),s.jsx(Z,{id:"email",type:"email",value:n.email,onChange:A=>N("email",A.target.value),placeholder:"john@example.com",className:i.email?"border-destructive":"",maxLength:255}),i.email&&s.jsx("p",{className:"text-xs text-destructive",children:i.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"phone",children:"Phone"}),s.jsx(Z,{id:"phone",value:n.phone||"",onChange:A=>N("phone",A.target.value),placeholder:"0400 000 000",className:i.phone?"border-destructive":"",maxLength:20}),i.phone&&s.jsx("p",{className:"text-xs text-destructive",children:i.phone})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Employment Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"department",children:"Department"}),s.jsxs($e,{value:n.department||"none",onValueChange:A=>{N("department",A==="none"?"":A),n.position&&N("position","")},children:[s.jsx(De,{className:i.department?"border-destructive":"",children:s.jsx(Ie,{placeholder:"Select department"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"none",children:"No department"}),g.map(A=>s.jsx(H,{value:A.name,children:A.name},A.id))]})]}),i.department&&s.jsx("p",{className:"text-xs text-destructive",children:i.department})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"position",children:"Position *"}),s.jsxs($e,{value:n.position||"none",onValueChange:A=>N("position",A==="none"?"":A),children:[s.jsx(De,{className:i.position?"border-destructive":"",children:s.jsx(Ie,{placeholder:"Select position"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"none",children:"Select a position"}),v.map(A=>s.jsx(H,{value:A.name,children:A.name},A.id))]})]}),i.position&&s.jsx("p",{className:"text-xs text-destructive",children:i.position})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employmentType",children:"Employment Type"}),s.jsxs($e,{value:n.employmentType,onValueChange:A=>N("employmentType",A),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"casual",children:"Casual"}),s.jsx(H,{value:"part_time",children:"Part-Time"}),s.jsx(H,{value:"full_time",children:"Full-Time"}),s.jsx(H,{value:"contractor",children:"Contractor"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"payRate",children:"Pay Rate ($/hr)"}),s.jsx(Z,{id:"payRate",type:"text",inputMode:"decimal",value:n.payRate||"",onChange:A=>N("payRate",A.target.value),placeholder:"40.00",className:i.payRate?"border-destructive":""}),i.payRate&&s.jsx("p",{className:"text-xs text-destructive",children:i.payRate})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{variant:"outline",onClick:()=>t(!1),className:"flex-1",disabled:f,children:"Cancel"}),s.jsx(I,{className:"flex-1 gradient-primary",onClick:j,disabled:f,children:f?"Adding...":"Add Employee"})]})]})]})})}const Do=kE,Ele=EE,v6=y.forwardRef(({className:e,...t},r)=>s.jsx(tv,{className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));v6.displayName=tv.displayName;const Ple=dh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Bi=y.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Ele,{children:[s.jsx(v6,{}),s.jsxs(rv,{ref:a,className:ne(Ple({side:e}),t),...n,children:[r,s.jsxs(X0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Un,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bi.displayName=rv.displayName;const zi=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});zi.displayName="SheetHeader";const Vi=y.forwardRef(({className:e,...t},r)=>s.jsx(nv,{ref:r,className:ne("text-lg font-semibold text-foreground",e),...t}));Vi.displayName=nv.displayName;const Ro=y.forwardRef(({className:e,...t},r)=>s.jsx(sv,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));Ro.displayName=sv.displayName;function Ale(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var PE="ScrollArea",[y6,U3e]=Vr(PE),[Ole,Sa]=y6(PE),x6=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[j,N]=y.useState(!1),[S,k]=y.useState(!1),C=He(t,A=>c(A)),P=nc(a);return s.jsx(Ole,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Ce.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});x6.displayName=PE;var b6="ScrollAreaViewport",w6=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Sa(b6,r),l=y.useRef(null),c=He(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});w6.displayName=b6;var qi="ScrollAreaScrollbar",AE=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Sa(qi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Tle,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Dle,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(j6,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(OE,{...n,ref:t}):null});AE.displayName=qi;var Tle=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Sa(qi,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(tn,{present:r||i,children:s.jsx(j6,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Dle=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Sa(qi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Z0(()=>c("SCROLL_END"),100),[l,c]=Ale("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(tn,{present:r||l!=="hidden",children:s.jsx(OE,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),j6=y.forwardRef((e,t)=>{const r=Sa(qi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=Z0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Tf(r.viewport,c),Tf(r.content,c),s.jsx(tn,{present:n||i,children:s.jsx(OE,{"data-state":i?"visible":"hidden",...a,ref:t})})}),OE=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Sa(qi,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=k6(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Fle(h,o.current,l,m)}return r==="horizontal"?s.jsx(Rle,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=IT(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Mle,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=IT(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Rle=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Sa(qi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=He(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(N6,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Q0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),P6(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kx(o.paddingLeft),paddingEnd:Kx(o.paddingRight)}})}})}),Mle=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Sa(qi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=He(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(N6,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Q0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),P6(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kx(o.paddingTop),paddingEnd:Kx(o.paddingBottom)}})}})}),[$le,_6]=y6(qi),N6=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Sa(qi,r),[g,p]=y.useState(null),v=He(t,C=>p(C)),b=y.useRef(null),x=y.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Br(d),N=Br(c),S=Z0(f,10);function k(C){if(b.current){const P=C.clientX-b.current.left,A=C.clientY-b.current.top;u({x:P,y:A})}}return y.useEffect(()=>{const C=P=>{const A=P.target;(g==null?void 0:g.contains(A))&&j(P,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),y.useEffect(N,[n,N]),Tf(g,S),Tf(m.content,S),s.jsx($le,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Br(i),onThumbPointerUp:Br(o),onThumbPositionChange:N,onThumbPointerDown:Br(l),children:s.jsx(Ce.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:me(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:me(e.onPointerMove,k),onPointerUp:me(e.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Hx="ScrollAreaThumb",S6=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_6(Hx,e.__scopeScrollArea);return s.jsx(tn,{present:r||a.hasThumb,children:s.jsx(Ile,{ref:t,...n})})}),Ile=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Sa(Hx,r),o=_6(Hx,r),{onThumbPositionChange:l}=o,c=He(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=Z0(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Ule(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:me(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:me(e.onPointerUp,o.onThumbPointerUp)})});S6.displayName=Hx;var TE="ScrollAreaCorner",C6=y.forwardRef((e,t)=>{const r=Sa(TE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Lle,{...e,ref:t}):null});C6.displayName=TE;var Lle=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Sa(TE,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return Tf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Tf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Ce.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kx(e){return e?parseInt(e,10):0}function k6(e,t){const r=e/t;return isNaN(r)?0:r}function Q0(e){const t=k6(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Fle(e,t,r,n="ltr"){const a=Q0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return E6([c,u],f)(e)}function IT(e,t,r="ltr"){const n=Q0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Kp(e,c);return E6([0,o],[0,l])(u)}function E6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function P6(e,t){return e>0&&e<t}var Ule=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Z0(e,t){const r=Br(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Tf(e,t){const r=Br(t);zr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var A6=x6,Ble=w6,zle=C6;const Vu=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(A6,{ref:n,className:ne("relative overflow-hidden",e),...r,children:[s.jsx(Ble,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(O6,{}),s.jsx(zle,{})]}));Vu.displayName=A6.displayName;const O6=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(AE,{ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(S6,{className:"relative flex-1 rounded-full bg-border"})}));O6.displayName=AE.displayName;var DE="Progress",RE=100,[Vle,B3e]=Vr(DE),[qle,Wle]=Vle(DE),T6=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Hle,...o}=e;(a||a===0)&&!LT(a)&&console.error(Kle(`${a}`,"Progress"));const l=LT(a)?a:RE;n!==null&&!FT(n,l)&&console.error(Gle(`${n}`,"Progress"));const c=FT(n,l)?n:null,u=Gx(c)?i(c,l):void 0;return s.jsx(qle,{scope:r,value:c,max:l,children:s.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Gx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":M6(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});T6.displayName=DE;var D6="ProgressIndicator",R6=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Wle(D6,r);return s.jsx(Ce.div,{"data-state":M6(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});R6.displayName=D6;function Hle(e,t){return`${Math.round(e/t*100)}%`}function M6(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Gx(e){return typeof e=="number"}function LT(e){return Gx(e)&&!isNaN(e)&&e>0}function FT(e,t){return Gx(e)&&!isNaN(e)&&e<=t&&e>=0}function Kle(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RE}\`.`}function Gle(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $6=T6,Yle=R6;const Gs=y.forwardRef(({className:e,value:t,...r},n)=>s.jsx($6,{ref:n,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Yle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Gs.displayName=$6.displayName;var J0="Popover",[I6,z3e]=Vr(J0,[tc]),iv=tc(),[Xle,oc]=I6(J0),L6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=iv(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=Vn({prop:n,defaultProp:a??!1,onChange:i,caller:J0});return s.jsx(C0,{...l,children:s.jsx(Xle,{scope:t,contentId:Ns(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};L6.displayName=J0;var F6="PopoverAnchor",Qle=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=oc(F6,r),i=iv(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(qg,{...i,...n,ref:t})});Qle.displayName=F6;var U6="PopoverTrigger",B6=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=oc(U6,r),i=iv(r),o=He(t,a.triggerRef),l=s.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":H6(a.open),...n,ref:o,onClick:me(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(qg,{asChild:!0,...i,children:l})});B6.displayName=U6;var ME="PopoverPortal",[Zle,Jle]=I6(ME,{forceMount:void 0}),z6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=oc(ME,t);return s.jsx(Zle,{scope:t,forceMount:r,children:s.jsx(tn,{present:r||i.open,children:s.jsx(uh,{asChild:!0,container:a,children:n})})})};z6.displayName=ME;var Df="PopoverContent",V6=y.forwardRef((e,t)=>{const r=Jle(Df,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=oc(Df,e.__scopePopover);return s.jsx(tn,{present:n||i.open,children:i.modal?s.jsx(tce,{...a,ref:t}):s.jsx(rce,{...a,ref:t})})});V6.displayName=Df;var ece=Wl("PopoverContent.RemoveScroll"),tce=y.forwardRef((e,t)=>{const r=oc(Df,e.__scopePopover),n=y.useRef(null),a=He(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return I0(o)},[]),s.jsx(Xg,{as:ece,allowPinchZoom:!0,children:s.jsx(q6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rce=y.forwardRef((e,t)=>{const r=oc(Df,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(q6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),q6=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=oc(Df,r),m=iv(r);return $0(),s.jsx(Gg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($u,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(k0,{"data-state":H6(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),W6="PopoverClose",nce=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=oc(W6,r);return s.jsx(Ce.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});nce.displayName=W6;var sce="PopoverArrow",ace=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=iv(r);return s.jsx(E0,{...a,...n,ref:t})});ace.displayName=sce;function H6(e){return e?"open":"closed"}var ice=L6,oce=B6,lce=z6,K6=V6;const $i=ice,Ii=oce,ri=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(lce,{children:s.jsx(K6,{ref:a,align:t,sideOffset:r,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ri.displayName=K6.displayName;var rt=function(){return rt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},rt.apply(this,arguments)};function cce(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function G6(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ov(e){return e.mode==="multiple"}function lv(e){return e.mode==="range"}function ew(e){return e.mode==="single"}var uce={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function dce(e,t){return le(e,"LLLL y",t)}function fce(e,t){return le(e,"d",t)}function hce(e,t){return le(e,"LLLL",t)}function mce(e){return"".concat(e)}function pce(e,t){return le(e,"cccccc",t)}function gce(e,t){return le(e,"yyyy",t)}var vce=Object.freeze({__proto__:null,formatCaption:dce,formatDay:fce,formatMonthCaption:hce,formatWeekNumber:mce,formatWeekdayName:pce,formatYearCaption:gce}),yce=function(e,t,r){return le(e,"do MMMM (EEEE)",r)},xce=function(){return"Month: "},bce=function(){return"Go to next month"},wce=function(){return"Go to previous month"},jce=function(e,t){return le(e,"cccc",t)},_ce=function(e){return"Week n. ".concat(e)},Nce=function(){return"Year: "},Sce=Object.freeze({__proto__:null,labelDay:yce,labelMonthDropdown:xce,labelNext:bce,labelPrevious:wce,labelWeekNumber:_ce,labelWeekday:jce,labelYearDropdown:Nce});function Cce(){var e="buttons",t=uce,r=dE,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:vce,labels:Sce,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function kce(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ss(n):t&&(i=new Date(t,0,1)),a?o=z0(a):r&&(o=new Date(r,11,31)),{fromDate:i?Nf(i):void 0,toDate:o?Nf(o):void 0}}var Y6=y.createContext(void 0);function Ece(e){var t,r=e.initialProps,n=Cce(),a=kce(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(ew(r)||ov(r)||lv(r))&&(c=r.onSelect);var u=rt(rt(rt({},n),r),{captionLayout:l,classNames:rt(rt({},n.classNames),r.classNames),components:rt({},r.components),formatters:rt(rt({},n.formatters),r.formatters),fromDate:i,labels:rt(rt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:rt(rt({},n.modifiers),r.modifiers),modifiersClassNames:rt(rt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:rt(rt({},n.styles),r.styles),toDate:o});return s.jsx(Y6.Provider,{value:u,children:e.children})}function vr(){var e=y.useContext(Y6);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function X6(e){var t=vr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Pce(e){return s.jsx("svg",rt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Q6(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=vr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Pce;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Ace(e){var t,r=vr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(eie(n,a))for(var h=Ss(n),m=n.getMonth();m<=a.getMonth();m++)f.push(p_(h,m));else for(var h=Ss(new Date),m=0;m<=11;m++)f.push(p_(h,m));var g=function(v){var b=Number(v.target.value),x=p_(Ss(e.displayMonth),b);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Q6;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Oce(e){var t,r=e.displayMonth,n=vr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)h.push(cT(TU(new Date),p));var v=function(x){var w=cT(Ss(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Q6;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function Tce(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Dce(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Cf(i,a)<0){var u=-1*(c-1);a=ei(i,u)}return o&&Cf(a,o)<0&&(a=o),Ss(a)}function Rce(){var e=vr(),t=Dce(e),r=Tce(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ss(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Mce(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ss(e),i=Ss(ei(a,n)),o=Cf(i,a),l=[],c=0;c<o;c++){var u=ei(a,c);l.push(u)}return r&&(l=l.reverse()),l}function $ce(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ss(e);if(!r)return ei(l,o);var c=Cf(r,e);if(!(c<i))return ei(l,o)}}function Ice(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ss(e);if(!r)return ei(l,-o);var c=Cf(l,r);if(!(c<=0))return ei(l,-o)}}var Z6=y.createContext(void 0);function Lce(e){var t=vr(),r=Rce(),n=r[0],a=r[1],i=Mce(n,t),o=$ce(n,t),l=Ice(n,t),c=function(f){return i.some(function(h){return fE(f,h)})},u=function(f,h){c(f)||(h&&FU(f,h)?a(ei(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Z6.Provider,{value:d,children:e.children})}function cv(){var e=y.useContext(Z6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function UT(e){var t,r=vr(),n=r.classNames,a=r.styles,i=r.components,o=cv().goToMonth,l=function(d){o(ei(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:X6,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Ace,{onChange:l,displayMonth:e.displayMonth}),s.jsx(Oce,{onChange:l,displayMonth:e.displayMonth})]})}function Fce(e){return s.jsx("svg",rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Uce(e){return s.jsx("svg",rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Yx=y.forwardRef(function(e,t){var r=vr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=rt(rt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",rt({},e,{ref:t,type:"button",className:o,style:l}))});function Bce(e){var t,r,n=vr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Uce,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Fce;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Yx,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Yx,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function BT(e){var t=vr().numberOfMonths,r=cv(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return fE(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(Bce,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function zce(e){var t,r=vr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:X6,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(UT,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(UT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(BT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(BT,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function Vce(e){var t=vr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function qce(e,t,r){for(var n=r?xu(new Date):Di(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=ln(n,i);a.push(o)}return a}function Wce(){var e=vr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=qce(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Hce(){var e,t=vr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Wce;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Kce(e){var t=vr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var $E=y.createContext(void 0);function Gce(e){if(!ov(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx($E.Provider,{value:t,children:e.children})}return s.jsx(Yce,{initialProps:e.initialProps,children:e.children})}function Yce(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var v=n?G6([],n):[];if(d.selected){var b=v.findIndex(function(x){return Zn(u,x)});v.splice(b,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Zn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx($E.Provider,{value:c,children:r})}function IE(){var e=y.useContext($E);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Xce(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Zn(a,e)&&Zn(n,e)?void 0:Zn(a,e)?{from:a,to:void 0}:Zn(n,e)?void 0:I1(n,e)?{from:e,to:a}:{from:n,to:e}:a?I1(e,a)?{from:a,to:e}:{from:e,to:a}:n?FU(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var LE=y.createContext(void 0);function Qce(e){if(!lv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(LE.Provider,{value:t,children:e.children})}return s.jsx(Zce,{initialProps:e.initialProps,children:e.children})}function Zce(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var x=Xce(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Zn(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:h_(i,l-1),before:ln(i,l-1)}),i&&o&&d.disabled.push({after:i,before:ln(i,l-1)}),!i&&o&&d.disabled.push({after:h_(o,l-1),before:ln(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:ln(i,-c+1)}),d.disabled.push({after:ln(i,c-1)})),i&&o){var f=va(o,i)+1,h=c-f;d.disabled.push({before:h_(i,h)}),d.disabled.push({after:ln(o,h)})}!i&&o&&(d.disabled.push({before:ln(o,-c+1)}),d.disabled.push({after:ln(o,c-1)}))}return s.jsx(LE.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function FE(){var e=y.useContext(LE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function By(e){return Array.isArray(e)?G6([],e):e!==void 0?[e]:[]}function Jce(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=By(a)}),t}var ni;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ni||(ni={}));var eue=ni.Selected,Yi=ni.Disabled,tue=ni.Hidden,rue=ni.Today,y_=ni.RangeEnd,x_=ni.RangeMiddle,b_=ni.RangeStart,nue=ni.Outside;function sue(e,t,r){var n,a=(n={},n[eue]=By(e.selected),n[Yi]=By(e.disabled),n[tue]=By(e.hidden),n[rue]=[e.today],n[y_]=[],n[x_]=[],n[b_]=[],n[nue]=[],n);return e.fromDate&&a[Yi].push({before:e.fromDate}),e.toDate&&a[Yi].push({after:e.toDate}),ov(e)?a[Yi]=a[Yi].concat(t.modifiers[Yi]):lv(e)&&(a[Yi]=a[Yi].concat(r.modifiers[Yi]),a[b_]=r.modifiers[b_],a[x_]=r.modifiers[x_],a[y_]=r.modifiers[y_]),a}var J6=y.createContext(void 0);function aue(e){var t=vr(),r=IE(),n=FE(),a=sue(t,r,n),i=Jce(t.modifiers),o=rt(rt({},a),i);return s.jsx(J6.Provider,{value:o,children:e.children})}function e8(){var e=y.useContext(J6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function iue(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function oue(e){return!!(e&&typeof e=="object"&&"from"in e)}function lue(e){return!!(e&&typeof e=="object"&&"after"in e)}function cue(e){return!!(e&&typeof e=="object"&&"before"in e)}function uue(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function due(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=va(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=va(e,n)>=0&&va(a,e)>=0;return o}return a?Zn(a,e):n?Zn(n,e):!1}function fue(e){return cE(e)}function hue(e){return Array.isArray(e)&&e.every(cE)}function mue(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(fue(r))return Zn(e,r);if(hue(r))return r.includes(e);if(oue(r))return due(e,r);if(uue(r))return r.dayOfWeek.includes(e.getDay());if(iue(r)){var n=va(r.before,e),a=va(r.after,e),i=n>0,o=a<0,l=I1(r.before,r.after);return l?o&&i:i||o}return lue(r)?va(e,r.after)>0:cue(r)?va(r.before,e)>0:typeof r=="function"?r(e):!1})}function UE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return mue(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!fE(e,r)&&(a.outside=!0),a}function pue(e,t){for(var r=Ss(e[0]),n=z0(e[e.length-1]),a,i,o=r;o<=n;){var l=UE(o,t),c=!l.disabled&&!l.hidden;if(!c){o=ln(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=ln(o,1)}return i||a}var gue=365;function t8(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:ln,week:M1,month:ei,year:zse,startOfWeek:function(v){return a.ISOWeek?xu(v):Di(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?DU(v):uE(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Vse([u,m]):n==="after"&&d&&(m=qse([d,m]));var g=!0;if(i){var p=UE(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>gue?l.lastFocused:t8(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:rt(rt({},l),{count:l.count+1})})}var r8=y.createContext(void 0);function vue(e){var t=cv(),r=e8(),n=y.useState(),a=n[0],i=n[1],o=y.useState(),l=o[0],c=o[1],u=pue(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},m=vr(),g=function(v,b){if(a){var x=t8(a,{moveBy:v,direction:b,context:m,modifiers:r});Zn(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(r8.Provider,{value:p,children:e.children})}function BE(){var e=y.useContext(r8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function yue(e,t){var r=e8(),n=UE(e,r,t);return n}var zE=y.createContext(void 0);function xue(e){if(!ew(e.initialProps)){var t={selected:void 0};return s.jsx(zE.Provider,{value:t,children:e.children})}return s.jsx(bue,{initialProps:e.initialProps,children:e.children})}function bue(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(zE.Provider,{value:a,children:r})}function n8(){var e=y.useContext(zE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function wue(e,t){var r=vr(),n=n8(),a=IE(),i=FE(),o=BE(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(L){var D,T,U,Q;ew(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,L):ov(r)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,L):lv(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,L):(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,L)},_=function(L){var D;h(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,L)},j=function(L){var D;f(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,L)},N=function(L){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,L)},S=function(L){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,L)},k=function(L){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,L)},C=function(L){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,L)},P=function(L){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,L)},A=function(L){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,L)},E=function(L){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,L)},R=function(L){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,L)},$=function(L){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,L)},B=function(L){var D;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),u();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),d();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?p():m();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():g();break;case"Home":L.preventDefault(),L.stopPropagation(),b();break;case"End":L.preventDefault(),L.stopPropagation(),x();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,L)},F={onClick:w,onFocus:_,onBlur:j,onKeyDown:B,onKeyUp:$,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:P,onTouchEnd:A,onTouchMove:E,onTouchStart:R};return F}function jue(){var e=vr(),t=n8(),r=IE(),n=FE(),a=ew(e)?t.selected:ov(e)?r.selected:lv(e)?n.selected:void 0;return a}function _ue(e){return Object.values(ni).includes(e)}function Nue(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(_ue(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Sue(e,t){var r=rt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=rt(rt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Cue(e,t,r){var n,a,i,o=vr(),l=BE(),c=yue(e,t),u=wue(e,c),d=jue(),f=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Zn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Nue(o,c).join(" "),m=Sue(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Kce,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Zn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Zn(l.focusedDay,e),_=rt(rt(rt({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),j={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return j}function kue(e){var t=y.useRef(null),r=Cue(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Yx,rt({name:"day",ref:t},r.buttonProps)):s.jsx("div",rt({},r.divProps))}function Eue(e){var t=e.number,r=e.dates,n=vr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Yx,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Pue(e){var t,r,n=vr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:kue,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Eue,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},Qae(f))})]})}function zT(e,t,r){for(var n=r!=null&&r.ISOWeek?DU(t):uE(t,r),a=r!=null&&r.ISOWeek?xu(e):Di(e,r),i=va(n,a),o=[],l=0;l<=i;l++)o.push(ln(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?RU(d):$U(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Aue(e,t){var r=zT(Ss(e),z0(e),t);if(t!=null&&t.useFixedWeeks){var n=Jae(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=M1(i,6-n),l=zT(M1(i,1),o,t);r.push.apply(r,l)}}return r}function Oue(e){var t,r,n,a=vr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=Aue(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Hce,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Pue,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Vce;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return s.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function Tue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Due=Tue()?y.useLayoutEffect:y.useEffect,w_=!1,Rue=0;function VT(){return"react-day-picker-".concat(++Rue)}function Mue(e){var t,r=e??(w_?VT():null),n=y.useState(r),a=n[0],i=n[1];return Due(function(){a===null&&i(VT())},[]),y.useEffect(function(){w_===!1&&(w_=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function $ue(e){var t,r,n=vr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=cv().displayMonths,u=Mue(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(i.caption_start),h=rt(rt({},h),o.caption_start)),g&&(f.push(i.caption_end),h=rt(rt({},h),o.caption_end)),p&&(f.push(i.caption_between),h=rt(rt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:zce;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Oue,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Iue(e){var t=vr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Lue(e){var t,r,n=e.initialProps,a=vr(),i=BE(),o=cv(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=rt(rt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return rt(rt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Iue;return s.jsx("div",rt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx($ue,{displayIndex:p,displayMonth:g},p)})})}))}function Fue(e){var t=e.children,r=cce(e,["children"]);return s.jsx(Ece,{initialProps:r,children:s.jsx(Lce,{children:s.jsx(xue,{initialProps:r,children:s.jsx(Gce,{initialProps:r,children:s.jsx(Qce,{initialProps:r,children:s.jsx(aue,{children:s.jsx(vue,{children:t})})})})})})})}function Uue(e){return s.jsx(Fue,rt({},e,{children:s.jsx(Lue,{initialProps:e})}))}function si({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Uue,{showOutsideDays:r,className:ne("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ne(Ip({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ne(Ip({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Ak,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Oo,{className:"h-4 w-4"})},...n})}si.displayName="Calendar";const j_=[{value:"police_check",label:"Police Check",defaultValidityYears:3},{value:"ndis_screening",label:"NDIS Worker Screening",defaultValidityYears:5},{value:"first_aid",label:"First Aid Certificate",defaultValidityYears:3},{value:"cpr",label:"CPR Certificate",defaultValidityYears:1},{value:"wwcc_vic",label:"Working with Children's Check Victoria",defaultValidityYears:5},{value:"wwcc_nsw",label:"Working with Children's Check NSW",defaultValidityYears:5},{value:"drivers_license",label:"Drivers License",defaultValidityYears:10},{value:"training",label:"Training Certificate",defaultValidityYears:2},{value:"other",label:"Other",defaultValidityYears:1}],Bue=As({name:Je().min(1,"Name is required").max(100,"Name must be less than 100 characters"),type:zu(["police_check","ndis_screening","first_aid","cpr","wwcc_vic","wwcc_nsw","drivers_license","training","other"]),issueDate:_u({required_error:"Issue date is required"}),expiryDate:_u({required_error:"Expiry date is required"})});function qT(e){const r=ti(e,new Date);return r<0?"expired":r<=30?"expiring":"compliant"}function zue(e){switch(e){case"expired":return s.jsx(lr,{className:"h-4 w-4 text-destructive"});case"expiring":return s.jsx(wt,{className:"h-4 w-4 text-warning"});case"compliant":return s.jsx(bt,{className:"h-4 w-4 text-success"});case"pending":return s.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})}}function Vue({open:e,onOpenChange:t,certification:r,onSave:n,onDelete:a}){const i=!!r,o=y.useRef(null),[l,c]=y.useState({name:(r==null?void 0:r.name)||"",type:(r==null?void 0:r.type)||"police_check",issueDate:r!=null&&r.issueDate?new Date(r.issueDate):void 0,expiryDate:r!=null&&r.expiryDate?new Date(r.expiryDate):void 0}),[u,d]=y.useState(null),[f,h]=y.useState({}),[m,g]=y.useState(!1),p=j=>{const N=j_.find(P=>P.value===j),S=j,k=(N==null?void 0:N.label)||"";let C=l.expiryDate;l.issueDate&&N&&(C=ln(l.issueDate,N.defaultValidityYears*365)),c({...l,type:S,name:l.name||k,expiryDate:C})},v=j=>{if(!j){c({...l,issueDate:void 0});return}const N=j_.find(k=>k.value===l.type),S=N?ln(j,N.defaultValidityYears*365):l.expiryDate;c({...l,issueDate:j,expiryDate:S})},b=j=>{var C;const N=(C=j.target.files)==null?void 0:C[0];if(!N)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(N.type)){re({title:"Invalid File Type",description:"Please upload a PDF or image file (JPG, PNG)",variant:"destructive"});return}const k=10*1024*1024;if(N.size>k){re({title:"File Too Large",description:"Please upload a file smaller than 10MB",variant:"destructive"});return}d(N)},x=()=>{const j=Bue.safeParse(l);if(!j.success){const S={};j.error.errors.forEach(k=>{k.path[0]&&(S[k.path[0]]=k.message)}),h(S);return}if(l.expiryDate&&l.issueDate&&l.expiryDate<=l.issueDate){h({expiryDate:"Expiry date must be after issue date"});return}g(!0);const N={id:(r==null?void 0:r.id)||`cert-${Date.now()}`,name:l.name.trim(),type:l.type,issueDate:l.issueDate.toISOString().split("T")[0],expiryDate:l.expiryDate.toISOString().split("T")[0],status:qT(l.expiryDate),documentId:r==null?void 0:r.documentId};n(N,u||void 0),g(!1),t(!1),c({name:"",type:"police_check",issueDate:void 0,expiryDate:void 0}),d(null),h({})},w=()=>{r&&a&&(a(r.id),t(!1))},_=l.expiryDate?qT(l.expiryDate):null;return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:i?"Edit Certification":"Add Certification"}),s.jsx(Dt,{children:i?"Update the certification details and upload a new document if needed.":"Add a new compliance certification with document upload."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-type",children:"Certification Type *"}),s.jsxs($e,{value:l.type,onValueChange:p,children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select type"})}),s.jsx(Re,{className:"bg-popover",children:j_.map(j=>s.jsx(H,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"cert-name",children:"Certificate Name *"}),s.jsx(Z,{id:"cert-name",value:l.name,onChange:j=>c({...l,name:j.target.value}),placeholder:"e.g., National Police Certificate",maxLength:100}),f.name&&s.jsx("p",{className:"text-xs text-destructive",children:f.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Issue Date *"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:ne("w-full justify-start text-left font-normal",!l.issueDate&&"text-muted-foreground"),children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),l.issueDate?le(l.issueDate,"PPP"):"Select issue date"]})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:l.issueDate,onSelect:v,disabled:j=>j>new Date,initialFocus:!0,className:ne("p-3 pointer-events-auto")})})]}),f.issueDate&&s.jsx("p",{className:"text-xs text-destructive",children:f.issueDate})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Expiry Date *"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:ne("w-full justify-start text-left font-normal",!l.expiryDate&&"text-muted-foreground"),children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),l.expiryDate?le(l.expiryDate,"PPP"):"Select expiry date"]})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:l.expiryDate,onSelect:j=>c({...l,expiryDate:j}),disabled:j=>l.issueDate?j<=l.issueDate:!1,initialFocus:!0,className:ne("p-3 pointer-events-auto")})})]}),f.expiryDate&&s.jsx("p",{className:"text-xs text-destructive",children:f.expiryDate}),_&&s.jsxs("div",{className:ne("flex items-center gap-2 text-xs p-2 rounded-md",_==="expired"&&"bg-destructive/10 text-destructive",_==="expiring"&&"bg-warning/10 text-warning",_==="compliant"&&"bg-success/10 text-success"),children:[zue(_),s.jsxs("span",{children:[_==="expired"&&"This certificate has expired",_==="expiring"&&`Expires in ${ti(l.expiryDate,new Date)} days`,_==="compliant"&&`Valid for ${ti(l.expiryDate,new Date)} days`]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Supporting Document"}),s.jsx("div",{className:"border-2 border-dashed border-muted rounded-lg p-4",children:u?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"truncate max-w-[200px]",children:u.name})]}),s.jsx(I,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>d(null),children:s.jsx(Un,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsx(jo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload certificate document"}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>{var j;return(j=o.current)==null?void 0:j.click()},children:"Choose File"}),s.jsx("input",{ref:o,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:b})]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: PDF, JPG, PNG (max 10MB)"})]})]}),s.jsxs(ir,{className:"flex-col sm:flex-row gap-2",children:[i&&a&&s.jsx(I,{variant:"destructive",onClick:w,className:"w-full sm:w-auto",children:"Delete"}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto sm:ml-auto",children:[s.jsx(I,{variant:"outline",onClick:()=>t(!1),className:"flex-1 sm:flex-none",children:"Cancel"}),s.jsx(I,{onClick:x,disabled:m,className:"flex-1 sm:flex-none gradient-primary",children:m?"Saving...":i?"Update":"Add Certification"})]})]})]})})}const que={casual:"Casual",part_time:"Part-Time",full_time:"Full-Time",contractor:"Contractor"},Wue={casual:"bg-info/10 text-info",part_time:"bg-primary/10 text-primary",full_time:"bg-success/10 text-success",contractor:"bg-warning/10 text-warning"};function Hue({employee:e,open:t,onOpenChange:r,onUpdate:n}){var $,B,F,L,D;const[a,i]=y.useState(!1),[o,l]=y.useState({}),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(null),g=y.useRef(null);if(!e)return null;const p=T=>{const U=new Date(T);return{daysUntil:ti(U,new Date),expiry:U}},v=T=>{switch(T){case"expired":return s.jsx(lr,{className:"h-4 w-4 text-destructive"});case"expiring":return s.jsx(wt,{className:"h-4 w-4 text-warning"});case"compliant":return s.jsx(bt,{className:"h-4 w-4 text-success"});case"pending":return s.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})}},b=()=>{m(null),f(!0)},x=T=>{m(T),f(!0)},w=(T,U)=>{let Q=[...e.documents];if(U){const se={id:`doc-${Date.now()}`,name:U.name,type:"certificate",uploadedAt:new Date().toISOString(),url:URL.createObjectURL(U)};Q=[...Q,se],T.documentId=se.id}const K=e.certifications.findIndex(se=>se.id===T.id);let oe;K>=0?(oe=[...e.certifications],oe[K]=T):oe=[...e.certifications,T];const W=oe.some(se=>se.status==="expired"),fe=oe.some(se=>se.status==="expiring"),Se=oe.some(se=>se.status==="pending");let ue="compliant";W?ue="expired":fe?ue="expiring":Se&&(ue="pending");const Oe={...e,certifications:oe,documents:Q,complianceStatus:ue};n==null||n(Oe),re({title:K>=0?"Certification Updated":"Certification Added",description:`${T.name} has been ${K>=0?"updated":"added"} successfully.`})},_=T=>{const U=e.certifications.filter(Se=>Se.id!==T),Q=U.some(Se=>Se.status==="expired"),K=U.some(Se=>Se.status==="expiring"),oe=U.some(Se=>Se.status==="pending");let W="compliant";Q?W="expired":K?W="expiring":oe&&(W="pending");const fe={...e,certifications:U,complianceStatus:U.length===0?"pending":W};n==null||n(fe),re({title:"Certification Removed",description:"The certification has been removed."})},j=T=>{var fe;const U=(fe=T.target.files)==null?void 0:fe[0];if(!U)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(U.type)){re({title:"Invalid File Type",description:"Please upload a PDF or image file (JPG, PNG)",variant:"destructive"});return}const K=10*1024*1024;if(U.size>K){re({title:"File Too Large",description:"Please upload a file smaller than 10MB",variant:"destructive"});return}u(!0);const oe={id:`doc-${Date.now()}`,name:U.name,type:"certificate",uploadedAt:new Date().toISOString(),url:URL.createObjectURL(U)},W={...e,documents:[...e.documents,oe]};n==null||n(W),u(!1),re({title:"Document Uploaded",description:`${U.name} has been uploaded successfully.`}),g.current&&(g.current.value="")},N=()=>{var T;(T=g.current)==null||T.click()},S=e.certifications.length,k=e.certifications.filter(T=>T.status==="compliant").length,C=S>0?Math.round(k/S*100):0,P=()=>{l({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,position:e.position,department:e.department,employmentType:e.employmentType,payRate:e.payRate,awardClassification:e.awardClassification,emergencyContact:e.emergencyContact}),i(!0)},A=()=>{i(!1),l({})},E=()=>{if(!o.firstName||!o.lastName||!o.email){re({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}const T={...e,...o};n==null||n(T),i(!1),l({}),re({title:"Profile Updated",description:`${T.firstName} ${T.lastName}'s profile has been updated.`})},R=T=>{T||(i(!1),l({})),r(T)};return s.jsxs(Do,{open:t,onOpenChange:R,children:[s.jsxs(Bi,{className:"w-full sm:max-w-lg overflow-hidden flex flex-col",children:[s.jsx(zi,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pr,{className:"h-16 w-16 avatar-ring",children:s.jsxs(Ar,{className:"bg-primary/10 text-primary text-xl font-semibold",children:[(a?($=o.firstName)==null?void 0:$[0]:e.firstName[0])||"E",(a?(B=o.lastName)==null?void 0:B[0]:e.lastName[0])||"E"]})}),s.jsx("div",{className:"flex-1",children:a?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{value:o.firstName||"",onChange:T=>l({...o,firstName:T.target.value}),placeholder:"First Name",className:"h-8"}),s.jsx(Z,{value:o.lastName||"",onChange:T=>l({...o,lastName:T.target.value}),placeholder:"Last Name",className:"h-8"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(Vi,{className:"text-xl",children:[e.firstName," ",e.lastName]}),s.jsxs(Ro,{className:"flex items-center gap-2 mt-1",children:[e.position,s.jsx("span",{className:ne("text-xs px-2 py-0.5 rounded-full font-medium",Wue[e.employmentType]),children:que[e.employmentType]})]})]})}),!a&&s.jsx(I,{variant:"outline",size:"icon",onClick:P,children:s.jsx(Pp,{className:"h-4 w-4"})})]})}),s.jsx(Vu,{className:"flex-1 -mx-6 px-6",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Contact Information"]}),a?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-email",children:"Email"}),s.jsx(Z,{id:"edit-email",type:"email",value:o.email||"",onChange:T=>l({...o,email:T.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-phone",children:"Phone"}),s.jsx(Z,{id:"edit-phone",value:o.phone||"",onChange:T=>l({...o,phone:T.target.value})})]})]}):s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hu,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${e.email}`,className:"text-primary hover:underline",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`tel:${e.phone}`,className:"hover:underline",children:e.phone})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Employment Details"]}),a?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-position",children:"Position"}),s.jsx(Z,{id:"edit-position",value:o.position||"",onChange:T=>l({...o,position:T.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-department",children:"Department"}),s.jsx(Z,{id:"edit-department",value:o.department||"",onChange:T=>l({...o,department:T.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-employmentType",children:"Employment Type"}),s.jsxs($e,{value:o.employmentType,onValueChange:T=>l({...o,employmentType:T}),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"casual",children:"Casual"}),s.jsx(H,{value:"part_time",children:"Part-Time"}),s.jsx(H,{value:"full_time",children:"Full-Time"}),s.jsx(H,{value:"contractor",children:"Contractor"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-payRate",children:"Pay Rate ($/hr)"}),s.jsx(Z,{id:"edit-payRate",type:"number",step:"0.01",value:o.payRate||"",onChange:T=>l({...o,payRate:parseFloat(T.target.value)||0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-award",children:"Award Classification"}),s.jsx(Z,{id:"edit-award",value:o.awardClassification||"",onChange:T=>l({...o,awardClassification:T.target.value}),placeholder:"e.g., Level 2.1"})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium",children:e.department})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:le(new Date(e.startDate),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Pay Rate"}),s.jsxs("p",{className:"font-medium",children:["$",e.payRate.toFixed(2),"/hr"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Award Classification"}),s.jsx("p",{className:"font-medium",children:e.awardClassification||"Not set"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Status"}),s.jsx(de,{variant:e.status==="active"?"default":"secondary",className:"mt-1",children:e.status})]})]})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Vd,{className:"h-4 w-4"}),"Emergency Contact"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-emergency-name",children:"Contact Name"}),s.jsx(Z,{id:"edit-emergency-name",value:((F=o.emergencyContact)==null?void 0:F.name)||"",onChange:T=>{var U,Q;return l({...o,emergencyContact:{...o.emergencyContact,name:T.target.value,phone:((U=o.emergencyContact)==null?void 0:U.phone)||"",relationship:((Q=o.emergencyContact)==null?void 0:Q.relationship)||""}})},placeholder:"Emergency contact name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-emergency-phone",children:"Phone"}),s.jsx(Z,{id:"edit-emergency-phone",value:((L=o.emergencyContact)==null?void 0:L.phone)||"",onChange:T=>{var U,Q;return l({...o,emergencyContact:{...o.emergencyContact,name:((U=o.emergencyContact)==null?void 0:U.name)||"",phone:T.target.value,relationship:((Q=o.emergencyContact)==null?void 0:Q.relationship)||""}})},placeholder:"Phone number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"edit-emergency-relationship",children:"Relationship"}),s.jsx(Z,{id:"edit-emergency-relationship",value:((D=o.emergencyContact)==null?void 0:D.relationship)||"",onChange:T=>{var U,Q;return l({...o,emergencyContact:{...o.emergencyContact,name:((U=o.emergencyContact)==null?void 0:U.name)||"",phone:((Q=o.emergencyContact)==null?void 0:Q.phone)||"",relationship:T.target.value}})},placeholder:"e.g., Spouse, Parent"})]})]})]})]})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(dn,{className:"h-4 w-4"}),"Compliance Status"]}),s.jsx(Sh,{status:e.complianceStatus})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Compliance"}),s.jsxs("span",{className:"font-medium",children:[C,"%"]})]}),s.jsx(Gs,{value:C,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2 mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Certifications"}),s.jsxs(I,{variant:"outline",size:"sm",onClick:b,className:"h-7 text-xs",children:[s.jsx(xt,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.certifications.length>0?s.jsx("div",{className:"space-y-2",children:e.certifications.map(T=>{const{daysUntil:U,expiry:Q}=p(T.expiryDate);return s.jsx("div",{className:ne("p-3 rounded-lg border cursor-pointer hover:bg-muted/50 transition-colors",T.status==="expired"&&"border-destructive/50 bg-destructive/5",T.status==="expiring"&&"border-warning/50 bg-warning/5",T.status==="compliant"&&"border-success/50 bg-success/5",T.status==="pending"&&"border-muted"),onClick:()=>x(T),children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[v(T.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:T.name}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:T.status==="pending"?"Awaiting documentation":T.status==="expired"?`Expired ${le(Q,"MMM d, yyyy")}`:`Expires ${le(Q,"MMM d, yyyy")} (${U} days)`})]})]}),s.jsx(I,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:K=>{K.stopPropagation(),x(T)},children:s.jsx(rl,{className:"h-3 w-3"})})]})},T.id)})}):s.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-muted rounded-lg",children:[s.jsx(dn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No certifications added"}),s.jsxs(I,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(xt,{className:"h-3 w-3 mr-1"}),"Add Certification"]})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Documents (",e.documents.length,")"]}),s.jsxs(I,{variant:"outline",size:"sm",onClick:N,disabled:c,children:[s.jsx(jo,{className:"h-3 w-3 mr-1"}),c?"Uploading...":"Upload"]}),s.jsx("input",{ref:g,type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:j})]}),e.documents.length>0?s.jsx("div",{className:"space-y-2",children:e.documents.map(T=>s.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:T.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:le(new Date(T.uploadedAt),"MMM d, yyyy")})]},T.id))}):s.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-muted rounded-lg",children:[s.jsx(dt,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No documents uploaded"}),s.jsxs(I,{variant:"outline",size:"sm",onClick:N,disabled:c,children:[s.jsx(xt,{className:"h-3 w-3 mr-1"}),"Add Document"]})]})]}),e.emergencyContact&&s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(Vd,{className:"h-4 w-4"}),"Emergency Contact"]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{className:"font-medium",children:e.emergencyContact.name}),s.jsx("p",{className:"text-muted-foreground",children:e.emergencyContact.relationship}),s.jsx("p",{children:e.emergencyContact.phone})]})]})]})]})]})}),s.jsx("div",{className:"flex gap-3 pt-4 border-t border-border",children:a?s.jsxs(s.Fragment,{children:[s.jsxs(I,{variant:"outline",className:"flex-1",onClick:A,children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(I,{className:"flex-1 gradient-primary",onClick:E,children:[s.jsx(DF,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(I,{variant:"outline",className:"flex-1",onClick:P,children:[s.jsx(Pp,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),s.jsxs(I,{variant:"outline",className:"flex-1",children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})})]}),s.jsx(Vue,{open:d,onOpenChange:f,certification:h,onSave:w,onDelete:_})]})}function tw(){const{user:e}=_h(),[t,r]=y.useState(null),[n,a]=y.useState(!0);y.useEffect(()=>{e?i():(r(null),a(!1))},[e]);const i=async()=>{if(e)try{const{data:d,error:f}=await M.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();f?(console.error("Error fetching user role:",f),r("employee")):r((d==null?void 0:d.role)||"employee")}catch(d){console.error("Error fetching user role:",d),r("employee")}finally{a(!1)}};return{currentUserRole:t,loading:n,isAdmin:t==="admin",isManager:t==="manager"||t==="admin",isEmployee:t==="employee",hasPermission:d=>{if(!t)return!1;const f={admin:3,manager:2,employee:1};return f[t]>=f[d]},refetch:i}}function Kue(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),a=async()=>{n(!0);try{const{data:l,error:c}=await M.from("user_roles").select("id, user_id, role, created_at");if(c)throw c;const u=(l==null?void 0:l.map(m=>m.user_id))||[];if(u.length===0){t([]),n(!1);return}const{data:d,error:f}=await M.from("profiles").select("user_id, display_name").in("user_id",u);if(f)throw f;const h=l.map(m=>{const g=d==null?void 0:d.find(p=>p.user_id===m.user_id);return{id:m.id,user_id:m.user_id,email:(g==null?void 0:g.display_name)||"Unknown",display_name:g==null?void 0:g.display_name,role:m.role,created_at:m.created_at}});t(h)}catch(l){console.error("Error fetching users with roles:",l)}finally{n(!1)}},i=async(l,c)=>{try{const{error:u}=await M.from("user_roles").update({role:c}).eq("user_id",l);if(u)throw u;return await a(),{success:!0}}catch(u){return console.error("Error updating user role:",u),{success:!1,error:u}}},o=async l=>{try{const{error:c}=await M.from("user_roles").delete().eq("user_id",l);if(c)throw c;return await a(),{success:!0}}catch(c){return console.error("Error deleting user role:",c),{success:!1,error:c}}};return y.useEffect(()=>{a()},[]),{users:e,loading:r,fetchUsersWithRoles:a,updateUserRole:i,deleteUserRole:o}}const Gue={casual:"Casual",part_time:"Part-Time",full_time:"Full-Time",contractor:"Contractor"},Yue={casual:"bg-info/10 text-info",part_time:"bg-primary/10 text-primary",full_time:"bg-success/10 text-success",contractor:"bg-warning/10 text-warning"};function Xue(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone||"",avatar:e.avatar_url||void 0,employmentType:e.employment_type,position:e.position||"",department:e.department||"",startDate:e.start_date||"",status:e.status,complianceStatus:e.compliance_status,payRate:e.pay_rate||0,awardClassification:void 0,emergencyContact:e.emergency_contact_name?{name:e.emergency_contact_name,phone:e.emergency_contact_phone||"",relationship:e.emergency_contact_relationship||""}:void 0,documents:[],certifications:[]}}function hm(e){const t=(e==null?void 0:e.message)||(e==null?void 0:e.error_description)||(e==null?void 0:e.details)||"You may not have permission to do that.";return typeof t=="string"&&t.toLowerCase().includes("row-level security")?"Permission blocked by security policy. Check your role and organisation.":t}function Que(e){return e.trim().toLowerCase().replace(/\s+/g,"_")}function Zue(e){const t=[];let r=[],n="",a=!1;for(let o=0;o<e.length;o++){const l=e[o],c=e[o+1];if(a){if(l==='"'&&c==='"'){n+='"',o++;continue}if(l==='"'){a=!1;continue}n+=l;continue}if(l==='"'){a=!0;continue}if(l===","){r.push(n),n="";continue}if(l===`
`){r.push(n),n="",r.every(d=>d.trim()==="")||t.push(r),r=[];continue}l!=="\r"&&(n+=l)}return r.push(n),r.every(o=>o.trim()==="")||t.push(r),t}function Jue(e){const t=e.trim();if(!t)return;const r=Number(t);return Number.isFinite(r)?r:void 0}function mm(e){const t=e.trim();return t||void 0}function ede(){const{user:e}=_h(),t=tw(),r=!!(t!=null&&t.isManager),n=!!(t!=null&&t.isAdmin),a=!!(t!=null&&t.isPlatformUser),[i,o]=y.useState(""),[l,c]=y.useState("all"),[u,d]=y.useState("all"),[f,h]=y.useState(!1),[m,g]=y.useState(!1),[p,v]=y.useState(null),b=y.useRef(null),[x,w]=y.useState(!1),{employees:_,isLoading:j,error:N,createEmployee:S,updateEmployee:k,changeStatus:C,organisationId:P,isCreating:A}=sc(),E=a||n||r,R=E&&(!!P||a),$=y.useMemo(()=>_.map(Xue),[_]),B=y.useMemo(()=>$.filter(W=>{if(W.status==="inactive")return!1;const fe=`${W.firstName} ${W.lastName}`.toLowerCase().includes(i.toLowerCase())||W.email.toLowerCase().includes(i.toLowerCase())||W.position.toLowerCase().includes(i.toLowerCase()),Se=l==="all"||W.department===l,ue=u==="all"||W.status===u;return fe&&Se&&ue}),[$,i,l,u]),F=y.useMemo(()=>[...new Set($.map(W=>W.department).filter(Boolean))],[$]),L=W=>{v(W),g(!0)},D=async W=>{var Se,ue,Oe;if(!a&&!P){re({title:"No organisation",description:"Create or join an organisation before editing employees.",variant:"destructive"});return}if(_.find(se=>se.id===W.id))try{await k(W.id,{first_name:W.firstName,last_name:W.lastName,email:W.email,phone:W.phone||null,position:W.position||null,department:W.department||null,employment_type:W.employmentType,pay_rate:W.payRate||null,status:W.status,compliance_status:W.complianceStatus,emergency_contact_name:((Se=W.emergencyContact)==null?void 0:Se.name)||null,emergency_contact_phone:((ue=W.emergencyContact)==null?void 0:ue.phone)||null,emergency_contact_relationship:((Oe=W.emergencyContact)==null?void 0:Oe.relationship)||null}),v(W),re({title:"Saved",description:"Employee details updated."})}catch(se){console.error("Failed to update employee:",se),re({title:"Update blocked",description:hm(se),variant:"destructive"})}},T=async W=>{const fe=W.status==="inactive"?"active":"inactive";try{await C(W.id,fe),re({title:W.status==="inactive"?"Reactivated":"Deactivated",description:`${W.firstName} ${W.lastName} is now ${fe}.`})}catch(Se){console.error("Failed to change status:",Se),re({title:"Action blocked",description:hm(Se),variant:"destructive"})}},U=async W=>{if(!e){re({title:"Not signed in",description:"You must be signed in to add employees.",variant:"destructive"});return}if(!E){re({title:"Permission denied",description:"Only admins/managers can add employees.",variant:"destructive"});return}if(!a&&!P){re({title:"No organisation yet",description:"Create your organisation first, then add employees.",variant:"destructive"});return}try{await S({first_name:W.firstName,last_name:W.lastName,email:W.email,phone:W.phone||void 0,avatar_url:W.avatar||void 0,position:W.position||void 0,department:W.department||void 0,employment_type:W.employmentType,pay_rate:W.payRate||void 0,start_date:new Date().toISOString().split("T")[0]}),h(!1),re({title:"Employee added",description:`${W.firstName} ${W.lastName} was created.`})}catch(fe){console.error("Failed to add employee:",fe),re({title:"Create blocked",description:hm(fe),variant:"destructive"})}},Q=()=>{var W;if(!e){re({title:"Not signed in",description:"You must be signed in to import employees.",variant:"destructive"});return}if(!E){re({title:"Permission denied",description:"Only admins/managers can import employees.",variant:"destructive"});return}if(!a&&!P){re({title:"No organisation yet",description:"Create your organisation first, then import employees.",variant:"destructive"});return}(W=b.current)==null||W.click()},K=async W=>{var Se,ue,Oe,se,ge;const fe=(Se=W.target.files)==null?void 0:Se[0];if(W.target.value="",!!fe){if(!fe.name.toLowerCase().endsWith(".csv")){re({title:"Invalid file",description:"Please upload a .csv file.",variant:"destructive"});return}if(!x){w(!0);try{const je=await fe.text(),J=Zue(je);if(J.length<2){re({title:"Empty CSV",description:"The CSV must include a header row and at least one data row.",variant:"destructive"});return}const qe=J[0].map(z=>Que(z)),vt=["first_name","last_name","email","employment_type"].filter(z=>!qe.includes(z));if(vt.length>0){re({title:"Missing columns",description:`CSV is missing: ${vt.join(", ")}`,variant:"destructive"});return}const Ft=J.slice(1),Vt={ok:0,failed:0,errors:[]};if(Ft.length>500){re({title:"Too many rows",description:"Please import 500 employees or fewer per file.",variant:"destructive"});return}re({title:"Import started",description:`Importing ${Ft.length} employees...`});for(let z=0;z<Ft.length;z++){const Y=Ft[z],ee={};qe.forEach((ut,kt)=>{ee[ut]=Y[kt]??""});const be=(ue=ee.first_name)==null?void 0:ue.trim(),Ne=(Oe=ee.last_name)==null?void 0:Oe.trim(),ve=(se=ee.email)==null?void 0:se.trim(),ke=(ge=ee.employment_type)==null?void 0:ge.trim();if(!be||!Ne||!ve||!ke){Vt.failed++,Vt.errors.push(`Row ${z+2}: missing required fields`);continue}try{await S({first_name:be,last_name:Ne,email:ve,phone:mm(ee.phone??""),avatar_url:mm(ee.avatar_url??""),position:mm(ee.position??""),department:mm(ee.department??""),employment_type:ke,pay_rate:Jue(ee.pay_rate??""),start_date:mm(ee.start_date??"")??new Date().toISOString().split("T")[0]}),Vt.ok++}catch(ut){Vt.failed++,Vt.errors.push(`Row ${z+2}: ${hm(ut)}`)}}const Rr=`${Vt.ok} imported, ${Vt.failed} failed.`;re({title:"Import finished",description:Rr,variant:Vt.failed>0?"destructive":void 0}),Vt.failed>0&&(console.group("CSV import errors"),Vt.errors.slice(0,25).forEach(z=>console.warn(z)),Vt.errors.length>25&&console.warn(`...and ${Vt.errors.length-25} more`),console.groupEnd())}catch(je){console.error("Import failed:",je),re({title:"Import failed",description:hm(je),variant:"destructive"})}finally{w(!1)}}}},oe=()=>{if(B.length===0){re({title:"Nothing to export",description:"There are no employees to export.",variant:"destructive"});return}try{const W=B.map(ge=>({firstName:ge.firstName,lastName:ge.lastName,email:ge.email,phone:ge.phone,position:ge.position,department:ge.department,employmentType:ge.employmentType,status:ge.status,complianceStatus:ge.complianceStatus,payRate:ge.payRate})),fe=Object.keys(W[0]),Se=[fe.join(","),...W.map(ge=>fe.map(je=>{const J=ge[je]??"";return`"${String(J).replace(/"/g,'""')}"`}).join(","))].join(`
`),ue=new Blob([Se],{type:"text/csv;charset=utf-8;"}),Oe=URL.createObjectURL(ue),se=document.createElement("a");se.href=Oe,se.download="employees.csv",se.click(),URL.revokeObjectURL(Oe)}catch{re({title:"Export failed",description:"Unable to export employees.",variant:"destructive"})}};return j?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):N?s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-destructive",children:"Failed to load employees. Please try again."}),s.jsx(I,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:"Retry"})]})}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Employees"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your team members and their information."}),!a&&!P&&s.jsx("p",{className:"text-sm text-warning mt-2",children:"You don't have an organisation yet. Create one before adding employees."})]}),s.jsxs("div",{className:"flex gap-2",children:[r&&s.jsx(I,{variant:"outline",asChild:!0,children:s.jsxs(On,{to:"/employees/deactivated",children:[s.jsx(bx,{className:"h-4 w-4 mr-2"}),"Deactivated"]})}),s.jsx("input",{ref:b,type:"file",accept:".csv,text/csv",onChange:K,style:{display:"none"}}),s.jsxs(I,{variant:"outline",onClick:Q,disabled:!R||x,title:R?void 0:"You do not have permission or an organisation yet.",children:[s.jsx(jo,{className:"h-4 w-4 mr-2"}),x?"Importing":"Import CSV"]}),s.jsxs(I,{variant:"outline",onClick:oe,disabled:B.length===0,children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>h(!0),disabled:!R||A,title:R?void 0:"You do not have permission or an organisation yet.",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Employee"]})]})]}),s.jsx(G,{children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search by name, email, or position...",value:i,onChange:W=>o(W.target.value),className:"pl-10"})]}),s.jsxs($e,{value:l,onValueChange:c,children:[s.jsx(De,{className:"w-full sm:w-48",children:s.jsx(Ie,{placeholder:"Department"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Departments"}),F.map(W=>s.jsx(H,{value:W,children:W},W))]})]}),s.jsxs($e,{value:u,onValueChange:d,children:[s.jsx(De,{className:"w-full sm:w-36",children:s.jsx(Ie,{placeholder:"Status"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"active",children:"Active"}),s.jsx(H,{value:"onboarding",children:"Onboarding"})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(W=>s.jsx(G,{className:"card-interactive cursor-pointer",onClick:()=>L(W),children:s.jsxs(X,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs(Pr,{className:"h-12 w-12 avatar-ring",children:[s.jsx(Kg,{src:W.avatar,alt:`${W.firstName} ${W.lastName}`}),s.jsxs(Ar,{className:"bg-primary/10 text-primary font-semibold",children:[W.firstName[0],W.lastName[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold",children:[W.firstName," ",W.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.position}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:ne("text-xs px-2 py-0.5 rounded-full font-medium",Yue[W.employmentType]),children:Gue[W.employmentType]})})]})]}),s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,onClick:fe=>fe.stopPropagation(),children:s.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",children:[s.jsx(nt,{onClick:fe=>{fe.stopPropagation(),L(W)},children:"View Profile"}),E?s.jsxs(s.Fragment,{children:[s.jsx(nt,{onClick:fe=>fe.stopPropagation(),children:"Edit Details"}),s.jsx(nt,{onClick:fe=>fe.stopPropagation(),children:"View Documents"}),s.jsx(ga,{}),s.jsx(nt,{className:W.status==="inactive"?"text-success":"text-destructive",onClick:fe=>{fe.stopPropagation(),T(W)},children:W.status==="inactive"?"Reactivate":"Deactivate"})]}):s.jsx(nt,{onClick:fe=>{fe.stopPropagation(),re({title:"Permission denied",description:"You do not have permission to modify employees.",variant:"destructive"})},children:"No actions available"})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Department"}),s.jsx("span",{className:"font-medium",children:W.department||"Not assigned"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Compliance"}),s.jsx(Sh,{status:W.complianceStatus,size:"sm"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pay Rate"}),s.jsxs("span",{className:"font-medium",children:["$",(W.payRate||0).toFixed(2),"/hr"]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",onClick:fe=>{fe.stopPropagation(),window.location.href=`mailto:${W.email}`},children:[s.jsx(hu,{className:"h-4 w-4 mr-1"}),"Email"]}),s.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",onClick:fe=>{fe.stopPropagation(),window.location.href=`tel:${W.phone}`},children:[s.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Call"]})]})]})},W.id))}),B.length===0&&s.jsx(G,{children:s.jsx(X,{className:"py-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No employees found matching your criteria."})})}),s.jsx(kle,{open:f,onOpenChange:h,onAdd:U}),s.jsx(Hue,{employee:p,open:m,onOpenChange:g,onUpdate:D})]})}var s8="AlertDialog",[tde,V3e]=Vr(s8,[JB]),Mo=JB(),a8=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mo(t);return s.jsx(kE,{...n,...r,modal:!0})};a8.displayName=s8;var rde="AlertDialogTrigger",i8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mo(r);return s.jsx(p6,{...a,...n,ref:t})});i8.displayName=rde;var nde="AlertDialogPortal",o8=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mo(t);return s.jsx(EE,{...n,...r})};o8.displayName=nde;var sde="AlertDialogOverlay",l8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mo(r);return s.jsx(tv,{...a,...n,ref:t})});l8.displayName=sde;var Gd="AlertDialogContent",[ade,ide]=tde(Gd),ode=YL("AlertDialogContent"),c8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Mo(r),o=y.useRef(null),l=He(t,o),c=y.useRef(null);return s.jsx(ble,{contentName:Gd,titleName:u8,docsSlug:"alert-dialog",children:s.jsx(ade,{scope:r,cancelRef:c,children:s.jsxs(rv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:me(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(ode,{children:n}),s.jsx(cde,{contentRef:o})]})})})});c8.displayName=Gd;var u8="AlertDialogTitle",d8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mo(r);return s.jsx(nv,{...a,...n,ref:t})});d8.displayName=u8;var f8="AlertDialogDescription",h8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mo(r);return s.jsx(sv,{...a,...n,ref:t})});h8.displayName=f8;var lde="AlertDialogAction",m8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Mo(r);return s.jsx(X0,{...a,...n,ref:t})});m8.displayName=lde;var p8="AlertDialogCancel",g8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=ide(p8,r),i=Mo(r),o=He(t,a);return s.jsx(X0,{...i,...n,ref:o})});g8.displayName=p8;var cde=({contentRef:e})=>{const t=`\`${Gd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gd}\` by passing a \`${f8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ude=a8,dde=i8,fde=o8,v8=l8,y8=c8,x8=m8,b8=g8,w8=d8,j8=h8;const Pc=ude,_8=dde,hde=fde,N8=y.forwardRef(({className:e,...t},r)=>s.jsx(v8,{className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));N8.displayName=v8.displayName;const sl=y.forwardRef(({className:e,...t},r)=>s.jsxs(hde,{children:[s.jsx(N8,{}),s.jsx(y8,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sl.displayName=y8.displayName;const al=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});al.displayName="AlertDialogHeader";const il=({className:e,...t})=>s.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});il.displayName="AlertDialogFooter";const ol=y.forwardRef(({className:e,...t},r)=>s.jsx(w8,{ref:r,className:ne("text-lg font-semibold",e),...t}));ol.displayName=w8.displayName;const ll=y.forwardRef(({className:e,...t},r)=>s.jsx(j8,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));ll.displayName=j8.displayName;const cl=y.forwardRef(({className:e,...t},r)=>s.jsx(x8,{ref:r,className:ne(Ip(),e),...t}));cl.displayName=x8.displayName;const ul=y.forwardRef(({className:e,...t},r)=>s.jsx(b8,{ref:r,className:ne(Ip({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ul.displayName=b8.displayName;const mde={casual:"Casual",part_time:"Part-Time",full_time:"Full-Time",contractor:"Contractor"},pde={casual:"bg-info/10 text-info",part_time:"bg-primary/10 text-primary",full_time:"bg-success/10 text-success",contractor:"bg-warning/10 text-warning"};function gde(){const{isManager:e,loading:t}=tw(),[r,n]=y.useState(""),[a,i]=y.useState("all"),{employees:o,isLoading:l,error:c,changeStatus:u,isChangingStatus:d}=sc();if(t||l)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})});if(!e)return s.jsx("div",{className:"space-y-6 animate-fade-in",children:s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(LG,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Only administrators and managers can view the deactivated staff archive."}),s.jsx(I,{variant:"outline",asChild:!0,children:s.jsxs(On,{to:"/employees",children:[s.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Back to Employees"]})})]})})});if(c)return s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-destructive",children:"Failed to load employees. Please try again."}),s.jsx(I,{variant:"outline",className:"mt-4",onClick:()=>window.location.reload(),children:"Retry"})]})});const f=o.filter(g=>{var b;if(g.status!=="inactive")return!1;const p=`${g.first_name} ${g.last_name}`.toLowerCase().includes(r.toLowerCase())||g.email.toLowerCase().includes(r.toLowerCase())||(((b=g.position)==null?void 0:b.toLowerCase().includes(r.toLowerCase()))??!1),v=a==="all"||g.department===a;return p&&v}),h=[...new Set(o.map(g=>g.department).filter(Boolean))],m=async g=>{try{await u(g.id,"active")}catch(p){console.error("Failed to reactivate employee:",p)}};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(On,{to:"/employees",children:s.jsx(Zc,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(bx,{className:"h-6 w-6 text-muted-foreground"}),"Deactivated Staff"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage former employees. Admins can reactivate staff when needed."})]})]})}),s.jsx(G,{children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search by name, email, or position...",value:r,onChange:g=>n(g.target.value),className:"pl-10"})]}),s.jsxs($e,{value:a,onValueChange:i,children:[s.jsx(De,{className:"w-full sm:w-48",children:s.jsx(Ie,{placeholder:"Department"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Departments"}),h.map(g=>s.jsx(H,{value:g,children:g},g))]})]})]})})}),f.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(g=>s.jsx(G,{className:"border-dashed border-muted-foreground/30",children:s.jsxs(X,{className:"pt-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Pr,{className:"h-12 w-12 opacity-60",children:s.jsxs(Ar,{className:"bg-muted text-muted-foreground font-semibold",children:[g.first_name[0],g.last_name[0]]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-muted-foreground",children:[g.first_name," ",g.last_name]}),s.jsx("p",{className:"text-sm text-muted-foreground/70",children:g.position||"No position"}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:ne("text-xs px-2 py-0.5 rounded-full font-medium opacity-60",pde[g.employment_type]),children:mde[g.employment_type]})})]})]})}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Department"}),s.jsx("span",{className:"font-medium text-muted-foreground",children:g.department||"Not assigned"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email"}),s.jsx("span",{className:"font-medium text-muted-foreground truncate max-w-[180px]",children:g.email})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status"}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-destructive/10 text-destructive font-medium",children:"Deactivated"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs(Pc,{children:[s.jsx(_8,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:"w-full",disabled:d,children:[s.jsx(TF,{className:"h-4 w-4 mr-2"}),"Reactivate Employee"]})}),s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Reactivate Employee?"}),s.jsxs(ll,{children:["This will restore ",g.first_name," ",g.last_name," to active status. They will appear in the main Employees list again."]})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:()=>m(g),children:"Reactivate"})]})]})]})})]})},g.id))}):s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(bx,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"No Deactivated Staff"}),s.jsx("p",{className:"text-muted-foreground/70 mt-1",children:r||a!=="all"?"No deactivated employees match your search criteria.":"All employees are currently active."}),s.jsx(I,{variant:"outline",className:"mt-4",asChild:!0,children:s.jsxs(On,{to:"/employees",children:[s.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Back to Employees"]})})]})})]})}var rw="Tabs",[vde,q3e]=Vr(rw,[jh]),S8=jh(),[yde,VE]=vde(rw),C8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=nc(l),[f,h]=Vn({prop:n,onChange:a,defaultProp:i??"",caller:rw});return s.jsx(yde,{scope:r,baseId:Ns(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ce.div,{dir:d,"data-orientation":o,...u,ref:t})})});C8.displayName=rw;var k8="TabsList",E8=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=VE(k8,r),o=S8(r);return s.jsx(Jk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ce.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});E8.displayName=k8;var P8="TabsTrigger",A8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=VE(P8,r),l=S8(r),c=D8(o.baseId,n),u=R8(o.baseId,n),d=n===o.value;return s.jsx(eE,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:me(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:me(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});A8.displayName=P8;var O8="TabsContent",T8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=VE(O8,r),c=D8(l.baseId,n),u=R8(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(tn,{present:a||d,children:({present:h})=>s.jsx(Ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});T8.displayName=O8;function D8(e,t){return`${e}-trigger-${t}`}function R8(e,t){return`${e}-content-${t}`}var xde=C8,M8=E8,$8=A8,I8=T8;const jn=xde,mn=y.forwardRef(({className:e,...t},r)=>s.jsx(M8,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));mn.displayName=M8.displayName;const Be=y.forwardRef(({className:e,...t},r)=>s.jsx($8,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Be.displayName=$8.displayName;const et=y.forwardRef(({className:e,...t},r)=>s.jsx(I8,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));et.displayName=I8.displayName;const mr=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));mr.displayName="Table";const pr=y.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));pr.displayName="TableHeader";const gr=y.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));gr.displayName="TableBody";const bde=y.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bde.displayName="TableFooter";const Ve=y.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ne("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ve.displayName="TableRow";const ie=y.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableHead";const te=y.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));te.displayName="TableCell";const wde=y.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));wde.displayName="TableCaption";const Lm={police_check:"Police Check",ndis_screening:"NDIS Screening",first_aid:"First Aid",cpr:"CPR",training:"Training",other:"Other"};function jde(){const[e,t]=y.useState(""),[r,n]=y.useState("all"),[a,i]=y.useState("all"),[o,l]=y.useState("all"),[c,u]=y.useState("certifications"),{employees:d,certifications:f,getCertificationsForEmployee:h,isLoading:m,error:g}=sc(),p=y.useMemo(()=>d.filter(E=>E.status!=="inactive").map(E=>({...E,certifications:h(E.id)})),[d,h]),v=y.useMemo(()=>[...new Set(p.map(E=>E.department).filter(Boolean))].sort(),[p]),b=y.useMemo(()=>[...new Set(f.map(E=>E.type))].sort(),[f]),x=y.useMemo(()=>({compliant:p.filter(E=>E.compliance_status==="compliant").length,expiring:p.filter(E=>E.compliance_status==="expiring").length,expired:p.filter(E=>E.compliance_status==="expired").length,pending:p.filter(E=>E.compliance_status==="pending").length}),[p]),w=p.length>0?Math.round(x.compliant/p.length*100):0,_=y.useMemo(()=>p.flatMap(E=>E.certifications.map(R=>({id:R.id,name:R.name,type:R.type,issueDate:R.issue_date||"",expiryDate:R.expiry_date||"",status:R.status,employeeId:E.id,employeeName:`${E.first_name} ${E.last_name}`,employeeInitials:`${E.first_name[0]||""}${E.last_name[0]||""}`,department:E.department||"Unassigned"}))),[p]),j=y.useMemo(()=>{const E={};return _.forEach(R=>{E[R.type]||(E[R.type]={total:0,compliant:0,expiring:0,expired:0,pending:0}),E[R.type].total++;const $=R.status;$ in E[R.type]&&E[R.type][$]++}),Object.entries(E).map(([R,$])=>({type:R,label:Lm[R]||R,...$,complianceRate:$.total>0?Math.round($.compliant/$.total*100):0}))},[_]),N=y.useMemo(()=>_.filter(E=>{const R=E.employeeName.toLowerCase().includes(e.toLowerCase())||E.name.toLowerCase().includes(e.toLowerCase()),$=r==="all"||E.department===r,B=a==="all"||E.type===a,F=o==="all"||E.status===o;return R&&$&&B&&F}),[_,e,r,a,o]),S=y.useMemo(()=>p.filter(E=>{const R=`${E.first_name} ${E.last_name}`.toLowerCase().includes(e.toLowerCase()),$=r==="all"||E.department===r,B=o==="all"||E.compliance_status===o;return R&&$&&B}),[p,e,r,o]),k=()=>{const E=["Employee","Department","Certification","Type","Issue Date","Expiry Date","Status","Days Remaining"],R=N.map(L=>{const D=L.expiryDate?ti(Kr(L.expiryDate),new Date):"N/A";return[L.employeeName,L.department,L.name,Lm[L.type]||L.type,L.issueDate?le(Kr(L.issueDate),"yyyy-MM-dd"):"",L.expiryDate?le(Kr(L.expiryDate),"yyyy-MM-dd"):"",L.status,D.toString()]}),$=[E,...R].map(L=>L.map(D=>`"${D}"`).join(",")).join(`
`),B=new Blob([$],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a");F.href=URL.createObjectURL(B),F.download=`compliance-report-${le(new Date,"yyyy-MM-dd")}.csv`,F.click(),re({title:"Report Exported",description:`Exported ${N.length} certification records to CSV.`})},C=()=>{const E=["Employee","Department","Status","Total Certs","Compliant","Expiring","Expired","Pending"],R=S.map(L=>{const D={total:L.certifications.length,compliant:L.certifications.filter(T=>T.status==="compliant").length,expiring:L.certifications.filter(T=>T.status==="expiring").length,expired:L.certifications.filter(T=>T.status==="expired").length,pending:L.certifications.filter(T=>T.status==="pending").length};return[`${L.first_name} ${L.last_name}`,L.department||"Unassigned",L.compliance_status,D.total.toString(),D.compliant.toString(),D.expiring.toString(),D.expired.toString(),D.pending.toString()]}),$=[E,...R].map(L=>L.map(D=>`"${D}"`).join(",")).join(`
`),B=new Blob([$],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a");F.href=URL.createObjectURL(B),F.download=`employee-compliance-summary-${le(new Date,"yyyy-MM-dd")}.csv`,F.click(),re({title:"Summary Exported",description:`Exported ${S.length} employee compliance summaries to CSV.`})},P=()=>{t(""),n("all"),i("all"),l("all")},A=e||r!=="all"||a!=="all"||o!=="all";return m?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading compliance data..."})]})}):g?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(G,{className:"p-6 max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[s.jsx(Bn,{className:"h-12 w-12 text-destructive"}),s.jsx("h2",{className:"text-lg font-semibold",children:"Unable to Load Compliance Data"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The compliance dashboard cannot be displayed because employee data could not be retrieved from the database. Please try again or contact support if the issue persists."}),s.jsx(I,{onClick:()=>window.location.reload(),children:"Retry"})]})})}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Compliance Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track certifications, clearances, and training requirements across your team."})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsxs(I,{variant:"outline",children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Export",s.jsx(x0,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(ss,{align:"end",className:"bg-popover",children:[s.jsxs(nt,{onClick:k,children:[s.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Export Certifications (CSV)"]}),s.jsxs(nt,{onClick:C,children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Export Employee Summary (CSV)"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(G,{className:ne("card-interactive cursor-pointer transition-all",o==="compliant"&&"ring-2 ring-success"),onClick:()=>l(o==="compliant"?"all":"compliant"),children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(bt,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:x.compliant}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Compliant"})]})]})})}),s.jsx(G,{className:ne("card-interactive cursor-pointer transition-all",o==="expiring"&&"ring-2 ring-warning"),onClick:()=>l(o==="expiring"?"all":"expiring"),children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(lr,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:x.expiring}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]})]})})}),s.jsx(G,{className:ne("card-interactive cursor-pointer transition-all",o==="expired"&&"ring-2 ring-destructive"),onClick:()=>l(o==="expired"?"all":"expired"),children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:s.jsx(Bn,{className:"h-5 w-5 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:x.expired}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"})]})]})})}),s.jsx(G,{className:ne("card-interactive cursor-pointer transition-all",o==="pending"&&"ring-2 ring-info"),onClick:()=>l(o==="pending"?"all":"pending"),children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:s.jsx(wt,{className:"h-5 w-5 text-info"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:x.pending}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(G,{children:[s.jsxs(he,{className:"pb-2",children:[s.jsx(pe,{className:"text-lg",children:"Overall Compliance Rate"}),s.jsx(Fe,{children:"Percentage of employees fully compliant"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Gs,{value:w,className:"flex-1 h-3"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[w,"%"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[x.compliant," of ",p.length," employees have all required certifications up to date"]})]})]}),s.jsxs(G,{children:[s.jsxs(he,{className:"pb-2",children:[s.jsx(pe,{className:"text-lg",children:"Compliance by Certification Type"}),s.jsx(Fe,{children:"Status breakdown for each certification type"})]}),s.jsx(X,{children:s.jsx("div",{className:"space-y-3",children:j.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No certification data available"}):j.map(E=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:E.label}),s.jsxs("span",{className:"text-muted-foreground",children:[E.compliant,"/",E.total," compliant"]})]}),s.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-muted",children:[E.compliant>0&&s.jsx("div",{className:"bg-success transition-all",style:{width:`${E.compliant/E.total*100}%`}}),E.expiring>0&&s.jsx("div",{className:"bg-warning transition-all",style:{width:`${E.expiring/E.total*100}%`}}),E.expired>0&&s.jsx("div",{className:"bg-destructive transition-all",style:{width:`${E.expired/E.total*100}%`}}),E.pending>0&&s.jsx("div",{className:"bg-muted-foreground/30 transition-all",style:{width:`${E.pending/E.total*100}%`}})]})]},E.type))})})]})]}),s.jsx(G,{children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search by employee or certification...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),s.jsxs($e,{value:r,onValueChange:n,children:[s.jsx(De,{className:"w-full sm:w-48",children:s.jsx(Ie,{placeholder:"Department"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Departments"}),v.map(E=>s.jsx(H,{value:E,children:E},E))]})]}),s.jsxs($e,{value:a,onValueChange:i,children:[s.jsx(De,{className:"w-full sm:w-48",children:s.jsx(Ie,{placeholder:"Certification Type"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Types"}),b.map(E=>s.jsx(H,{value:E,children:Lm[E]||E},E))]})]}),s.jsxs($e,{value:o,onValueChange:l,children:[s.jsx(De,{className:"w-full sm:w-40",children:s.jsx(Ie,{placeholder:"Status"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"compliant",children:"Compliant"}),s.jsx(H,{value:"expiring",children:"Expiring"}),s.jsx(H,{value:"expired",children:"Expired"}),s.jsx(H,{value:"pending",children:"Pending"})]})]})]}),A&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),e&&s.jsxs(de,{variant:"secondary",className:"gap-1",children:["Search: ",e,s.jsx(Un,{className:"h-3 w-3 cursor-pointer",onClick:()=>t("")})]}),r!=="all"&&s.jsxs(de,{variant:"secondary",className:"gap-1",children:[r,s.jsx(Un,{className:"h-3 w-3 cursor-pointer",onClick:()=>n("all")})]}),a!=="all"&&s.jsxs(de,{variant:"secondary",className:"gap-1",children:[Lm[a]||a,s.jsx(Un,{className:"h-3 w-3 cursor-pointer",onClick:()=>i("all")})]}),o!=="all"&&s.jsxs(de,{variant:"secondary",className:"gap-1 capitalize",children:[o,s.jsx(Un,{className:"h-3 w-3 cursor-pointer",onClick:()=>l("all")})]}),s.jsx(I,{variant:"ghost",size:"sm",onClick:P,className:"h-6 text-xs",children:"Clear all"})]})]})})}),s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsx(pe,{className:"text-lg",children:"Compliance Details"}),s.jsx(jn,{value:c,onValueChange:E=>u(E),children:s.jsxs(mn,{children:[s.jsxs(Be,{value:"certifications",className:"gap-2",children:[s.jsx(Oi,{className:"h-4 w-4"}),"Certifications (",N.length,")"]}),s.jsxs(Be,{value:"employees",className:"gap-2",children:[s.jsx(Er,{className:"h-4 w-4"}),"Employees (",S.length,")"]})]})})]})}),s.jsx(X,{children:c==="certifications"?s.jsx(_de,{certifications:N}):s.jsx(Nde,{employees:S})})]})]})}function _de({certifications:e}){return s.jsx("div",{className:"rounded-lg border overflow-hidden",children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{className:"bg-muted/50",children:[s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Department"}),s.jsx(ie,{children:"Certification"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Expiry Date"}),s.jsx(ie,{children:"Status"})]})}),s.jsx(gr,{children:e.length===0?s.jsx(Ve,{children:s.jsx(te,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No certifications found matching your filters"})}):e.map(t=>{const r=t.expiryDate?ti(Kr(t.expiryDate),new Date):null;return s.jsxs(Ve,{className:"table-row-interactive",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs bg-primary/10 text-primary",children:t.employeeInitials})}),s.jsx("span",{className:"font-medium",children:t.employeeName})]})}),s.jsx(te,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:t.department})}),s.jsx(te,{children:t.name}),s.jsx(te,{children:s.jsx(de,{variant:"outline",className:"text-xs",children:Lm[t.type]||t.type})}),s.jsx(te,{children:t.expiryDate?s.jsxs("div",{children:[s.jsx("span",{className:"text-sm",children:le(Kr(t.expiryDate),"dd MMM yyyy")}),r!==null&&s.jsx("span",{className:ne("text-xs block",r<0?"text-destructive":r<30?"text-warning":"text-muted-foreground"),children:r<0?`${Math.abs(r)} days overdue`:`${r} days remaining`})]}):s.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),s.jsx(te,{children:s.jsx(Sh,{status:t.status,size:"sm"})})]},t.id)})})]})})}function Nde({employees:e}){return s.jsx("div",{className:"rounded-lg border overflow-hidden",children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{className:"bg-muted/50",children:[s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Department"}),s.jsx(ie,{children:"Overall Status"}),s.jsx(ie,{children:"Certifications"}),s.jsx(ie,{children:"Compliance Progress"})]})}),s.jsx(gr,{children:e.length===0?s.jsx(Ve,{children:s.jsx(te,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No employees found matching your filters"})}):e.map(t=>{const r={total:t.certifications.length,compliant:t.certifications.filter(a=>a.status==="compliant").length,expiring:t.certifications.filter(a=>a.status==="expiring").length,expired:t.certifications.filter(a=>a.status==="expired").length,pending:t.certifications.filter(a=>a.status==="pending").length},n=r.total>0?Math.round(r.compliant/r.total*100):0;return s.jsxs(Ve,{className:"table-row-interactive",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsxs(Ar,{className:"text-xs bg-primary/10 text-primary",children:[t.first_name[0],t.last_name[0]]})}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium block",children:[t.first_name," ",t.last_name]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t.position||"No position"})]})]})}),s.jsx(te,{children:s.jsx("span",{className:"text-sm text-muted-foreground",children:t.department||"Unassigned"})}),s.jsx(te,{children:s.jsx(Sh,{status:t.compliance_status,size:"sm"})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[r.compliant>0&&s.jsxs(de,{variant:"outline",className:"text-xs bg-success/10 text-success border-success/20",children:[r.compliant," "]}),r.expiring>0&&s.jsxs(de,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:[r.expiring," "]}),r.expired>0&&s.jsxs(de,{variant:"outline",className:"text-xs bg-destructive/10 text-destructive border-destructive/20",children:[r.expired," "]}),r.pending>0&&s.jsxs(de,{variant:"outline",className:"text-xs",children:[r.pending," pending"]}),r.total===0&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"No certifications"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[s.jsx(Gs,{value:n,className:"h-2 flex-1"}),s.jsxs("span",{className:"text-xs font-medium w-10 text-right",children:[n,"%"]})]})})]},t.id)})})]})})}const _t=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_t.displayName="Textarea";const lc=loe,L8=y.createContext({}),gt=({...e})=>s.jsx(L8.Provider,{value:{name:e.name},children:s.jsx(foe,{...e})}),nw=()=>{const e=y.useContext(L8),t=y.useContext(F8),{getFieldState:r,formState:n}=q0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},F8=y.createContext({}),ht=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return s.jsx(F8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ne("space-y-2",e),...t})})});ht.displayName="FormItem";const yt=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=nw();return s.jsx(V,{ref:r,className:ne(n&&"text-destructive",e),htmlFor:a,...t})});yt.displayName="FormLabel";const mt=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=nw();return s.jsx(KL,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});mt.displayName="FormControl";const Yd=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=nw();return s.jsx("p",{ref:r,id:n,className:ne("text-sm text-muted-foreground",e),...t})});Yd.displayName="FormDescription";const Nt=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=nw(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ne("text-sm font-medium text-destructive",e),...r,children:o}):null});Nt.displayName="FormMessage";const Sde=As({employeeId:Je().min(1,"Employee is required"),leaveTypeId:Je().min(1,"Leave type is required"),startDate:Je().min(1,"Start date is required"),endDate:Je().min(1,"End date is required"),hours:WU().min(.5,"Hours must be at least 0.5"),reason:Je().optional()}).refine(e=>e.startDate&&e.endDate?Kr(e.endDate)>=Kr(e.startDate):!0,{message:"End date must be after start date",path:["endDate"]});function Cde({open:e,onOpenChange:t,preselectedEmployeeId:r}){const{leaveTypes:n,createRequest:a,isCreatingRequest:i}=Bu(),{employees:o}=sc(),l=o.filter(m=>m.status==="active"),c=as({resolver:Ri(Sde),defaultValues:{employeeId:r||"",leaveTypeId:"",startDate:"",endDate:"",hours:8,reason:""}}),u=c.watch("startDate"),d=c.watch("endDate"),f=()=>{if(u&&d)try{const m=Hse(Kr(d),Kr(u))+1;return Math.max(m*8,0)}catch{return 8}return 8},h=m=>{a({employeeId:m.employeeId,leaveTypeId:m.leaveTypeId,startDate:m.startDate,endDate:m.endDate,hours:m.hours,reason:m.reason},{onSuccess:()=>{c.reset(),t(!1)}})};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Submit Leave Request"}),s.jsx(Dt,{children:"Fill in the details for the leave request."})]}),s.jsx(lc,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[!r&&s.jsx(gt,{control:c.control,name:"employeeId",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Employee"}),s.jsxs($e,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select employee"})})}),s.jsx(Re,{children:l.map(g=>s.jsxs(H,{value:g.id,children:[g.first_name," ",g.last_name]},g.id))})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"leaveTypeId",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Leave Type"}),s.jsxs($e,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select leave type"})})}),s.jsx(Re,{children:n.map(g=>s.jsxs(H,{value:g.id,children:[g.name," ",!g.paid&&"(Unpaid)"]},g.id))})]}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gt,{control:c.control,name:"startDate",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Start Date"}),s.jsx(mt,{children:s.jsx(Z,{type:"date",...m,onChange:g=>{m.onChange(g),setTimeout(()=>{const p=f();c.setValue("hours",p)},0)}})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"endDate",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"End Date"}),s.jsx(mt,{children:s.jsx(Z,{type:"date",...m,onChange:g=>{m.onChange(g),setTimeout(()=>{const p=f();c.setValue("hours",p)},0)}})}),s.jsx(Nt,{})]})})]}),s.jsx(gt,{control:c.control,name:"hours",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Total Hours"}),s.jsx(mt,{children:s.jsx(Z,{type:"number",step:"0.5",...m,onChange:g=>m.onChange(parseFloat(g.target.value)||0)})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"reason",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Reason (Optional)"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Brief description...",...m})}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{type:"submit",className:"gradient-primary",disabled:i,children:i?"Submitting...":"Submit Request"})]})]})})]})})}function kde({onViewEmployee:e}){const{leaveRequests:t,stats:r,processDecision:n,isProcessingDecision:a,getEmployeeBalances:i}=Bu(),[o,l]=y.useState("pending"),[c,u]=y.useState(null),[d,f]=y.useState({open:!1,action:null,reason:"",override:!1,insufficientBalance:!1}),h=o==="all"?t:t.filter(v=>v.status===o),m=(v,b)=>{let x=!1;if(b==="approve"&&v.leave_type_id){const _=i(v.employee_id).find(j=>j.leave_type_id===v.leave_type_id);x=!_||_.balance_hours<v.hours}u(v),f({open:!0,action:b,reason:"",override:!1,insufficientBalance:x})},g=()=>{!c||!d.action||n({request_id:c.id,action:d.action,reason:d.reason||void 0,override_insufficient_balance:d.override},{onSuccess:()=>{f({open:!1,action:null,reason:"",override:!1,insufficientBalance:!1}),u(null)}})},p=v=>({"Annual Leave":"bg-info/10 text-info","Personal/Sick Leave":"bg-warning/10 text-warning","Compassionate Leave":"bg-primary/10 text-primary","Parental Leave":"bg-success/10 text-success","Unpaid Leave":"bg-muted text-muted-foreground",Other:"bg-muted text-muted-foreground"})[v]||"bg-muted text-muted-foreground";return s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-lg",children:"Leave Requests"})}),s.jsx(X,{children:s.jsxs(jn,{value:o,onValueChange:l,children:[s.jsxs(mn,{className:"mb-4",children:[s.jsxs(Be,{value:"pending",children:["Pending (",r.pending,")"]}),s.jsx(Be,{value:"approved",children:"Approved"}),s.jsx(Be,{value:"rejected",children:"Rejected"}),s.jsx(Be,{value:"all",children:"All"})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s.jsx("p",{children:"No leave requests found"})}):h.map(v=>{const b=v.employee;return b?s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 p-4 rounded-lg border border-border bg-card hover:bg-muted/30 transition-colors",children:[s.jsx(Pr,{className:"h-12 w-12 flex-shrink-0 cursor-pointer",onClick:()=>e==null?void 0:e(b.id),children:s.jsxs(Ar,{className:"bg-primary/10 text-primary",children:[b.first_name[0],b.last_name[0]]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("p",{className:"font-semibold cursor-pointer hover:text-primary",onClick:()=>e==null?void 0:e(b.id),children:[b.first_name," ",b.last_name]}),v.leave_type&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${p(v.leave_type.name)}`,children:v.leave_type.name}),s.jsx(Sh,{status:v.status,size:"sm"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[le(Kr(v.start_date),"EEE, dd MMM")," -"," ",le(Kr(v.end_date),"EEE, dd MMM yyyy")]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.hours," hours",v.override_reason&&s.jsxs("span",{className:"ml-2 text-warning",children:[s.jsx(lr,{className:"inline h-3 w-3 mr-1"}),"Override applied"]})]}),v.reason&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1 italic",children:['"',v.reason,'"']})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[v.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{size:"sm",variant:"outline",className:"text-success border-success hover:bg-success/10",onClick:()=>m(v,"approve"),children:[s.jsx(bt,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(I,{size:"sm",variant:"outline",className:"text-destructive border-destructive hover:bg-destructive/10",onClick:()=>m(v,"reject"),children:[s.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),v.status==="approved"&&s.jsxs(I,{size:"sm",variant:"outline",className:"text-muted-foreground",onClick:()=>m(v,"cancel"),children:[s.jsx(CG,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]},v.id):null})})]})})]}),s.jsx(Mt,{open:d.open,onOpenChange:v=>{v||(f({open:!1,action:null,reason:"",override:!1,insufficientBalance:!1}),u(null))},children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{children:[d.action==="approve"&&"Approve Leave Request",d.action==="reject"&&"Reject Leave Request",d.action==="cancel"&&"Cancel Leave Request"]}),s.jsxs(Dt,{children:[d.action==="approve"&&"This will deduct the hours from the employee's balance.",d.action==="reject"&&"The employee will be notified of the rejection.",d.action==="cancel"&&"This will restore the hours to the employee's balance."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[d.insufficientBalance&&d.action==="approve"&&s.jsx("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(lr,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-warning",children:"Insufficient Balance"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The employee does not have enough leave balance for this request."}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(Mi,{id:"override",checked:d.override,onCheckedChange:v=>f(b=>({...b,override:!!v}))}),s.jsx(V,{htmlFor:"override",className:"text-sm",children:"Override and approve anyway (requires reason)"})]})]})]})}),(d.action==="reject"||d.action==="cancel"||d.insufficientBalance&&d.override)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{htmlFor:"reason",children:["Reason ",d.override?"(Required)":"(Optional)"]}),s.jsx(_t,{id:"reason",value:d.reason,onChange:v=>f(b=>({...b,reason:v.target.value})),placeholder:"Enter reason..."})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>{f({open:!1,action:null,reason:"",override:!1,insufficientBalance:!1}),u(null)},children:"Cancel"}),s.jsx(I,{onClick:g,disabled:a||d.insufficientBalance&&d.action==="approve"&&!d.override||d.override&&!d.reason.trim(),className:d.action==="approve"?"bg-success hover:bg-success/90":d.action==="reject"?"bg-destructive hover:bg-destructive/90":"",children:a?"Processing...":`Confirm ${d.action}`})]})]})})]})}const Ede=As({leaveTypeId:Je().min(1,"Leave type is required"),adjustmentHours:WU().refine(e=>e!==0,"Hours cannot be zero"),reason:Je().min(10,"Reason must be at least 10 characters")});function Pde({open:e,onOpenChange:t,employeeId:r,employeeName:n}){const{leaveTypes:a,createAdjustment:i,isCreatingAdjustment:o,getEmployeeBalances:l}=Bu(),c=as({resolver:Ri(Ede),defaultValues:{leaveTypeId:"",adjustmentHours:0,reason:""}}),u=c.watch("leaveTypeId"),f=(r?l(r):[]).find(m=>m.leave_type_id===u),h=m=>{r&&i({employee_id:r,leave_type_id:m.leaveTypeId,adjustment_hours:m.adjustmentHours,reason:m.reason},{onSuccess:()=>{c.reset(),t(!1)}})};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Adjust Leave Balance"}),s.jsxs(Dt,{children:["Manually adjust the leave balance for ",n,". This action will be logged for audit purposes."]})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-warning/10 border border-warning/20 flex items-start gap-2",children:[s.jsx(lr,{className:"h-5 w-5 text-warning flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance adjustments are tracked in the audit log and visible in compliance reports. A detailed reason is required."})]}),s.jsx(lc,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-4",children:[s.jsx(gt,{control:c.control,name:"leaveTypeId",render:({field:m})=>{var g;return s.jsxs(ht,{children:[s.jsx(yt,{children:"Leave Type"}),s.jsxs($e,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select leave type"})})}),s.jsx(Re,{children:a.map(p=>s.jsx(H,{value:p.id,children:p.name},p.id))})]}),f&&s.jsxs(Yd,{children:["Current balance: ",((g=f.balance_hours)==null?void 0:g.toFixed(1))||0," hours"]}),s.jsx(Nt,{})]})}}),s.jsx(gt,{control:c.control,name:"adjustmentHours",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Adjustment Hours"}),s.jsx(mt,{children:s.jsx(Z,{type:"number",step:"0.5",placeholder:"e.g., 8 or -16",...m,onChange:g=>m.onChange(parseFloat(g.target.value)||0)})}),s.jsx(Yd,{children:"Use positive numbers to add hours, negative to deduct."}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"reason",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Reason"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Explain why this adjustment is being made...",className:"min-h-[100px]",...m})}),s.jsx(Yd,{children:"This will be recorded in the audit log."}),s.jsx(Nt,{})]})}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:o,children:o?"Saving...":"Save Adjustment"})]})]})})]})})}function Ade({onViewEmployee:e}){const{leaveBalances:t,leaveTypes:r,runAccruals:n,isRunningAccruals:a}=Bu(),{employees:i}=sc(),o=i.filter(m=>m.status==="active"),[l,c]=y.useState(""),[u,d]=y.useState({open:!1,employeeId:null,employeeName:""}),h=o.map(m=>{const g=t.filter(p=>p.employee_id===m.id);return{employee:m,balances:r.map(p=>{const v=g.find(b=>b.leave_type_id===p.id);return{leaveType:p,hours:(v==null?void 0:v.balance_hours)||0}})}}).filter(m=>`${m.employee.first_name} ${m.employee.last_name}`.toLowerCase().includes(l.toLowerCase()));return s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between",children:[s.jsx(pe,{className:"text-lg",children:"Leave Balances"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search employees...",value:l,onChange:m=>c(m.target.value),className:"pl-9 w-64"})]}),s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>n(),disabled:a,children:[s.jsx(Js,{className:"h-4 w-4 mr-2"}),a?"Running...":"Run Accruals"]})]})]}),s.jsx(X,{children:h.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No employees found"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(({employee:m,balances:g})=>{var p;return s.jsxs("div",{className:"p-4 rounded-lg border border-border bg-card hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e==null?void 0:e(m.id),children:[s.jsx(Pr,{className:"h-10 w-10",children:s.jsxs(Ar,{className:"bg-primary/10 text-primary text-sm",children:[m.first_name[0],m.last_name[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium hover:text-primary",children:[m.first_name," ",m.last_name]}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:(p=m.employment_type)==null?void 0:p.replace("_"," ")})]})]}),s.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d({open:!0,employeeId:m.id,employeeName:`${m.first_name} ${m.last_name}`}),children:s.jsx(xt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[g.slice(0,4).map(({leaveType:v,hours:b})=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground truncate mr-2",children:v.name}),s.jsxs(de,{variant:b>0?"secondary":"outline",className:"font-mono",children:[b.toFixed(1),"h"]})]},v.id)),g.length>4&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center pt-1",children:["+",g.length-4," more"]})]})]},m.id)})})})]}),s.jsx(Pde,{open:u.open,onOpenChange:m=>d(g=>({...g,open:m})),employeeId:u.employeeId,employeeName:u.employeeName})]})}function Ode(){const{adjustments:e,adjustmentsLoading:t}=Bu();return t?s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-lg",children:"Adjustment History"})}),s.jsx(X,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading adjustments..."})})]}):s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Qa,{className:"h-5 w-5"}),"Balance Adjustment History"]})}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Qa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No balance adjustments have been made"}),s.jsx("p",{className:"text-sm mt-1",children:"Adjustments will appear here when admins manually modify leave balances."})]}):s.jsx("div",{className:"space-y-4",children:e.map(r=>{const n=r.adjustment_hours>0,a=r.employee,i=r.leave_type;return s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-border bg-card",children:[s.jsx("div",{className:`p-2 rounded-full ${n?"bg-success/10":"bg-destructive/10"}`,children:n?s.jsx(Js,{className:"h-5 w-5 text-success"}):s.jsx(UG,{className:"h-5 w-5 text-destructive"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-6 w-6",children:s.jsxs(Ar,{className:"text-xs bg-primary/10 text-primary",children:[a.first_name[0],a.last_name[0]]})}),s.jsxs("span",{className:"font-medium",children:[a.first_name," ",a.last_name]})]}),i&&s.jsx(de,{variant:"secondary",children:i.name}),s.jsxs(de,{variant:n?"default":"destructive",className:"font-mono",children:[n?"+":"",r.adjustment_hours.toFixed(1),"h"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r.reason}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Adjusted by ",r.adjusted_by_name||r.adjusted_by_email," on"," ",le(Kr(r.created_at),"PPp")]})]})]},r.id)})})})]})}function Tde(){const[e,t]=y.useState("requests"),[r,n]=y.useState(!1),{stats:a,isLoading:i}=Bu();return i?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(It,{className:"h-8 w-48"}),s.jsx(It,{className:"h-10 w-40"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[1,2,3,4].map(o=>s.jsx(It,{className:"h-24"},o))}),s.jsx(It,{className:"h-96"})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Leave Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage leave requests, balances, and accruals."})]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>n(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"New Leave Request"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s.jsx(G,{className:"card-interactive",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(wt,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.pending}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})}),s.jsx(G,{className:"card-interactive",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(bt,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.approved}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"})]})]})})}),s.jsx(G,{className:"card-interactive",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:s.jsx(Bn,{className:"h-5 w-5 text-destructive"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.rejected}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"})]})]})})}),s.jsx(G,{className:"card-interactive",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(Ht,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.cancelled}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"})]})]})})})]}),s.jsxs(jn,{value:e,onValueChange:t,children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"requests",children:[s.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Requests"]}),s.jsxs(Be,{value:"balances",children:[s.jsx(Js,{className:"h-4 w-4 mr-2"}),"Balances"]}),s.jsxs(Be,{value:"adjustments",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Adjustments"]})]}),s.jsx(et,{value:"requests",className:"mt-6",children:s.jsx(kde,{})}),s.jsx(et,{value:"balances",className:"mt-6",children:s.jsx(Ade,{})}),s.jsx(et,{value:"adjustments",className:"mt-6",children:s.jsx(Ode,{})})]}),s.jsx(Cde,{open:r,onOpenChange:n})]})}const Dde={draft:{label:"Draft",className:"bg-muted text-muted-foreground"},active:{label:"Active",className:"bg-success/10 text-success border-success/20"},paused:{label:"Paused",className:"bg-warning/10 text-warning border-warning/20"},closed:{label:"Closed",className:"bg-destructive/10 text-destructive border-destructive/20"}},Rde={casual:"Casual",part_time:"Part-Time",full_time:"Full-Time",contractor:"Contractor"};function Mde({job:e,onView:t,onEdit:r}){const n=Dde[e.status],a=e.closingDate?ti(Kr(e.closingDate),new Date):null;return s.jsx(G,{className:"card-interactive",children:s.jsxs(X,{className:"pt-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg truncate",children:e.title}),s.jsx(de,{variant:"outline",className:ne("text-xs",n.className),children:n.label})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.department})]}),s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",className:"w-48 bg-popover",children:[s.jsxs(nt,{onClick:()=>t==null?void 0:t(e),children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(nt,{onClick:()=>r==null?void 0:r(e),children:[s.jsx(Ok,{className:"h-4 w-4 mr-2"}),"Edit Posting"]}),s.jsx(ga,{}),e.status==="active"?s.jsxs(nt,{children:[s.jsx(j0,{className:"h-4 w-4 mr-2"}),"Pause Posting"]}):e.status==="paused"?s.jsxs(nt,{children:[s.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Resume Posting"]}):null,s.jsx(ga,{}),s.jsxs(nt,{className:"text-destructive",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(PF,{className:"h-4 w-4"}),e.location]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Hl,{className:"h-4 w-4"}),Rde[e.employmentType]]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(zd,{className:"h-4 w-4"}),"$",e.payRateMin," - $",e.payRateMax,"/hr"]}),e.closingDate&&s.jsxs("span",{className:ne("flex items-center gap-1.5",a!==null&&a<7?"text-warning":""),children:[s.jsx(wt,{className:"h-4 w-4"}),a!==null&&a>=0?`Closes in ${a} days`:"Closed"]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm font-medium",children:[e.applicantCount," applicants"]})]}),s.jsx(I,{variant:"outline",size:"sm",onClick:()=>t==null?void 0:t(e),children:"View Applicants"})]})]})})}const iy=[{key:"applied",label:"Applied",color:"bg-muted"},{key:"screening",label:"Screening",color:"bg-info/20"},{key:"interview",label:"Interview",color:"bg-primary/20"},{key:"reference_check",label:"Reference Check",color:"bg-warning/20"},{key:"offer",label:"Offer",color:"bg-success/20"}];function $de({applicants:e,onSelectApplicant:t,onMoveApplicant:r}){const n=i=>e.filter(o=>o.stage===i),a=i=>{const o=iy.findIndex(l=>l.key===i);return o>=0&&o<iy.length-1?iy[o+1].key:null};return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:iy.map(i=>{const o=n(i.key);return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:ne("rounded-lg p-3",i.color),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:i.label}),s.jsx(de,{variant:"secondary",className:"text-xs",children:o.length})]})}),s.jsxs("div",{className:"space-y-2 min-h-[200px]",children:[o.map(l=>s.jsx(Ide,{applicant:l,nextStage:a(l.stage),onSelect:()=>t==null?void 0:t(l),onMove:c=>r==null?void 0:r(l,c)},l.id)),o.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm border-2 border-dashed rounded-lg",children:"No applicants"})]})]},i.key)})})}function Ide({applicant:e,nextStage:t,onSelect:r,onMove:n}){const a={applied:"Applied",screening:"Screening",interview:"Interview",reference_check:"Reference Check",offer:"Offer",hired:"Hired",rejected:"Rejected"};return s.jsx(G,{className:"cursor-pointer hover:shadow-md transition-all hover:-translate-y-0.5",onClick:r,children:s.jsxs(X,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pr,{className:"h-9 w-9 flex-shrink-0",children:s.jsxs(Ar,{className:"bg-primary/10 text-primary text-xs",children:[e.firstName[0],e.lastName[0]]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-medium text-sm truncate",children:[e.firstName," ",e.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.jobTitle})]}),s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,onClick:i=>i.stopPropagation(),children:s.jsx(I,{variant:"ghost",size:"icon",className:"h-6 w-6",children:s.jsx(ii,{className:"h-3 w-3"})})}),s.jsxs(ss,{align:"end",className:"w-48 bg-popover",children:[s.jsxs(nt,{onClick:i=>{i.stopPropagation(),r()},children:[s.jsx(ns,{className:"h-4 w-4 mr-2"}),"View Profile"]}),s.jsxs(nt,{onClick:i=>i.stopPropagation(),children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Send Email"]}),s.jsx(ga,{}),t&&s.jsxs(nt,{onClick:i=>{i.stopPropagation(),n(t)},children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Move to ",a[t]]}),s.jsx(nt,{className:"text-destructive",onClick:i=>{i.stopPropagation(),n("rejected")},children:"Reject Applicant"})]})]})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(i=>s.jsx(Hs,{className:ne("h-3 w-3",i<=e.rating?"fill-warning text-warning":"text-muted")},i))}),s.jsx("span",{className:"text-xs text-muted-foreground",children:le(Kr(e.appliedAt),"MMM d")})]}),e.notes.length>0&&s.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.notes[e.notes.length-1].content})})]})})}const pm=["applied","screening","interview","reference_check","offer","hired"],WT={applied:"Applied",screening:"Screening",interview:"Interview",reference_check:"Reference Check",offer:"Offer",hired:"Hired",rejected:"Rejected"},Lde={applied:"bg-muted text-muted-foreground",screening:"bg-info/10 text-info",interview:"bg-primary/10 text-primary",reference_check:"bg-warning/10 text-warning",offer:"bg-success/10 text-success",hired:"bg-success text-success-foreground",rejected:"bg-destructive/10 text-destructive"};function Fde({applicant:e,open:t,onOpenChange:r,onMoveStage:n}){const[a,i]=y.useState("");if(!e)return null;const o=pm.indexOf(e.stage),l=o>=0&&o<pm.length-1?pm[o+1]:null;return s.jsx(Do,{open:t,onOpenChange:r,children:s.jsxs(Bi,{className:"w-full sm:max-w-lg overflow-y-auto",children:[s.jsx(zi,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Pr,{className:"h-14 w-14",children:s.jsxs(Ar,{className:"bg-primary/10 text-primary text-lg",children:[e.firstName[0],e.lastName[0]]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Vi,{className:"text-xl",children:[e.firstName," ",e.lastName]}),s.jsx(Ro,{className:"mt-1",children:e.jobTitle}),s.jsx(de,{className:ne("mt-2",Lde[e.stage]),children:WT[e.stage]})]})]})}),s.jsxs("div",{className:"space-y-3 py-4 border-t border-b border-border",children:[s.jsxs("a",{href:`mailto:${e.email}`,className:"flex items-center gap-3 text-sm hover:text-primary transition-colors",children:[s.jsx(hu,{className:"h-4 w-4 text-muted-foreground"}),e.email]}),s.jsxs("a",{href:`tel:${e.phone}`,className:"flex items-center gap-3 text-sm hover:text-primary transition-colors",children:[s.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"}),e.phone]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Applied ",le(Kr(e.appliedAt),"MMMM d, yyyy")]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Rating"}),s.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(c=>s.jsx("button",{className:"p-1 hover:scale-110 transition-transform",children:s.jsx(Hs,{className:ne("h-5 w-5",c<=e.rating?"fill-warning text-warning":"text-muted hover:text-warning/50")})},c)),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e.rating>0?`${e.rating}/5`:"Not rated"})]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Hiring Progress"}),s.jsx("div",{className:"flex items-center gap-1",children:pm.slice(0,-1).map((c,u)=>{const d=pm.indexOf(e.stage)>=u;return e.stage,s.jsx("div",{className:"flex items-center flex-1",children:s.jsx("div",{className:ne("h-2 flex-1 rounded-full transition-colors",d?"bg-primary":"bg-muted")})},c)})}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:"Applied"}),s.jsx("span",{children:"Hired"})]})]}),s.jsxs("div",{className:"flex gap-2 py-4",children:[l&&e.stage!=="rejected"&&s.jsxs(I,{className:"flex-1 gradient-primary",onClick:()=>n==null?void 0:n(e,l),children:["Move to ",WT[l],s.jsx(Oo,{className:"h-4 w-4 ml-1"})]}),e.stage==="offer"&&s.jsxs(I,{className:"flex-1 gradient-primary",children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Send Offer Letter"]}),e.stage!=="rejected"&&e.stage!=="hired"&&s.jsxs(I,{variant:"outline",className:"text-destructive",children:[s.jsx(Un,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),s.jsx(St,{}),s.jsxs(jn,{defaultValue:"notes",className:"mt-4",children:[s.jsxs(mn,{className:"w-full",children:[s.jsx(Be,{value:"notes",className:"flex-1",children:"Notes"}),s.jsx(Be,{value:"documents",className:"flex-1",children:"Documents"})]}),s.jsxs(et,{value:"notes",className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_t,{placeholder:"Add a note about this candidate...",value:a,onChange:c=>i(c.target.value),className:"min-h-[80px]"}),s.jsxs(I,{size:"sm",disabled:!a.trim(),children:[s.jsx(xt,{className:"h-4 w-4 mr-1"}),"Add Note"]})]}),s.jsx("div",{className:"space-y-3",children:e.notes.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No notes yet"}):e.notes.map(c=>s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[s.jsx("p",{className:"text-sm",children:c.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:c.author}),s.jsx("span",{children:""}),s.jsx("span",{children:le(Kr(c.createdAt),"MMM d, h:mm a")})]})]},c.id))})]}),s.jsxs(et,{value:"documents",className:"mt-4 space-y-2",children:[e.documents.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No documents uploaded"}):e.documents.map(c=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(dt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:c.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploaded ",le(Kr(c.uploadedAt),"MMM d, yyyy")]})]}),s.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Ps,{className:"h-4 w-4"})})]},c.id)),s.jsxs(I,{variant:"outline",className:"w-full mt-2",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})]})]})})}var sw="Collapsible",[Ude,U8]=Vr(sw),[Bde,qE]=Ude(sw),B8=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=Vn({prop:n,defaultProp:a??!1,onChange:o,caller:sw});return s.jsx(Bde,{scope:r,disabled:i,contentId:Ns(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Ce.div,{"data-state":HE(c),"data-disabled":i?"":void 0,...l,ref:t})})});B8.displayName=sw;var z8="CollapsibleTrigger",V8=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=qE(z8,r);return s.jsx(Ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":HE(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:me(e.onClick,a.onOpenToggle)})});V8.displayName=z8;var WE="CollapsibleContent",q8=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=qE(WE,e.__scopeCollapsible);return s.jsx(tn,{present:r||a.open,children:({present:i})=>s.jsx(zde,{...n,ref:t,present:i})})});q8.displayName=WE;var zde=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=qE(WE,r),[l,c]=y.useState(n),u=y.useRef(null),d=He(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,v=y.useRef(p),b=y.useRef(void 0);return y.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),zr(()=>{const x=u.current;if(x){b.current=b.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,m.current=w.width,v.current||(x.style.transitionDuration=b.current.transitionDuration,x.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(Ce.div,{"data-state":HE(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function HE(e){return e?"open":"closed"}var Vde=B8,qde=V8,Wde=q8,ui="Accordion",Hde=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[KE,Kde,Gde]=ch(ui),[aw,W3e]=Vr(ui,[Gde,U8]),GE=U8(),W8=O.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(KE.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(Zde,{...i,ref:t}):s.jsx(Qde,{...a,ref:t})})});W8.displayName=ui;var[H8,Yde]=aw(ui),[K8,Xde]=aw(ui,{collapsible:!1}),Qde=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Vn({prop:r,defaultProp:n??"",onChange:a,caller:ui});return s.jsx(H8,{scope:e.__scopeAccordion,value:O.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:O.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(K8,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(G8,{...o,ref:t})})})}),Zde=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Vn({prop:r,defaultProp:n??[],onChange:a,caller:ui}),c=O.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=O.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(H8,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(K8,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(G8,{...i,ref:t})})})}),[Jde,iw]=aw(ui),G8=O.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=O.useRef(null),c=He(l,t),u=Kde(r),f=nc(a)==="ltr",h=me(e.onKeyDown,m=>{var k;if(!Hde.includes(m.key))return;const g=m.target,p=u().filter(C=>{var P;return!((P=C.ref.current)!=null&&P.disabled)}),v=p.findIndex(C=>C.ref.current===g),b=p.length;if(v===-1)return;m.preventDefault();let x=v;const w=0,_=b-1,j=()=>{x=v+1,x>_&&(x=w)},N=()=>{x=v-1,x<w&&(x=_)};switch(m.key){case"Home":x=w;break;case"End":x=_;break;case"ArrowRight":i==="horizontal"&&(f?j():N());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?N():j());break;case"ArrowUp":i==="vertical"&&N();break}const S=x%b;(k=p[S].ref.current)==null||k.focus()});return s.jsx(Jde,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(KE.Slot,{scope:r,children:s.jsx(Ce.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Xx="AccordionItem",[efe,YE]=aw(Xx),Y8=O.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=iw(Xx,r),o=Yde(Xx,r),l=GE(r),c=Ns(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return s.jsx(efe,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Vde,{"data-orientation":i.orientation,"data-state":tz(u),...l,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Y8.displayName=Xx;var X8="AccordionHeader",Q8=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=iw(ui,r),i=YE(X8,r);return s.jsx(Ce.h3,{"data-orientation":a.orientation,"data-state":tz(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Q8.displayName=X8;var X1="AccordionTrigger",Z8=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=iw(ui,r),i=YE(X1,r),o=Xde(X1,r),l=GE(r);return s.jsx(KE.ItemSlot,{scope:r,children:s.jsx(qde,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});Z8.displayName=X1;var J8="AccordionContent",ez=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=iw(ui,r),i=YE(J8,r),o=GE(r);return s.jsx(Wde,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ez.displayName=J8;function tz(e){return e?"open":"closed"}var tfe=W8,rfe=Y8,nfe=Q8,rz=Z8,nz=ez;const sfe=tfe,sz=y.forwardRef(({className:e,...t},r)=>s.jsx(rfe,{ref:r,className:ne("border-b",e),...t}));sz.displayName="AccordionItem";const az=y.forwardRef(({className:e,children:t,...r},n)=>s.jsx(nfe,{className:"flex",children:s.jsxs(rz,{ref:n,className:ne("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(x0,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));az.displayName=rz.displayName;const iz=y.forwardRef(({className:e,children:t,...r},n)=>s.jsx(nz,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:ne("pb-4 pt-0",e),children:t})}));iz.displayName=nz.displayName;const Pt=e=>{const t=new Date;return t.setDate(t.getDate()-e),t.toISOString().split("T")[0]},rp=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]},__=[{id:"job-1",title:"Support Worker",department:"Disability Services",location:"Melbourne, VIC",employmentType:"casual",payRateMin:35,payRateMax:42,description:"We are looking for compassionate and dedicated Support Workers to join our team providing high-quality disability support services.",requirements:["Certificate III in Individual Support or equivalent","Current NDIS Worker Screening Check","Valid drivers licence and reliable vehicle","First Aid and CPR certification","Experience working with people with disabilities (preferred)"],status:"active",applicantCount:12,createdAt:Pt(14),closingDate:rp(16)},{id:"job-2",title:"Senior Support Worker",department:"Community Support",location:"Sydney, NSW",employmentType:"part_time",payRateMin:42,payRateMax:50,description:"Experienced Senior Support Worker needed to mentor junior staff and provide complex support services.",requirements:["Certificate IV in Disability or equivalent","Minimum 3 years experience in disability support","Leadership experience","Current NDIS Worker Screening Check","Advanced First Aid certification"],status:"active",applicantCount:5,createdAt:Pt(7),closingDate:rp(23)},{id:"job-3",title:"Team Coordinator",department:"Operations",location:"Brisbane, QLD",employmentType:"full_time",payRateMin:55,payRateMax:65,description:"Lead a team of support workers and ensure delivery of exceptional support services.",requirements:["Diploma in Community Services or equivalent","Minimum 5 years in disability sector","Team management experience","Strong communication and organizational skills"],status:"paused",applicantCount:3,createdAt:Pt(21),closingDate:rp(9)},{id:"job-4",title:"Allied Health Assistant",department:"Allied Health",location:"Melbourne, VIC",employmentType:"contractor",payRateMin:45,payRateMax:55,description:"Support our allied health professionals in delivering therapy services to NDIS participants.",requirements:["Certificate IV in Allied Health Assistance","Experience in therapy support","NDIS Worker Screening Check"],status:"draft",applicantCount:0,createdAt:Pt(2)}],zy=[{id:"app-1",firstName:"James",lastName:"Wilson",email:"james.wilson@email.com",phone:"0412 111 222",jobId:"job-1",jobTitle:"Support Worker",stage:"interview",rating:4,appliedAt:Pt(5),notes:[{id:"n1",content:"Strong application, relevant experience",author:"HR Manager",createdAt:Pt(4)},{id:"n2",content:"Phone screening completed - very articulate",author:"HR Manager",createdAt:Pt(3)}],documents:[{id:"d1",name:"Resume - James Wilson.pdf",type:"resume",url:"#",uploadedAt:Pt(5)}]},{id:"app-2",firstName:"Sophie",lastName:"Anderson",email:"sophie.a@email.com",phone:"0423 222 333",jobId:"job-1",jobTitle:"Support Worker",stage:"offer",rating:5,appliedAt:Pt(10),notes:[{id:"n3",content:"Excellent candidate, 4 years experience",author:"HR Manager",createdAt:Pt(9)},{id:"n4",content:"Interview went exceptionally well",author:"Team Lead",createdAt:Pt(6)},{id:"n5",content:"References checked - all positive",author:"HR Manager",createdAt:Pt(2)}],documents:[{id:"d2",name:"Resume - Sophie Anderson.pdf",type:"resume",url:"#",uploadedAt:Pt(10)},{id:"d3",name:"Cover Letter.pdf",type:"cover_letter",url:"#",uploadedAt:Pt(10)}]},{id:"app-3",firstName:"Marcus",lastName:"Lee",email:"marcus.lee@email.com",phone:"0434 333 444",jobId:"job-1",jobTitle:"Support Worker",stage:"screening",rating:3,appliedAt:Pt(2),notes:[],documents:[{id:"d4",name:"Resume - Marcus Lee.pdf",type:"resume",url:"#",uploadedAt:Pt(2)}]},{id:"app-4",firstName:"Emma",lastName:"Roberts",email:"emma.r@email.com",phone:"0445 444 555",jobId:"job-1",jobTitle:"Support Worker",stage:"applied",rating:0,appliedAt:Pt(1),notes:[],documents:[{id:"d5",name:"Resume.pdf",type:"resume",url:"#",uploadedAt:Pt(1)}]},{id:"app-5",firstName:"David",lastName:"Kim",email:"david.kim@email.com",phone:"0456 555 666",jobId:"job-2",jobTitle:"Senior Support Worker",stage:"reference_check",rating:4,appliedAt:Pt(6),notes:[{id:"n6",content:"Great leadership potential",author:"HR Manager",createdAt:Pt(4)}],documents:[{id:"d6",name:"Resume - David Kim.pdf",type:"resume",url:"#",uploadedAt:Pt(6)},{id:"d7",name:"Certificates.pdf",type:"certificate",url:"#",uploadedAt:Pt(6)}]},{id:"app-6",firstName:"Rachel",lastName:"Green",email:"rachel.g@email.com",phone:"0467 666 777",jobId:"job-1",jobTitle:"Support Worker",stage:"rejected",rating:2,appliedAt:Pt(12),notes:[{id:"n7",content:"Does not meet minimum requirements",author:"HR Manager",createdAt:Pt(11)}],documents:[]},{id:"app-7",firstName:"Tom",lastName:"Harris",email:"tom.h@email.com",phone:"0478 777 888",jobId:"job-1",jobTitle:"Support Worker",stage:"hired",rating:5,appliedAt:Pt(20),notes:[{id:"n8",content:"Offer accepted!",author:"HR Manager",createdAt:Pt(8)}],documents:[]}],HT=[{id:"task-1",title:"Submit ID Documents",description:"Upload proof of identity (passport or drivers licence)",category:"documents",dueInDays:1,required:!0},{id:"task-2",title:"Sign Employment Contract",description:"Review and digitally sign your employment contract",category:"documents",dueInDays:1,required:!0},{id:"task-3",title:"Complete Tax Declaration",description:"Submit TFN declaration and superannuation choice form",category:"admin",dueInDays:3,required:!0},{id:"task-4",title:"NDIS Worker Screening",description:"Provide NDIS Worker Screening clearance or apply for one",category:"compliance",dueInDays:7,required:!0},{id:"task-5",title:"Police Check",description:"Submit current police check or apply for a new one",category:"compliance",dueInDays:7,required:!0},{id:"task-6",title:"First Aid Certificate",description:"Upload current First Aid certificate",category:"compliance",dueInDays:14,required:!0},{id:"task-7",title:"Workplace Induction",description:"Complete online workplace induction training",category:"training",dueInDays:7,required:!0},{id:"task-8",title:"NDIS Orientation",description:"Complete NDIS Worker Orientation Module",category:"training",dueInDays:14,required:!0},{id:"task-9",title:"Manual Handling Training",description:"Complete manual handling safety training",category:"training",dueInDays:14,required:!1},{id:"task-10",title:"IT System Setup",description:"Set up work email and access to internal systems",category:"setup",dueInDays:3,required:!0},{id:"task-11",title:"Uniform Collection",description:"Collect work uniform from office",category:"setup",dueInDays:7,required:!1},{id:"task-12",title:"Emergency Contact Form",description:"Submit emergency contact details",category:"admin",dueInDays:3,required:!0}],KT=[{employeeId:"emp-new-1",employeeName:"Alex Nguyen",startDate:rp(7),tasks:[{taskId:"task-1",status:"completed",completedAt:Pt(2)},{taskId:"task-2",status:"completed",completedAt:Pt(1)},{taskId:"task-3",status:"in_progress"},{taskId:"task-4",status:"pending"},{taskId:"task-5",status:"pending"},{taskId:"task-6",status:"pending"},{taskId:"task-7",status:"pending"},{taskId:"task-8",status:"pending"},{taskId:"task-9",status:"pending"},{taskId:"task-10",status:"pending"},{taskId:"task-11",status:"pending"},{taskId:"task-12",status:"pending"}],completionPercentage:17},{employeeId:"emp-new-2",employeeName:"Tom Harris",startDate:rp(3),tasks:[{taskId:"task-1",status:"completed",completedAt:Pt(5)},{taskId:"task-2",status:"completed",completedAt:Pt(4)},{taskId:"task-3",status:"completed",completedAt:Pt(3)},{taskId:"task-4",status:"completed",completedAt:Pt(2)},{taskId:"task-5",status:"completed",completedAt:Pt(2)},{taskId:"task-6",status:"completed",completedAt:Pt(1)},{taskId:"task-7",status:"in_progress"},{taskId:"task-8",status:"pending"},{taskId:"task-9",status:"pending"},{taskId:"task-10",status:"completed",completedAt:Pt(1)},{taskId:"task-11",status:"pending"},{taskId:"task-12",status:"completed",completedAt:Pt(3)}],completionPercentage:67}],afe=e=>zy.filter(t=>t.jobId===e),ife={documents:dt,training:bf,compliance:mu,setup:mh,admin:jF},ofe={documents:"Documents",training:"Training",compliance:"Compliance",setup:"System Setup",admin:"Administrative"},GT={completed:{icon:bt,color:"text-success"},in_progress:{icon:wt,color:"text-info"},pending:{icon:b0,color:"text-muted-foreground"},overdue:{icon:uu,color:"text-destructive"}};function lfe({onboardingProgress:e}){const t=a=>HT.find(i=>i.id===a),n=(a=>a.reduce((i,o)=>(i[o.category]||(i[o.category]=[]),i[o.category].push(o),i),{}))(HT);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(a=>{const i=a.tasks.filter(l=>l.status==="completed").length,o=a.tasks.length;return s.jsx(G,{className:"card-interactive",children:s.jsxs(X,{className:"pt-5",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Pr,{className:"h-12 w-12",children:s.jsx(Ar,{className:"bg-primary/10 text-primary",children:a.employeeName.split(" ").map(l=>l[0]).join("")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold",children:a.employeeName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Starts ",le(Kr(a.startDate),"MMMM d, yyyy")]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[a.completionPercentage,"%"]})]}),s.jsx(Gs,{value:a.completionPercentage,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i," of ",o," tasks completed"]})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Outstanding Tasks"}),s.jsx("div",{className:"space-y-2",children:a.tasks.filter(l=>l.status!=="completed").slice(0,3).map(l=>{const c=t(l.taskId);if(!c)return null;const u=GT[l.status].icon;return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(u,{className:ne("h-4 w-4",GT[l.status].color)}),s.jsx("span",{className:"truncate",children:c.title}),c.required&&s.jsx(de,{variant:"outline",className:"text-xs ml-auto",children:"Required"})]},l.taskId)})})]}),s.jsx(I,{variant:"outline",className:"w-full mt-4",children:"View Full Checklist"})]})},a.employeeId)})}),s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-lg",children:"Onboarding Checklist Template"})}),s.jsx(X,{children:s.jsx(sfe,{type:"multiple",className:"w-full",children:Object.entries(n).map(([a,i])=>{const o=ife[a]||dt;return s.jsxs(sz,{value:a,children:[s.jsx(az,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(o,{className:"h-4 w-4 text-primary"})}),s.jsx("span",{className:"font-medium",children:ofe[a]}),s.jsxs(de,{variant:"secondary",className:"ml-2",children:[i.length," tasks"]})]})}),s.jsx(iz,{children:s.jsx("div",{className:"space-y-3 pt-2",children:i.map(l=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border border-border",children:[s.jsx(b0,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:l.title}),l.required&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Required"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:l.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Due within ",l.dueInDays," days of start date"]})]})]},l.id))})})]},a)})})})]})]})}function cfe({open:e,onOpenChange:t,trigger:r}){const[n,a]=y.useState([]),[i,o]=y.useState(""),{data:l=[],isLoading:c}=sr({queryKey:["departments"],queryFn:async()=>{const{data:f,error:h}=await M.from("departments").select("*").order("name");if(h)throw h;return f}}),u=()=>{i.trim()&&(a([...n,i.trim()]),o(""))},d=f=>{a(n.filter((h,m)=>m!==f))};return s.jsxs(Mt,{open:e,onOpenChange:t,children:[r&&s.jsx(av,{asChild:!0,children:r}),s.jsxs(At,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Job Posting"}),s.jsx(Dt,{children:"Fill in the details to create a new job listing."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"job-title",children:"Job Title *"}),s.jsx(Z,{id:"job-title",placeholder:"e.g. Support Worker"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"department",children:"Department *"}),s.jsxs($e,{children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select department"})}),s.jsx(Re,{className:"bg-popover",children:c?s.jsx("div",{className:"flex items-center justify-center py-2",children:s.jsx(Xe,{className:"h-4 w-4 animate-spin"})}):l.length===0?s.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"No departments configured"}):l.map(f=>s.jsx(H,{value:f.name,children:f.name},f.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"location",children:"Location *"}),s.jsx(Z,{id:"location",placeholder:"e.g. Melbourne, VIC"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employment-type",children:"Employment Type *"}),s.jsxs($e,{children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select type"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"casual",children:"Casual"}),s.jsx(H,{value:"part_time",children:"Part-Time"}),s.jsx(H,{value:"full_time",children:"Full-Time"}),s.jsx(H,{value:"contractor",children:"Contractor"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pay-min",children:"Minimum Pay Rate ($/hr)"}),s.jsx(Z,{id:"pay-min",type:"number",placeholder:"35"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pay-max",children:"Maximum Pay Rate ($/hr)"}),s.jsx(Z,{id:"pay-max",type:"number",placeholder:"45"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"closing-date",children:"Closing Date"}),s.jsx(Z,{id:"closing-date",type:"date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Job Description *"}),s.jsx(_t,{id:"description",placeholder:"Describe the role, responsibilities, and what you're looking for...",className:"min-h-[120px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Requirements"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{placeholder:"Add a requirement...",value:i,onChange:f=>o(f.target.value),onKeyPress:f=>f.key==="Enter"&&(f.preventDefault(),u())}),s.jsx(I,{type:"button",onClick:u,variant:"outline",children:s.jsx(xt,{className:"h-4 w-4"})})]}),n.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map((f,h)=>s.jsxs(de,{variant:"secondary",className:"pl-3 pr-1 py-1.5",children:[f,s.jsx("button",{type:"button",onClick:()=>d(h),className:"ml-2 hover:text-destructive",children:s.jsx(Un,{className:"h-3 w-3"})})]},h))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[s.jsx(I,{variant:"outline",className:"flex-1",onClick:()=>t==null?void 0:t(!1),children:"Save as Draft"}),s.jsx(I,{className:"flex-1 gradient-primary",children:"Publish Job"})]})]})]})]})}function ufe({applicant:e,open:t,onOpenChange:r}){const[n,a]=y.useState("details");return e?s.jsx(Mt,{open:t,onOpenChange:r,children:s.jsxs(At,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(hh,{className:"h-5 w-5 text-primary"}),"Generate Offer Letter"]}),s.jsxs(Dt,{children:["Create an offer letter for ",e.firstName," ",e.lastName]})]}),n==="details"?s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Position Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"position",children:"Position Title"}),s.jsx(Z,{id:"position",defaultValue:e.jobTitle})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employment-type",children:"Employment Type"}),s.jsxs($e,{defaultValue:"casual",children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"casual",children:"Casual"}),s.jsx(H,{value:"part_time",children:"Part-Time"}),s.jsx(H,{value:"full_time",children:"Full-Time"}),s.jsx(H,{value:"contractor",children:"Contractor"})]})]})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Compensation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pay-rate",children:"Pay Rate ($/hr)"}),s.jsx(Z,{id:"pay-rate",type:"number",placeholder:"40.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award",children:"Award Classification"}),s.jsxs($e,{children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select classification"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"level-1",children:"Level 1.1"}),s.jsx(H,{value:"level-2",children:"Level 2.1"}),s.jsx(H,{value:"level-3",children:"Level 3.1"}),s.jsx(H,{value:"level-4",children:"Level 4.1"})]})]})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Important Dates"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"start-date",children:"Proposed Start Date"}),s.jsx(Z,{id:"start-date",type:"date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"expiry-date",children:"Offer Expiry Date"}),s.jsx(Z,{id:"expiry-date",type:"date"})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(_t,{id:"notes",placeholder:"Any additional terms or notes to include...",className:"min-h-[80px]"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(I,{variant:"outline",onClick:()=>a("preview"),children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(I,{className:"flex-1 gradient-primary",children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Send Offer Letter"]})]})]}):s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx(G,{className:"bg-muted/30",children:s.jsxs(X,{className:"pt-6 space-y-4",children:[s.jsxs("div",{className:"text-center border-b border-border pb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg gradient-primary flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-white font-bold",children:"S+"})}),s.jsx("h2",{className:"text-xl font-bold",children:"Social Plus Support Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Employment Offer Letter"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("p",{children:["Dear ",e.firstName," ",e.lastName,","]}),s.jsxs("p",{children:["We are pleased to offer you the position of ",s.jsx("strong",{children:e.jobTitle})," at Social Plus Support Work. We were impressed with your qualifications and experience, and believe you will be a valuable addition to our team."]}),s.jsxs("div",{className:"bg-background rounded-lg p-4 space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Position:"})," ",e.jobTitle]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Employment Type:"})," Casual"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Pay Rate:"})," $40.00 per hour"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Start Date:"})," To be confirmed"]})]}),s.jsx("p",{children:"This offer is contingent upon satisfactory completion of pre-employment checks, including verification of your NDIS Worker Screening clearance and other required certifications."}),s.jsx("p",{children:"Please confirm your acceptance of this offer by signing below and returning this letter by the specified date."}),s.jsx("div",{className:"pt-4 space-y-4",children:s.jsxs("div",{className:"border-t border-border pt-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Signature: ________________________"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Date: ________________________"})]})})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(I,{variant:"outline",onClick:()=>a("details"),children:"Back to Edit"}),s.jsxs(I,{variant:"outline",children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),s.jsxs(I,{className:"flex-1 gradient-primary",children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Send to Candidate"]})]})]})]})}):null}function dfe(){const[e,t]=y.useState("jobs"),[r,n]=y.useState("all"),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(""),g=__.filter(j=>j.status==="active").length,p=zy.length,v=zy.filter(j=>!["hired","rejected"].includes(j.stage)).length,b=KT.length,x=r==="all"?zy.filter(j=>!["hired","rejected"].includes(j.stage)):afe(r).filter(j=>!["hired","rejected"].includes(j.stage)),w=j=>{i(j),l(!0)},_=(j,N)=>{console.log(`Moving ${j.firstName} to ${N}`),N==="offer"&&(i(j),f(!0))};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Recruitment & Onboarding"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage job postings, track applicants, and onboard new hires."})]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>u(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Post New Job"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Active Jobs",value:g,description:"Open positions",icon:Hl,variant:"default"}),s.jsx(Bt,{title:"Total Applicants",value:p,description:"All time",icon:Er,variant:"info"}),s.jsx(Bt,{title:"In Pipeline",value:v,description:"Currently reviewing",icon:RF,variant:"warning"}),s.jsx(Bt,{title:"Onboarding",value:b,description:"New hires in progress",icon:du,variant:"success"})]}),s.jsxs(jn,{value:e,onValueChange:t,children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"jobs",className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Job Postings"]}),s.jsxs(Be,{value:"applicants",className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-4 w-4"}),"Applicants",s.jsx(de,{variant:"secondary",className:"ml-1",children:v})]}),s.jsxs(Be,{value:"onboarding",className:"flex items-center gap-2",children:[s.jsx(du,{className:"h-4 w-4"}),"Onboarding",s.jsx(de,{variant:"secondary",className:"ml-1",children:b})]})]}),s.jsx(et,{value:"jobs",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsx(X,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search job postings...",value:h,onChange:j=>m(j.target.value),className:"pl-10"})]}),s.jsxs($e,{defaultValue:"all",children:[s.jsx(De,{className:"w-full sm:w-40",children:s.jsx(Ie,{placeholder:"Status"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"active",children:"Active"}),s.jsx(H,{value:"paused",children:"Paused"}),s.jsx(H,{value:"draft",children:"Draft"}),s.jsx(H,{value:"closed",children:"Closed"})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:__.filter(j=>j.title.toLowerCase().includes(h.toLowerCase())||j.department.toLowerCase().includes(h.toLowerCase())).map(j=>s.jsx(Mde,{job:j,onView:N=>{n(N.id),t("applicants")},onEdit:N=>console.log("Edit job",N.id)},j.id))})]})}),s.jsx(et,{value:"applicants",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(G,{children:s.jsx(X,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsxs($e,{value:r,onValueChange:n,children:[s.jsx(De,{className:"w-full sm:w-64",children:s.jsx(Ie,{placeholder:"Filter by job"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Active Jobs"}),__.filter(j=>j.status==="active").map(j=>s.jsx(H,{value:j.id,children:j.title},j.id))]})]})}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," applicants in pipeline"]})]})})}),s.jsx("div",{className:"overflow-x-auto pb-4",children:s.jsx($de,{applicants:x,onSelectApplicant:w,onMoveApplicant:_})})]})}),s.jsx(et,{value:"onboarding",className:"mt-6",children:s.jsx(lfe,{onboardingProgress:KT})})]}),s.jsx(Fde,{applicant:a,open:o,onOpenChange:l,onMoveStage:_}),s.jsx(cfe,{open:c,onOpenChange:u}),s.jsx(ufe,{applicant:a,open:d,onOpenChange:f})]})}const ffe={draft:{label:"Draft",variant:"secondary",icon:dt},pending_signature:{label:"Pending Signature",variant:"default",icon:wt},signed:{label:"Signed",variant:"outline",icon:bt},expired:{label:"Expired",variant:"destructive",icon:uu},voided:{label:"Voided",variant:"destructive",icon:Bn}};function hfe({contract:e,onView:t,onSign:r}){const n=ffe[e.status],a=n.icon;return s.jsxs(G,{className:"hover:shadow-md transition-shadow",children:[s.jsx(he,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(dt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:e.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.position})]})]}),s.jsxs(de,{variant:n.variant,className:"flex items-center gap-1",children:[s.jsx(a,{className:"h-3 w-3"}),n.label]})]})}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Employee"}),s.jsx("p",{className:"font-medium",children:e.employee_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium truncate",children:e.employee_email})]}),e.start_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:le(new Date(e.start_date),"MMM d, yyyy")})]}),e.pay_rate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Pay Rate"}),s.jsxs("p",{className:"font-medium",children:["$",e.pay_rate,"/hr"]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(e),children:[s.jsx(Fi,{className:"h-4 w-4 mr-1"}),"View"]}),e.status==="pending_signature"&&s.jsxs(I,{size:"sm",className:"flex-1 gradient-primary",onClick:()=>r(e),children:[s.jsx(Pp,{className:"h-4 w-4 mr-1"}),"Sign"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created ",le(new Date(e.created_at),"MMM d, yyyy"),e.signed_at&&s.jsxs(s.Fragment,{children:["  Signed ",le(new Date(e.signed_at),"MMM d, yyyy")]})]})]})]})}const mfe=`EMPLOYMENT CONTRACT

This Employment Agreement ("Agreement") is entered into between Social Plus Support Work ("Employer") and the Employee named below.

TERMS OF EMPLOYMENT:

1. POSITION AND DUTIES
   The Employee agrees to perform the duties and responsibilities associated with the position stated above, and such other duties as may be reasonably assigned.

2. COMPENSATION
   The Employee will be compensated at the rate specified above, paid in accordance with the Employer's standard payroll practices.

3. WORKING HOURS
   Working hours will be determined based on client needs and roster schedules. The Employee agrees to maintain availability as reasonably required.

4. CONFIDENTIALITY
   The Employee agrees to maintain strict confidentiality of all client information, business operations, and proprietary information.

5. COMPLIANCE
   The Employee agrees to maintain all required certifications and clearances, including NDIS Worker Screening Check.

6. TERMINATION
   Either party may terminate this agreement with appropriate notice as required by the relevant Award or legislation.

By signing this agreement, both parties acknowledge and agree to the terms outlined above.`,YT={title:"",employee_name:"",employee_email:"",position:"",department:"",start_date:"",pay_rate:"",employment_type:"casual",content:mfe};function pfe({open:e,onOpenChange:t,onCreate:r}){const[n,a]=y.useState(!1),[i,o]=y.useState(YT),[l,c]=y.useState({}),u=()=>{const h=Cle.safeParse(i);if(!h.success){const m={};return h.error.errors.forEach(g=>{const p=g.path[0];m[p]||(m[p]=g.message)}),c(m),!1}return c({}),!0},d=async h=>{var m,g;if(!u()){re({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}a(!0);try{await r({title:((m=i.title)==null?void 0:m.trim())||`Employment Contract - ${i.employee_name.trim()}`,content:i.content.trim(),employee_name:i.employee_name.trim(),employee_email:i.employee_email.trim(),position:i.position.trim(),department:((g=i.department)==null?void 0:g.trim())||void 0,start_date:i.start_date||void 0,pay_rate:i.pay_rate?parseFloat(i.pay_rate):void 0,employment_type:i.employment_type}),t(!1),o(YT),c({})}catch(p){console.error("Failed to create contract:",p)}finally{a(!1)}},f=(h,m)=>{o({...i,[h]:m}),l[h]&&c({...l,[h]:void 0})};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(RG,{className:"h-5 w-5 text-primary"}),"Create Employment Contract"]}),s.jsx(Dt,{children:"Create a new employment contract for signing"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Employee Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employee_name",children:"Employee Name *"}),s.jsx(Z,{id:"employee_name",value:i.employee_name,onChange:h=>f("employee_name",h.target.value),placeholder:"John Smith",className:l.employee_name?"border-destructive":"",maxLength:100}),l.employee_name&&s.jsx("p",{className:"text-xs text-destructive",children:l.employee_name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employee_email",children:"Employee Email *"}),s.jsx(Z,{id:"employee_email",type:"email",value:i.employee_email,onChange:h=>f("employee_email",h.target.value),placeholder:"john@example.com",className:l.employee_email?"border-destructive":"",maxLength:255}),l.employee_email&&s.jsx("p",{className:"text-xs text-destructive",children:l.employee_email})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Position Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"position",children:"Position Title *"}),s.jsx(Z,{id:"position",value:i.position,onChange:h=>f("position",h.target.value),placeholder:"Support Worker",className:l.position?"border-destructive":"",maxLength:100}),l.position&&s.jsx("p",{className:"text-xs text-destructive",children:l.position})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"department",children:"Department"}),s.jsx(Z,{id:"department",value:i.department||"",onChange:h=>f("department",h.target.value),placeholder:"Disability Services",className:l.department?"border-destructive":"",maxLength:100}),l.department&&s.jsx("p",{className:"text-xs text-destructive",children:l.department})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employment_type",children:"Employment Type"}),s.jsxs($e,{value:i.employment_type,onValueChange:h=>f("employment_type",h),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"casual",children:"Casual"}),s.jsx(H,{value:"part_time",children:"Part-Time"}),s.jsx(H,{value:"full_time",children:"Full-Time"}),s.jsx(H,{value:"contractor",children:"Contractor"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pay_rate",children:"Pay Rate ($/hr)"}),s.jsx(Z,{id:"pay_rate",type:"text",inputMode:"decimal",value:i.pay_rate||"",onChange:h=>f("pay_rate",h.target.value),placeholder:"40.00",className:l.pay_rate?"border-destructive":""}),l.pay_rate&&s.jsx("p",{className:"text-xs text-destructive",children:l.pay_rate})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Z,{id:"start_date",type:"date",value:i.start_date||"",onChange:h=>f("start_date",h.target.value),className:l.start_date?"border-destructive":""}),l.start_date&&s.jsx("p",{className:"text-xs text-destructive",children:l.start_date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Contract Title"}),s.jsx(Z,{id:"title",value:i.title||"",onChange:h=>f("title",h.target.value),placeholder:"Auto-generated if empty",className:l.title?"border-destructive":"",maxLength:200}),l.title&&s.jsx("p",{className:"text-xs text-destructive",children:l.title})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"content",children:"Contract Content *"}),s.jsx(_t,{id:"content",value:i.content,onChange:h=>f("content",h.target.value),className:`min-h-[200px] font-mono text-xs ${l.content?"border-destructive":""}`,maxLength:5e4}),l.content&&s.jsx("p",{className:"text-xs text-destructive",children:l.content}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.content.length.toLocaleString()," / 50,000 characters"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{variant:"outline",onClick:()=>d(),disabled:n,children:"Save as Draft"}),s.jsxs(I,{className:"flex-1 gradient-primary",onClick:()=>d(),disabled:n,children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Create & Send for Signature"]})]})]})]})})}const gfe=dh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ll=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ne(gfe({variant:t}),e),...r}));Ll.displayName="Alert";const np=y.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));np.displayName="AlertTitle";const Fl=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));Fl.displayName="AlertDescription";function vfe({onSignatureChange:e,signerName:t}){const r=y.useRef(null),[n,a]=y.useState(!1),[i,o]=y.useState(""),[l,c]=y.useState("draw");y.useEffect(()=>{const p=r.current;if(!p)return;const v=p.getContext("2d");if(!v)return;const b=p.getBoundingClientRect();p.width=b.width*2,p.height=b.height*2,v.scale(2,2),v.strokeStyle="hsl(var(--foreground))",v.lineWidth=2,v.lineCap="round",v.lineJoin="round",v.fillStyle="hsl(var(--background))",v.fillRect(0,0,b.width,b.height)},[]);const u=p=>{const v=r.current;if(!v)return{x:0,y:0};const b=v.getBoundingClientRect();return"touches"in p?{x:p.touches[0].clientX-b.left,y:p.touches[0].clientY-b.top}:{x:p.clientX-b.left,y:p.clientY-b.top}},d=p=>{p.preventDefault();const v=r.current,b=v==null?void 0:v.getContext("2d");if(!b)return;a(!0);const{x,y:w}=u(p);b.beginPath(),b.moveTo(x,w)},f=p=>{if(p.preventDefault(),!n)return;const v=r.current,b=v==null?void 0:v.getContext("2d");if(!b)return;const{x,y:w}=u(p);b.lineTo(x,w),b.stroke()},h=()=>{if(!n)return;a(!1);const p=r.current;if(p){const v=p.toDataURL("image/png");e(v,"drawn")}},m=()=>{const p=r.current,v=p==null?void 0:p.getContext("2d");if(!v||!p)return;const b=p.getBoundingClientRect();v.fillStyle="hsl(var(--background))",v.fillRect(0,0,b.width,b.height),e("","drawn")},g=p=>{if(o(p),p){const v=document.createElement("canvas");v.width=400,v.height=100;const b=v.getContext("2d");b&&(b.fillStyle="hsl(var(--background))",b.fillRect(0,0,400,100),b.font='italic 32px "Brush Script MT", cursive, serif',b.fillStyle="hsl(var(--foreground))",b.textAlign="center",b.textBaseline="middle",b.fillText(p,200,50),e(v.toDataURL("image/png"),"typed"))}else e("","typed")};return s.jsx("div",{className:"space-y-4",children:s.jsxs(jn,{value:l,onValueChange:p=>c(p),children:[s.jsxs(mn,{className:"grid w-full grid-cols-2",children:[s.jsxs(Be,{value:"draw",className:"flex items-center gap-2",children:[s.jsx(rl,{className:"h-4 w-4"}),"Draw Signature"]}),s.jsx(Be,{value:"type",children:"Type Signature"})]}),s.jsxs(et,{value:"draw",className:"space-y-3",children:[s.jsxs("div",{className:"relative border border-border rounded-lg overflow-hidden bg-background",children:[s.jsx("canvas",{ref:r,className:"w-full h-32 cursor-crosshair touch-none",onMouseDown:d,onMouseMove:f,onMouseUp:h,onMouseLeave:h,onTouchStart:d,onTouchMove:f,onTouchEnd:h}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2 border-t border-dashed border-muted-foreground/30"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign above the line using your mouse or finger"}),s.jsxs(I,{variant:"outline",size:"sm",onClick:m,children:[s.jsx(TG,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),s.jsxs(et,{value:"type",className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"typed-signature",children:"Type your full legal name"}),s.jsx(Z,{id:"typed-signature",value:i,onChange:p=>g(p.target.value),placeholder:t,className:"text-xl italic",style:{fontFamily:'"Brush Script MT", cursive, serif'}})]}),i&&s.jsxs("div",{className:"p-4 border border-border rounded-lg bg-background",children:[s.jsx("p",{className:"text-3xl italic text-center",style:{fontFamily:'"Brush Script MT", cursive, serif'},children:i}),s.jsx("div",{className:"mt-2 border-t border-dashed border-muted-foreground/30"})]})]})]})})}function yfe({contract:e,open:t,onOpenChange:r,onSign:n}){const[a,i]=y.useState(""),[o,l]=y.useState("drawn"),[c,u]=y.useState(!1),[d,f]=y.useState(!1);if(!e)return null;const h=(p,v)=>{i(p),l(v)},m=async()=>{if(!(!a||!c)){f(!0);try{await n(e.id,a,o),r(!1),i(""),u(!1)}catch(p){console.error("Failed to sign contract:",p)}finally{f(!1)}}},g=a&&c&&!d;return s.jsx(Mt,{open:t,onOpenChange:r,children:s.jsxs(At,{className:"sm:max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(hh,{className:"h-5 w-5 text-primary"}),"Sign Employment Contract"]}),s.jsxs(Dt,{children:["Review and sign your employment contract with ",e.title]})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col gap-4",children:[s.jsxs("div",{className:"flex-1 min-h-0",children:[s.jsx(V,{className:"text-sm font-medium mb-2 block",children:"Contract Document"}),s.jsx(Vu,{className:"h-64 border border-border rounded-lg bg-muted/30",children:s.jsxs("div",{className:"p-4 space-y-4 text-sm",children:[s.jsxs("div",{className:"text-center border-b border-border pb-4",children:[s.jsx("h2",{className:"text-lg font-bold",children:"Employment Contract"}),s.jsx("p",{className:"text-muted-foreground",children:e.title})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Employee:"})," ",e.employee_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Position:"})," ",e.position]}),e.department&&s.jsxs("p",{children:[s.jsx("strong",{children:"Department:"})," ",e.department]}),e.employment_type&&s.jsxs("p",{children:[s.jsx("strong",{children:"Employment Type:"})," ",e.employment_type]}),e.start_date&&s.jsxs("p",{children:[s.jsx("strong",{children:"Start Date:"})," ",le(new Date(e.start_date),"MMMM d, yyyy")]}),e.pay_rate&&s.jsxs("p",{children:[s.jsx("strong",{children:"Pay Rate:"})," $",e.pay_rate.toFixed(2),"/hr"]})]}),s.jsx(St,{}),s.jsx("div",{className:"whitespace-pre-wrap",children:e.content})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(V,{className:"text-sm font-medium",children:"Your Signature"}),s.jsx(vfe,{onSignatureChange:h,signerName:e.employee_name})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx(Mi,{id:"agree-terms",checked:c,onCheckedChange:p=>u(p===!0)}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsx(V,{htmlFor:"agree-terms",className:"text-sm font-medium leading-relaxed cursor-pointer",children:"I agree to the terms and conditions"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"By signing this document, I acknowledge that I have read and understood the terms of this employment contract and agree to be bound by them."})]})]}),s.jsxs(Ll,{children:[s.jsx(dn,{className:"h-4 w-4"}),s.jsx(Fl,{className:"text-xs",children:"Your signature will be securely recorded along with timestamp, IP address, and browser information for audit purposes."})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[s.jsx(I,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),s.jsx(I,{className:"flex-1 gradient-primary",onClick:m,disabled:!g,children:d?s.jsx(s.Fragment,{children:"Signing..."}):s.jsxs(s.Fragment,{children:[s.jsx(fh,{className:"h-4 w-4 mr-2"}),"Sign Contract"]})})]})]})})}const xfe={created:dt,viewed:Fi,sent:wo,signed:Pp,approved:bt,rejected:Bn,voided:Bn},bfe={created:"text-blue-500 bg-blue-500/10",viewed:"text-gray-500 bg-gray-500/10",sent:"text-purple-500 bg-purple-500/10",signed:"text-green-500 bg-green-500/10",approved:"text-green-500 bg-green-500/10",rejected:"text-red-500 bg-red-500/10",voided:"text-red-500 bg-red-500/10"};function wfe({auditLogs:e}){return e.length===0?s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-base",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Audit Trail"]})}),s.jsx(X,{children:s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No audit entries yet"})})]}):s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-base",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Audit Trail"]})}),s.jsx(X,{children:s.jsx(Vu,{className:"h-64",children:s.jsx("div",{className:"space-y-4",children:e.map((t,r)=>{const n=xfe[t.action]||dt,a=bfe[t.action]||"text-gray-500 bg-gray-500/10";return s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`p-2 rounded-full ${a}`,children:s.jsx(n,{className:"h-3 w-3"})}),r<e.length-1&&s.jsx("div",{className:"w-px h-full bg-border mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-sm font-medium capitalize",children:t.action}),s.jsx("time",{className:"text-xs text-muted-foreground",children:le(new Date(t.created_at),"MMM d, yyyy h:mm a")})]}),t.actor_name&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",t.actor_name]}),t.actor_email&&!t.actor_name&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",t.actor_email]}),t.ip_address&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["IP: ",t.ip_address]}),t.details&&Object.keys(t.details).length>0&&s.jsx("div",{className:"mt-2 p-2 rounded bg-muted/50 text-xs",children:Object.entries(t.details).map(([i,o])=>s.jsxs("p",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[i,":"]})," ",String(o)]},i))})]})]},t.id)})})})})]})}const jfe={draft:{label:"Draft",variant:"secondary"},pending_signature:{label:"Pending Signature",variant:"default"},signed:{label:"Signed",variant:"outline"},expired:{label:"Expired",variant:"destructive"},voided:{label:"Voided",variant:"destructive"}};function _fe({contract:e,signature:t,auditLogs:r,open:n,onOpenChange:a}){if(!e)return null;const i=jfe[e.status];return s.jsx(Do,{open:n,onOpenChange:a,children:s.jsxs(Bi,{className:"w-full sm:max-w-xl overflow-hidden flex flex-col",children:[s.jsx(zi,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(dt,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Vi,{children:e.title}),s.jsx(Ro,{children:e.position})]}),s.jsx(de,{variant:i.variant,children:i.label})]})}),s.jsx(Vu,{className:"flex-1 -mx-6 px-6",children:s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Contract Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Employee"}),s.jsx("p",{className:"font-medium",children:e.employee_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.employee_email})]}),e.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium",children:e.department})]}),e.employment_type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Employment Type"}),s.jsx("p",{className:"font-medium capitalize",children:e.employment_type.replace("_"," ")})]}),e.start_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:le(new Date(e.start_date),"MMMM d, yyyy")})]}),e.pay_rate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Pay Rate"}),s.jsxs("p",{className:"font-medium",children:["$",e.pay_rate,"/hr"]})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Contract Content"}),s.jsx("div",{className:"p-4 rounded-lg bg-muted/30 text-sm whitespace-pre-wrap",children:e.content})]}),t&&s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4 text-primary"}),"Signature"]}),s.jsx("div",{className:"p-4 rounded-lg border border-border bg-background",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:t.signature_data,alt:"Signature",className:"max-h-20 object-contain"})}),s.jsx(St,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Signer"}),s.jsx("p",{className:"font-medium",children:t.signer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Date Signed"}),s.jsx("p",{className:"font-medium",children:le(new Date(t.signed_at),"MMM d, yyyy h:mm a")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Signature Type"}),s.jsx("p",{className:"font-medium capitalize",children:t.signature_type})]}),t.ip_address&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"IP Address"}),s.jsx("p",{className:"font-medium",children:t.ip_address})]})]})]})})]})]}),s.jsx(St,{}),s.jsx(wfe,{auditLogs:r}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(wt,{className:"h-3 w-3"}),"Created: ",le(new Date(e.created_at),"MMM d, yyyy h:mm a")]}),e.signed_at&&s.jsxs("p",{className:"flex items-center gap-1",children:[s.jsx(bt,{className:"h-3 w-3"}),"Signed: ",le(new Date(e.signed_at),"MMM d, yyyy h:mm a")]})]})]})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[s.jsxs(I,{variant:"outline",className:"flex-1",children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),e.status==="pending_signature"&&s.jsxs(I,{variant:"outline",className:"flex-1",children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Resend"]})]})]})})}function Nfe(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),a=async()=>{n(!0);try{const{data:d,error:f}=await M.from("contracts").select("*").order("created_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){console.error("Error fetching contracts:",d),re({title:"Error",description:"Failed to fetch contracts",variant:"destructive"})}finally{n(!1)}},i=async d=>{var f;try{const{data:h}=await M.auth.getUser(),{data:m,error:g}=await M.from("contracts").insert({...d,status:"pending_signature",created_by:(f=h.user)==null?void 0:f.id}).select().single();if(g)throw g;return await u(m.id,"created","Contract created and sent for signature"),t(p=>[m,...p]),re({title:"Contract Created",description:"Contract has been created and sent for signature"}),m}catch(h){throw console.error("Error creating contract:",h),re({title:"Error",description:"Failed to create contract",variant:"destructive"}),h}},o=async(d,f,h,m,g)=>{try{const{error:p}=await M.from("signatures").insert({contract_id:d,signer_name:m,signer_email:g,signature_data:f,signature_type:h,user_agent:navigator.userAgent});if(p)throw p;const{error:v}=await M.from("contracts").update({status:"signed",signed_at:new Date().toISOString()}).eq("id",d);if(v)throw v;await u(d,"signed","Contract signed by employee",{signer_name:m,signature_type:h}),await a(),re({title:"Contract Signed",description:"The contract has been successfully signed"})}catch(p){throw console.error("Error signing contract:",p),re({title:"Error",description:"Failed to sign contract",variant:"destructive"}),p}},l=async d=>{try{const{data:f,error:h}=await M.from("signatures").select("*").eq("contract_id",d).single();if(h&&h.code!=="PGRST116")throw h;return f}catch(f){return console.error("Error fetching signature:",f),null}},c=async d=>{try{const{data:f,error:h}=await M.from("contract_audit_log").select("*").eq("contract_id",d).order("created_at",{ascending:!1});if(h)throw h;return f||[]}catch(f){return console.error("Error fetching audit logs:",f),[]}},u=async(d,f,h,m)=>{var g,p,v;try{const{data:b}=await M.auth.getUser(),x=m||(h?{description:h}:null);await M.from("contract_audit_log").insert([{contract_id:d,action:f,actor_email:(g=b.user)==null?void 0:g.email,actor_name:(v=(p=b.user)==null?void 0:p.user_metadata)==null?void 0:v.full_name,details:x,user_agent:navigator.userAgent}])}catch(b){console.error("Error logging audit event:",b)}};return y.useEffect(()=>{a()},[]),{contracts:e,isLoading:r,createContract:i,signContract:o,getSignature:l,getAuditLogs:c,logAuditEvent:u,refetch:a}}function Sfe(){const{contracts:e,isLoading:t,createContract:r,signContract:n,getSignature:a,getAuditLogs:i,logAuditEvent:o}=Nfe(),[l,c]=y.useState(""),[u,d]=y.useState("all"),[f,h]=y.useState(!1),[m,g]=y.useState(!1),[p,v]=y.useState(!1),[b,x]=y.useState(null),[w,_]=y.useState(null),[j,N]=y.useState([]),S=e.length,k=e.filter(F=>F.status==="pending_signature").length,C=e.filter(F=>F.status==="signed").length,P=e.filter(F=>F.status==="expired").length,A=e.filter(F=>{const L=F.employee_name.toLowerCase().includes(l.toLowerCase())||F.position.toLowerCase().includes(l.toLowerCase())||F.title.toLowerCase().includes(l.toLowerCase()),D=u==="all"||F.status===u;return L&&D}),E=async F=>{x(F);const[L,D]=await Promise.all([a(F.id),i(F.id)]);_(L),N(D),await o(F.id,"viewed"),v(!0)},R=F=>{x(F),g(!0)},$=async(F,L,D)=>{b&&await n(F,L,D,b.employee_name,b.employee_email)},B=async F=>{await r(F)};return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Contracts & E-Signatures"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, send, and manage employment contracts with digital signatures"})]}),s.jsxs(I,{className:"gradient-primary",onClick:()=>h(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Create Contract"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Total Contracts",value:S,description:"All contracts",icon:dt,variant:"default"}),s.jsx(Bt,{title:"Pending Signature",value:k,description:"Awaiting signature",icon:wt,variant:"warning"}),s.jsx(Bt,{title:"Signed",value:C,description:"Completed",icon:bt,variant:"success"}),s.jsx(Bt,{title:"Expired",value:P,description:"Need attention",icon:uu,variant:"danger"})]}),s.jsx(G,{children:s.jsx(X,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{type:"search",placeholder:"Search contracts...",value:l,onChange:F=>c(F.target.value),className:"pl-10"})]}),s.jsxs($e,{value:u,onValueChange:d,children:[s.jsx(De,{className:"w-full sm:w-48",children:s.jsx(Ie,{placeholder:"Filter by status"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"draft",children:"Draft"}),s.jsx(H,{value:"pending_signature",children:"Pending Signature"}),s.jsx(H,{value:"signed",children:"Signed"}),s.jsx(H,{value:"expired",children:"Expired"}),s.jsx(H,{value:"voided",children:"Voided"})]})]})]})})}),t?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(F=>s.jsx(G,{className:"animate-pulse",children:s.jsx(X,{className:"pt-6 h-48"})},F))}):A.length===0?s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(hh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold mb-2",children:"No contracts found"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:l||u!=="all"?"Try adjusting your search or filters":"Create your first employment contract"}),!l&&u==="all"&&s.jsxs(I,{onClick:()=>h(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Create Contract"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(F=>s.jsx(hfe,{contract:F,onView:E,onSign:R},F.id))}),s.jsx(pfe,{open:f,onOpenChange:h,onCreate:B}),s.jsx(yfe,{contract:b,open:m,onOpenChange:g,onSign:$}),s.jsx(_fe,{contract:b,signature:w,auditLogs:j,open:p,onOpenChange:v})]})}function ow(){const{toast:e}=cr(),t=oi(),{data:r=[],isLoading:n,refetch:a}=sr({queryKey:["org-documents"],queryFn:async()=>{const{data:f,error:h}=await M.from("org_documents").select("*").order("created_at",{ascending:!1});if(h)throw h;return f||[]}}),i=Gt({mutationFn:async({file:f,metadata:h})=>{var N,S;const{data:m}=await M.auth.getUser(),g=(N=m==null?void 0:m.user)==null?void 0:N.id,p=(S=m==null?void 0:m.user)==null?void 0:S.email,v=f.name.split(".").pop(),b=`${crypto.randomUUID()}.${v}`,{error:x}=await M.storage.from("org-documents").upload(b,f);if(x)throw x;const{data:w}=M.storage.from("org-documents").getPublicUrl(b),{data:_,error:j}=await M.from("org_documents").insert({...h,file_url:w.publicUrl,file_name:f.name,file_size:f.size,mime_type:f.type,uploaded_by:g,uploaded_by_name:p}).select().single();if(j)throw j;return _},onSuccess:()=>{t.invalidateQueries({queryKey:["org-documents"]}),e({title:"Success",description:"Document uploaded successfully"})},onError:f=>{console.error("Error uploading document:",f),e({title:"Error",description:f.message||"Failed to upload document",variant:"destructive"})}}),o=Gt({mutationFn:async({id:f,updates:h})=>{const{data:m,error:g}=await M.from("org_documents").update(h).eq("id",f).select().single();if(g)throw g;return m},onSuccess:()=>{t.invalidateQueries({queryKey:["org-documents"]}),e({title:"Success",description:"Document updated successfully"})},onError:()=>{e({title:"Error",description:"Failed to update document",variant:"destructive"})}}),l=Gt({mutationFn:async f=>{const{error:h}=await M.from("org_documents").delete().eq("id",f);if(h)throw h},onSuccess:()=>{t.invalidateQueries({queryKey:["org-documents"]}),e({title:"Success",description:"Document deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete document",variant:"destructive"})}}),c=y.useCallback(async(f,h)=>i.mutateAsync({file:f,metadata:h}),[i]),u=y.useCallback(async(f,h)=>o.mutateAsync({id:f,updates:h}),[o]),d=y.useCallback(async f=>l.mutateAsync(f),[l]);return{documents:r,loading:n,refetch:a,uploadDocument:c,updateDocument:u,deleteDocument:d}}function lw(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{try{a(!0);let u=M.from("document_distributions").select("*").order("created_at",{ascending:!1});e&&(u=u.eq("org_document_id",e));const{data:d,error:f}=await u;if(f)throw f;r(d||[])}catch(u){console.error("Error fetching distributions:",u),i({title:"Error",description:"Failed to load distributions",variant:"destructive"})}finally{a(!1)}},[e,i]);return y.useEffect(()=>{o()},[o]),{distributions:t,loading:n,refetch:o,createDistribution:async u=>{var d,f;try{const{data:h}=await M.auth.getUser(),{data:m,error:g}=await M.from("document_distributions").insert({...u,sent_by:(d=h==null?void 0:h.user)==null?void 0:d.id,sent_by_name:(f=h==null?void 0:h.user)==null?void 0:f.email,sent_at:new Date().toISOString(),status:"sent"}).select().single();if(g)throw g;return r(p=>[m,...p]),i({title:"Success",description:"Document distributed successfully"}),m}catch(h){throw console.error("Error creating distribution:",h),i({title:"Error",description:h.message||"Failed to distribute document",variant:"destructive"}),h}},updateDistribution:async(u,d)=>{try{const{data:f,error:h}=await M.from("document_distributions").update(d).eq("id",u).select().single();if(h)throw h;return r(m=>m.map(g=>g.id===u?f:g)),f}catch(f){throw console.error("Error updating distribution:",f),i({title:"Error",description:"Failed to update distribution",variant:"destructive"}),f}}}}const Cfe={contract_template:"Contract Template",handbook:"Handbook",policy:"Policy",procedure:"Procedure",training:"Training",other:"Other"};function kfe({open:e,onOpenChange:t,document:r}){const{distributions:n}=lw(r.id),a=o=>o?o<1024?`${o} B`:o<1024*1024?`${(o/1024).toFixed(1)} KB`:`${(o/(1024*1024)).toFixed(1)} MB`:"Unknown",i={pending:n.filter(o=>o.status==="pending"||o.status==="sent").length,viewed:n.filter(o=>o.status==="viewed"||o.status==="downloaded").length,completed:n.filter(o=>o.status==="acknowledged"||o.status==="signed").length};return s.jsx(Do,{open:e,onOpenChange:t,children:s.jsxs(Bi,{className:"sm:max-w-[480px] overflow-y-auto",children:[s.jsxs(zi,{children:[s.jsxs(Vi,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5 text-primary"}),"Document Details"]}),s.jsx(Ro,{children:"View document information and distribution status"})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:r.title}),r.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(de,{variant:"secondary",children:Cfe[r.category]}),r.requires_acknowledgment&&s.jsxs(de,{variant:"outline",className:"gap-1",children:[s.jsx(Oi,{className:"h-3 w-3"}),"Requires Acknowledgment"]}),r.requires_signature&&s.jsxs(de,{variant:"outline",className:"gap-1",children:[s.jsx(hh,{className:"h-3 w-3"}),"Requires Signature"]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"File Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"File Name"}),s.jsx("p",{className:"font-medium truncate",children:r.file_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Size"}),s.jsx("p",{className:"font-medium",children:a(r.file_size)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Version"}),s.jsxs("p",{className:"font-medium",children:["v",r.version||1]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Type"}),s.jsx("p",{className:"font-medium",children:r.mime_type||"Unknown"})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Metadata"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Uploaded:"}),s.jsx("span",{children:le(new Date(r.created_at),"dd MMM yyyy HH:mm")})]}),r.uploaded_by_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"By:"}),s.jsx("span",{children:r.uploaded_by_name})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Distribution Summary"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-warning/10 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-warning",children:i.pending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-info/10 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-info",children:i.viewed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Viewed"})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-success/10 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-success",children:i.completed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(I,{variant:"outline",className:"flex-1 gap-2",onClick:()=>window.open(r.file_url,"_blank"),children:[s.jsx(_F,{className:"h-4 w-4"}),"View"]}),s.jsxs(I,{className:"flex-1 gap-2",onClick:()=>window.open(r.file_url,"_blank"),children:[s.jsx(Ps,{className:"h-4 w-4"}),"Download"]})]})]})]})})}function Efe({open:e,onOpenChange:t,document:r}){const[n,a]=y.useState([]),[i,o]=y.useState(new Set),[l,c]=y.useState(""),[u,d]=y.useState(!0),[f,h]=y.useState(!1),{createDistribution:m,distributions:g,refetch:p}=lw(r.id),{toast:v}=cr(),b=new Set(g.map(S=>S.recipient_user_id));y.useEffect(()=>{e&&(x(),o(new Set))},[e]);const x=async()=>{try{d(!0);const{data:S,error:k}=await M.from("profiles").select("user_id, display_name");if(k)throw k;const{data:C,error:P}=await M.from("user_roles").select("user_id, role");if(P)throw P;const A=new Map(C==null?void 0:C.map(R=>[R.user_id,R.role])),E=(S||[]).map(R=>({id:R.user_id,email:R.display_name||"Unknown",display_name:R.display_name,role:A.get(R.user_id)||"employee"}));a(E)}catch(S){console.error("Error fetching users:",S),v({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{d(!1)}},w=n.filter(S=>{var k;return!b.has(S.id)&&(((k=S.display_name)==null?void 0:k.toLowerCase().includes(l.toLowerCase()))||S.email.toLowerCase().includes(l.toLowerCase()))}),_=S=>{const k=new Set(i);k.has(S)?k.delete(S):k.add(S),o(k)},j=()=>{i.size===w.length?o(new Set):o(new Set(w.map(S=>S.id)))},N=async()=>{if(i.size!==0){h(!0);try{const S=n.filter(k=>i.has(k.id));for(const k of S)await m({org_document_id:r.id,recipient_user_id:k.id,recipient_name:k.display_name||k.email,recipient_email:k.email});v({title:"Success",description:`Document distributed to ${S.length} recipient(s)`}),t(!1),p()}catch(S){console.error("Error distributing document:",S)}finally{h(!1)}}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[500px]",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5 text-primary"}),"Distribute Document"]}),s.jsxs(Dt,{children:['Select employees to receive "',r.title,'"']})]}),s.jsxs("div",{className:"space-y-4",children:[(r.requires_acknowledgment||r.requires_signature)&&s.jsxs("div",{className:"flex gap-2 text-sm",children:[r.requires_acknowledgment&&s.jsx(de,{variant:"outline",children:"Requires Acknowledgment"}),r.requires_signature&&s.jsx(de,{variant:"outline",children:"Requires Signature"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search employees...",value:l,onChange:S=>c(S.target.value),className:"pl-10"})]}),w.length>0&&s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("button",{type:"button",onClick:j,className:"text-sm text-primary hover:underline",children:i.size===w.length?"Deselect All":"Select All"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.size," selected"]})]}),u?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Xe,{className:"h-6 w-6 animate-spin text-primary"})}):w.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Er,{className:"h-10 w-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No employees available"}),s.jsx("p",{className:"text-sm",children:"All users have already received this document"})]}):s.jsx(Vu,{className:"h-[280px] border rounded-lg",children:s.jsx("div",{className:"p-2 space-y-1",children:w.map(S=>s.jsxs("div",{onClick:()=>_(S.id),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${i.has(S.id)?"bg-primary/10 border border-primary/20":"hover:bg-muted"}`,children:[s.jsx(Mi,{checked:i.has(S.id),onCheckedChange:()=>_(S.id)}),s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs",children:(S.display_name||S.email).split(" ").map(k=>k[0]).join("").slice(0,2)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:S.display_name||S.email}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:S.role})]})]},S.id))})})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{onClick:N,disabled:f||i.size===0,children:[f&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Distribute to ",i.size," ",i.size===1?"User":"Users"]})]})]})})}const XT={contract_template:"Contract Template",handbook:"Handbook",policy:"Policy",procedure:"Procedure",training:"Training",other:"Other"},Pfe={contract_template:"bg-blue-100 text-blue-800",handbook:"bg-purple-100 text-purple-800",policy:"bg-amber-100 text-amber-800",procedure:"bg-green-100 text-green-800",training:"bg-teal-100 text-teal-800",other:"bg-gray-100 text-gray-800"};function Afe({searchQuery:e}){const{documents:t,loading:r,deleteDocument:n}=ow(),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),d=t.filter(v=>{var b,x;return v.title.toLowerCase().includes(e.toLowerCase())||((b=v.description)==null?void 0:b.toLowerCase().includes(e.toLowerCase()))||((x=XT[v.category])==null?void 0:x.toLowerCase().includes(e.toLowerCase()))}),f=v=>{i(v),l(!0)},h=v=>{i(v),u(!0)},m=v=>{window.open(v.file_url,"_blank")},g=async v=>{confirm("Are you sure you want to delete this document?")&&await n(v.id)},p=v=>v?v<1024?`${v} B`:v<1024*1024?`${(v/1024).toFixed(1)} KB`:`${(v/(1024*1024)).toFixed(1)} MB`:"Unknown";return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"All Documents"}),s.jsx(Fe,{children:"Organizational documents, policies, and templates"})]}),s.jsx(X,{children:d.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No documents found"}),s.jsx("p",{className:"text-sm mt-1",children:"Upload a document to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Document"}),s.jsx(ie,{children:"Category"}),s.jsx(ie,{children:"Requirements"}),s.jsx(ie,{children:"Size"}),s.jsx(ie,{children:"Uploaded"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:d.map(v=>s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(dt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.title}),v.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:v.description})]})]})}),s.jsx(te,{children:s.jsx(de,{variant:"secondary",className:Pfe[v.category],children:XT[v.category]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex gap-1",children:[v.requires_acknowledgment&&s.jsxs(de,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(Oi,{className:"h-3 w-3"}),"Ack"]}),v.requires_signature&&s.jsxs(de,{variant:"outline",className:"text-xs gap-1",children:[s.jsx(hh,{className:"h-3 w-3"}),"Sign"]}),!v.requires_acknowledgment&&!v.requires_signature&&s.jsx("span",{className:"text-xs text-muted-foreground",children:"None"})]})}),s.jsx(te,{className:"text-sm text-muted-foreground",children:p(v.file_size)}),s.jsx(te,{className:"text-sm text-muted-foreground",children:le(new Date(v.created_at),"dd MMM yyyy")}),s.jsx(te,{className:"text-right",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",className:"bg-popover",children:[s.jsxs(nt,{onClick:()=>f(v),children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(nt,{onClick:()=>m(v),children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Download"]}),s.jsxs(nt,{onClick:()=>h(v),children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Distribute"]}),s.jsx(ga,{}),s.jsxs(nt,{onClick:()=>g(v),className:"text-destructive",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},v.id))})]})})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx(kfe,{open:o,onOpenChange:l,document:a}),s.jsx(Efe,{open:c,onOpenChange:u,document:a})]})]})}const Ofe={pending:{label:"Pending",icon:wt,className:"bg-gray-100 text-gray-800"},sent:{label:"Sent",icon:dt,className:"bg-blue-100 text-blue-800"},viewed:{label:"Viewed",icon:Fi,className:"bg-purple-100 text-purple-800"},downloaded:{label:"Downloaded",icon:Ps,className:"bg-teal-100 text-teal-800"},acknowledged:{label:"Acknowledged",icon:fh,className:"bg-green-100 text-green-800"},signed:{label:"Signed",icon:hh,className:"bg-emerald-100 text-emerald-800"}};function Tfe({searchQuery:e}){const{distributions:t,loading:r}=lw(),{documents:n}=ow(),a=new Map(n.map(o=>[o.id,o])),i=t.filter(o=>{const l=a.get(o.org_document_id);return o.recipient_name.toLowerCase().includes(e.toLowerCase())||o.recipient_email.toLowerCase().includes(e.toLowerCase())||(l==null?void 0:l.title.toLowerCase().includes(e.toLowerCase()))});return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Document Distributions"}),s.jsx(Fe,{children:"Track document distribution status and employee acknowledgments"})]}),s.jsx(X,{children:i.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No distributions found"}),s.jsx("p",{className:"text-sm mt-1",children:"Distribute a document to employees to track here"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Recipient"}),s.jsx(ie,{children:"Document"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Sent"}),s.jsx(ie,{children:"Last Action"})]})}),s.jsx(gr,{children:i.map(o=>{const l=a.get(o.org_document_id),c=Ofe[o.status],u=c.icon,d=o.signed_at||o.acknowledged_at||o.downloaded_at||o.viewed_at||o.sent_at;return s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs",children:o.recipient_name.split(" ").map(f=>f[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o.recipient_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.recipient_email})]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:(l==null?void 0:l.title)||"Unknown Document"})]})}),s.jsx(te,{children:s.jsxs(de,{variant:"secondary",className:`gap-1 ${c.className}`,children:[s.jsx(u,{className:"h-3 w-3"}),c.label]})}),s.jsx(te,{className:"text-sm text-muted-foreground",children:o.sent_at?le(new Date(o.sent_at),"dd MMM yyyy"):"-"}),s.jsx(te,{className:"text-sm text-muted-foreground",children:d?le(new Date(d),"dd MMM yyyy HH:mm"):"-"})]},o.id)})})]})})]})}const Dfe=As({title:Je().min(1,"Title is required").max(200),description:Je().max(500).optional(),category:zu(["contract_template","handbook","policy","procedure","training","other"]),requires_acknowledgment:Fx().default(!1),requires_signature:Fx().default(!1)}),Rfe=[{value:"contract_template",label:"Contract Template"},{value:"handbook",label:"Handbook"},{value:"policy",label:"Policy"},{value:"procedure",label:"Procedure"},{value:"training",label:"Training Material"},{value:"other",label:"Other"}];function Mfe({open:e,onOpenChange:t}){const[r,n]=y.useState(!1),[a,i]=y.useState(null),o=y.useRef(null),{uploadDocument:l}=ow(),c=as({resolver:Ri(Dfe),defaultValues:{title:"",description:"",category:"other",requires_acknowledgment:!1,requires_signature:!1}}),u=m=>{var p;const g=(p=m.target.files)==null?void 0:p[0];if(g&&(i(g),!c.getValues("title"))){const v=g.name.replace(/\.[^/.]+$/,"");c.setValue("title",v)}},d=()=>{i(null),o.current&&(o.current.value="")},f=async m=>{if(a){n(!0);try{await l(a,{title:m.title,description:m.description||null,category:m.category,requires_acknowledgment:m.requires_acknowledgment,requires_signature:m.requires_signature}),c.reset(),i(null),t(!1)}finally{n(!1)}}},h=m=>m<1024?`${m} B`:m<1024*1024?`${(m/1024).toFixed(1)} KB`:`${(m/(1024*1024)).toFixed(1)} MB`;return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[550px]",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Upload Document"}),s.jsx(Dt,{children:"Upload a new document to the organizational library"})]}),s.jsx(lc,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"File"}),a?s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-muted/50",children:[s.jsx(dt,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:a.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h(a.size)})]}),s.jsx(I,{type:"button",variant:"ghost",size:"icon",onClick:d,children:s.jsx(Un,{className:"h-4 w-4"})})]}):s.jsxs("div",{onClick:()=>{var m;return(m=o.current)==null?void 0:m.click()},className:"flex flex-col items-center justify-center gap-2 p-6 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary transition-colors",children:[s.jsx(jo,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, Word, Excel, or other documents"})]}),s.jsx("input",{ref:o,type:"file",onChange:u,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.rtf"})]}),s.jsx(gt,{control:c.control,name:"title",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Title"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"Document title",...m})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"category",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Category"}),s.jsxs($e,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select a category"})})}),s.jsx(Re,{children:Rfe.map(g=>s.jsx(H,{value:g.value,children:g.label},g.value))})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:c.control,name:"description",render:({field:m})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Description (Optional)"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Brief description of the document...",className:"resize-none",...m})}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium",children:"Requirements"}),s.jsx(gt,{control:c.control,name:"requires_acknowledgment",render:({field:m})=>s.jsxs(ht,{className:"flex items-start space-x-3 space-y-0",children:[s.jsx(mt,{children:s.jsx(Mi,{checked:m.value,onCheckedChange:m.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(yt,{className:"font-normal",children:"Requires acknowledgment"}),s.jsx(Yd,{children:"Employees must confirm they have read the document"})]})]})}),s.jsx(gt,{control:c.control,name:"requires_signature",render:({field:m})=>s.jsxs(ht,{className:"flex items-start space-x-3 space-y-0",children:[s.jsx(mt,{children:s.jsx(Mi,{checked:m.value,onCheckedChange:m.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(yt,{className:"font-normal",children:"Requires signature"}),s.jsx(Yd,{children:"Employees must sign to accept the document"})]})]})})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:r||!a,children:[r&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Upload Document"]})]})]})})]})})}function $fe(){const[e,t]=y.useState("library"),[r,n]=y.useState(""),[a,i]=y.useState(!1),{documents:o,loading:l}=ow(),{distributions:c,loading:u}=lw(),d=o.filter(m=>m.is_active),f=c.filter(m=>m.status==="pending"||m.status==="sent"),h=c.filter(m=>m.status==="acknowledged"||m.status==="signed");return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Document Library"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage organizational documents and distribute to employees"})]}),s.jsxs(I,{onClick:()=>i(!0),className:"gap-2",children:[s.jsx(jo,{className:"h-4 w-4"}),"Upload Document"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Total Documents",value:d.length,description:"Active documents",icon:dt,variant:"default"}),s.jsx(Bt,{title:"Categories",value:new Set(o.map(m=>m.category)).size,description:"Document types",icon:SF,variant:"info"}),s.jsx(Bt,{title:"Pending Actions",value:f.length,description:"Awaiting response",icon:wo,variant:"warning"}),s.jsx(Bt,{title:"Completed",value:h.length,description:"Acknowledged/Signed",icon:Pk,variant:"success"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search documents...",value:r,onChange:m=>n(m.target.value),className:"pl-10"})]})}),s.jsxs(jn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(mn,{className:"grid w-full grid-cols-2 lg:w-auto lg:inline-grid",children:[s.jsxs(Be,{value:"library",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Document Library"}),s.jsx("span",{className:"sm:hidden",children:"Library"})]}),s.jsxs(Be,{value:"distributions",className:"flex items-center gap-2",children:[s.jsx(wo,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Distributions"}),s.jsx("span",{className:"sm:hidden",children:"Sent"})]})]}),s.jsx(et,{value:"library",children:s.jsx(Afe,{searchQuery:r})}),s.jsx(et,{value:"distributions",children:s.jsx(Tfe,{searchQuery:r})})]}),s.jsx(Mfe,{open:a,onOpenChange:i})]})}const Ife=18,Lfe=23,Ffe=23,Ufe=6;function Bfe(){const[e,t]=y.useState([]),[r,n]=y.useState(null),[a,i]=y.useState([]),[o,l]=y.useState(!0);y.useEffect(()=>{(async()=>{l(!0);const{data:b,error:x}=await M.from("award_classifications").select("*").order("name");!x&&b&&(t(b),b.length>0&&n(b[0])),l(!1)})()},[]);const c=v=>{const b={...v,id:crypto.randomUUID()};i(x=>[...x,b])},u=(v,b)=>{i(x=>x.map(w=>w.id===v?{...w,...b}:w))},d=v=>{i(b=>b.filter(x=>x.id!==v))},f=()=>{i([])},h=(v,b,x,w,_,j)=>{const N=v+b/60,S=x+w/60;if(_>j){const P=h(v,b,x,w,_,24),A=h(v,b,x,w,0,j);return P+A}const k=Math.max(N,_),C=Math.min(S,j);return C>k?C-k:0},m=v=>{if(!r)return null;const[b,x]=v.startTime.split(":").map(Number),[w,_]=v.endTime.split(":").map(Number);let j=w*60+_-(b*60+x);j<0&&(j+=24*60);const N=j/60,S=v.breakMinutes/60,k=Math.max(0,N-S),P=new Date(v.date).getDay(),A=P===6,E=P===0;let R=0,$=0,B=0,F=0,L=0,D=0,T=0;v.isPublicHoliday?D=k:A?F=k:E?L=k:($=h(b,x,w,_,Ife,Lfe),B=h(b,x,w,_,Ffe,Ufe),R=Math.max(0,k-$-B)),v.isOvertime&&(T=k,R=0,$=0,B=0);const U=r.base_hourly_rate,Q=R*U,K=$*U*r.evening_multiplier,oe=B*U*r.night_multiplier,W=F*U*r.saturday_multiplier,fe=L*U*r.sunday_multiplier,Se=D*U*r.public_holiday_multiplier,ue=T*U*r.overtime_multiplier,Oe=Q+K+oe+W+fe+Se+ue;return{shiftId:v.id,date:v.date,startTime:v.startTime,endTime:v.endTime,totalHours:N,breakHours:S,workedHours:k,baseHours:R,eveningHours:$,nightHours:B,saturdayHours:F,sundayHours:L,publicHolidayHours:D,overtimeHours:T,basePay:Q,eveningPay:K,nightPay:oe,saturdayPay:W,sundayPay:fe,publicHolidayPay:Se,overtimePay:ue,totalPay:Oe}},g=y.useMemo(()=>a.map(m).filter(v=>v!==null),[a,r]),p=y.useMemo(()=>{const v={totalHours:0,totalWorkedHours:0,baseHours:0,penaltyHours:0,basePay:0,eveningPay:0,nightPay:0,saturdayPay:0,sundayPay:0,publicHolidayPay:0,overtimePay:0,totalPenaltyPay:0,grossPay:0};return g.reduce((b,x)=>(b.totalHours+=x.totalHours,b.totalWorkedHours+=x.workedHours,b.baseHours+=x.baseHours,b.penaltyHours+=x.eveningHours+x.nightHours+x.saturdayHours+x.sundayHours+x.publicHolidayHours+x.overtimeHours,b.basePay+=x.basePay,b.eveningPay+=x.eveningPay,b.nightPay+=x.nightPay,b.saturdayPay+=x.saturdayPay,b.sundayPay+=x.sundayPay,b.publicHolidayPay+=x.publicHolidayPay,b.overtimePay+=x.overtimePay,b.totalPenaltyPay+=x.eveningPay+x.nightPay+x.saturdayPay+x.sundayPay+x.publicHolidayPay+x.overtimePay,b.grossPay+=x.totalPay,b),v)},[g]);return{awardClassifications:e,selectedAward:r,setSelectedAward:n,shifts:a,addShift:c,updateShift:u,removeShift:d,clearShifts:f,calculations:g,summary:p,loading:o}}function zfe({onAddShift:e}){const[t,r]=y.useState(new Date),[n,a]=y.useState("09:00"),[i,o]=y.useState("17:00"),[l,c]=y.useState("30"),[u,d]=y.useState(!1),[f,h]=y.useState(!1),m=g=>{g.preventDefault(),e({date:le(t,"yyyy-MM-dd"),startTime:n,endTime:i,breakMinutes:parseInt(l)||0,isPublicHoliday:u,isOvertime:f}),r(new Date),a("09:00"),o("17:00"),c("30"),d(!1),h(!1)};return s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Date"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:ne("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),t?le(t,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:t,onSelect:g=>g&&r(g),initialFocus:!0,className:"pointer-events-auto"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"startTime",children:"Start Time"}),s.jsx(Z,{id:"startTime",type:"time",value:n,onChange:g=>a(g.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"endTime",children:"End Time"}),s.jsx(Z,{id:"endTime",type:"time",value:i,onChange:g=>o(g.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"breakMinutes",children:"Break (mins)"}),s.jsx(Z,{id:"breakMinutes",type:"number",min:"0",max:"120",value:l,onChange:g=>c(g.target.value),placeholder:"30"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{className:"invisible",children:"Add"}),s.jsxs(I,{type:"submit",className:"w-full",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Shift"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{id:"publicHoliday",checked:u,onCheckedChange:g=>d(g===!0)}),s.jsx(V,{htmlFor:"publicHoliday",className:"text-sm cursor-pointer",children:"Public Holiday"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{id:"overtime",checked:f,onCheckedChange:g=>h(g===!0)}),s.jsx(V,{htmlFor:"overtime",className:"text-sm cursor-pointer",children:"Overtime"})]})]})]})}function Vfe({shifts:e,calculations:t,onRemoveShift:r,formatCurrency:n}){const a=o=>t.find(l=>l.shiftId===o),i=o=>{const l=new Date(o);return le(l,"EEE")};return e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No shifts added yet"}),s.jsx("p",{className:"text-sm",children:"Add shifts above to calculate payroll"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Time"}),s.jsx(ie,{children:"Hours"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{className:"text-right",children:"Pay"}),s.jsx(ie,{className:"w-[60px]"})]})}),s.jsx(gr,{children:e.map(o=>{const l=a(o.id);return s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:le(new Date(o.date),"dd MMM yyyy")}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",i(o.date),")"]})]})}),s.jsxs(te,{children:[o.startTime," - ",o.endTime,o.breakMinutes>0&&s.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(",o.breakMinutes,"m break)"]})]}),s.jsx(te,{children:l?s.jsxs("span",{children:[l.workedHours.toFixed(2)," hrs"]}):"-"}),s.jsx(te,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.isPublicHoliday&&s.jsx(de,{variant:"destructive",className:"text-xs",children:"Public Holiday"}),o.isOvertime&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Overtime"}),l&&l.saturdayHours>0&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Saturday"}),l&&l.sundayHours>0&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Sunday"}),l&&l.eveningHours>0&&!o.isOvertime&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Evening"}),l&&l.nightHours>0&&!o.isOvertime&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Night"}),l&&l.baseHours>0&&!o.isPublicHoliday&&!o.isOvertime&&s.jsx(de,{variant:"outline",className:"text-xs",children:"Base"})]})}),s.jsx(te,{className:"text-right font-medium",children:l?n(l.totalPay):"-"}),s.jsx(te,{children:s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>r(o.id),children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})})]},o.id)})})]})})}function qfe({summary:e,selectedAward:t,formatCurrency:r}){return s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.totalWorkedHours.toFixed(2)," hrs"]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-y-0.5",children:[s.jsxs("p",{children:["Base: ",e.baseHours.toFixed(2)," hrs"]}),s.jsxs("p",{children:["Penalty: ",e.penaltyHours.toFixed(2)," hrs"]})]})]})]}),s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Base Rate"}),s.jsx(Js,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[t?r(t.base_hourly_rate):"$0.00","/hr"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(t==null?void 0:t.name)||"No award selected"})]})]}),s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Gross Pay"}),s.jsx(zd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:r(e.grossPay)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Before tax & deductions"})]})]}),s.jsxs(G,{className:"md:col-span-3",children:[s.jsx(he,{children:s.jsx(pe,{className:"text-sm font-medium",children:"Pay Breakdown"})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Base Pay"}),s.jsx("span",{className:"font-medium",children:r(e.basePay)})]}),e.eveningPay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Evening Loading (",t==null?void 0:t.evening_multiplier,"x)"]}),s.jsx("span",{children:r(e.eveningPay)})]}),e.nightPay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Night Loading (",t==null?void 0:t.night_multiplier,"x)"]}),s.jsx("span",{children:r(e.nightPay)})]}),e.saturdayPay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Saturday Loading (",t==null?void 0:t.saturday_multiplier,"x)"]}),s.jsx("span",{children:r(e.saturdayPay)})]}),e.sundayPay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Sunday Loading (",t==null?void 0:t.sunday_multiplier,"x)"]}),s.jsx("span",{children:r(e.sundayPay)})]}),e.publicHolidayPay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Public Holiday (",t==null?void 0:t.public_holiday_multiplier,"x)"]}),s.jsx("span",{children:r(e.publicHolidayPay)})]}),e.overtimePay>0&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Overtime (",t==null?void 0:t.overtime_multiplier,"x)"]}),s.jsx("span",{children:r(e.overtimePay)})]}),s.jsx(St,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:"Total Penalty Pay"}),s.jsx("span",{className:"font-medium",children:r(e.totalPenaltyPay)})]}),s.jsx(St,{}),s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"font-bold",children:"Gross Pay"}),s.jsx("span",{className:"font-bold text-primary",children:r(e.grossPay)})]})]})})]})]})}function Wfe(){const{awardClassifications:e,selectedAward:t,setSelectedAward:r,shifts:n,addShift:a,removeShift:i,clearShifts:o,calculations:l,summary:c,loading:u}=Bfe(),d=h=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(h),f=h=>{const m=e.find(g=>g.id===h);m&&r(m)};return u?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payroll Calculator"}),s.jsx("p",{className:"text-muted-foreground",children:"Calculate employee wages based on award classifications and shift times"})]}),s.jsxs(Ll,{children:[s.jsx(XN,{className:"h-4 w-4"}),s.jsx(np,{children:"No Award Classifications"}),s.jsx(Fl,{children:"You need to create at least one award classification before using the payroll calculator. Go to Settings  Award Classifications to add pay rates and penalty multipliers."})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payroll Calculator"}),s.jsx("p",{className:"text-muted-foreground",children:"Calculate employee wages based on award classifications and shift times"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kG,{className:"h-5 w-5 text-primary"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.length," shifts"]})]})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Award Classification"}),s.jsx(Fe,{children:"Select the award classification to use for pay calculations"})]}),s.jsx(X,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[s.jsxs("div",{className:"space-y-2 flex-1 max-w-md",children:[s.jsx(V,{children:"Select Award"}),s.jsxs($e,{value:(t==null?void 0:t.id)||"",onValueChange:f,children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select an award classification"})}),s.jsx(Re,{children:e.map(h=>s.jsxs(H,{value:h.id,children:[h.name," - ",d(h.base_hourly_rate),"/hr"]},h.id))})]})]}),t&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-md flex-1",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"Penalty Rates:"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1",children:[s.jsxs("span",{children:["Saturday: ",t.saturday_multiplier,"x"]}),s.jsxs("span",{children:["Sunday: ",t.sunday_multiplier,"x"]}),s.jsxs("span",{children:["Public Holiday: ",t.public_holiday_multiplier,"x"]}),s.jsxs("span",{children:["Evening: ",t.evening_multiplier,"x"]}),s.jsxs("span",{children:["Night: ",t.night_multiplier,"x"]}),s.jsxs("span",{children:["Overtime: ",t.overtime_multiplier,"x"]})]})]})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Add Shifts"}),s.jsx(Fe,{children:"Enter shift details to calculate pay. Evening: 6pm-11pm, Night: 11pm-6am"})]}),n.length>0&&s.jsxs(I,{variant:"outline",size:"sm",onClick:o,children:[s.jsx(TF,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),s.jsx(X,{children:s.jsx(zfe,{onAddShift:a})})]}),n.length>0&&s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Shifts"}),s.jsx(Fe,{children:"All entered shifts with calculated pay"})]}),s.jsx(X,{children:s.jsx(Vfe,{shifts:n,calculations:l,onRemoveShift:i,formatCurrency:d})})]}),n.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Pay Summary"}),s.jsx(qfe,{summary:c,selectedAward:t,formatCurrency:d})]})]})}class Hfe{async getPayPeriods(t){const{data:r,error:n}=await M.from("pay_periods").select("*").eq("organisation_id",t).order("start_date",{ascending:!1});if(n)throw n;return r||[]}async createPayPeriod(t,r){var o;const{data:{user:n}}=await M.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:a,error:i}=await M.from("pay_periods").insert({organisation_id:t,start_date:r.start_date,end_date:r.end_date,created_by_user_id:n.id,created_by_name:((o=n.user_metadata)==null?void 0:o.display_name)||n.email,created_by_email:n.email}).select().single();if(i)throw i;return await Nr.log({action:"pay_period.create",entityType:"pay_period",entityId:a.id,organisationId:t,afterState:{start_date:r.start_date,end_date:r.end_date}}),a}async updatePayPeriodStatus(t,r){const{data:{user:n}}=await M.auth.getUser(),a={status:r};r==="closed"&&(a.closed_at=new Date().toISOString(),a.closed_by_user_id=n==null?void 0:n.id);const{data:i,error:o}=await M.from("pay_periods").update(a).eq("id",t).select().single();if(o)throw o;return await Nr.log({action:r==="closed"?"pay_period.close":"pay_period.update",entityType:"pay_period",entityId:t,organisationId:i.organisation_id,afterState:{status:r}}),i}async getMappings(t){const{data:r,error:n}=await M.from("payroll_mappings").select("*").eq("organisation_id",t).order("shift_type");if(n)throw n;return r||[]}async createMapping(t,r){const{data:n,error:a}=await M.from("payroll_mappings").insert({organisation_id:t,shift_type:r.shift_type,earning_code:r.earning_code,description:r.description||null,multiplier:r.multiplier||1,applies_when:r.applies_when||null}).select().single();if(a)throw a;return n}async updateMapping(t,r){const n={};r.shift_type!==void 0&&(n.shift_type=r.shift_type),r.earning_code!==void 0&&(n.earning_code=r.earning_code),r.description!==void 0&&(n.description=r.description),r.multiplier!==void 0&&(n.multiplier=r.multiplier),r.applies_when!==void 0&&(n.applies_when=r.applies_when);const{data:a,error:i}=await M.from("payroll_mappings").update(n).eq("id",t).select().single();if(i)throw i;return a}async deleteMapping(t){const{error:r}=await M.from("payroll_mappings").delete().eq("id",t);if(r)throw r}async validateExport(t,r,n){const a=[],i=[],{data:o,error:l}=await M.from("pay_periods").select("*").eq("id",r).single();if(l||!o)return a.push({type:"invalid_dates",message:"Pay period not found"}),{isValid:!1,errors:a,warnings:i,timesheets:[]};const{data:c,error:u}=await M.from("timesheets").select(`
        id,
        employee_id,
        date,
        clock_in,
        clock_out,
        break_minutes,
        total_hours,
        status,
        notes,
        is_locked,
        exported_at
      `).eq("organisation_id",t).gte("date",o.start_date).lte("date",o.end_date).order("date");if(u)throw u;const d=[...new Set((c||[]).map(v=>v.employee_id))],{data:f}=await M.from("employees").select("id, first_name, last_name, email").in("id",d),h=new Map((f||[]).map(v=>[v.id,{name:`${v.first_name} ${v.last_name}`,email:v.email}])),m=new Map(n.map(v=>[v.shift_type,v.earning_code])),g=[],p=new Map;for(const v of c||[]){const b=h.get(v.employee_id),x=(b==null?void 0:b.name)||"Unknown",w=b==null?void 0:b.email;if(v.status!=="approved"){a.push({type:"unapproved",message:`Timesheet for ${x} on ${v.date} is not approved (status: ${v.status})`,employeeId:v.employee_id,employeeName:x});continue}if(v.is_locked&&v.exported_at){i.push({type:"duplicate",message:`Timesheet for ${x} on ${v.date} was already exported`,employeeId:v.employee_id,employeeName:x,date:v.date});continue}w||a.push({type:"missing_identifier",message:`Employee ${x} has no email address for payroll export`,employeeId:v.employee_id,employeeName:x});const _="standard";m.has(_)||a.push({type:"missing_mapping",message:`No payroll mapping found for shift type: ${_}`,shiftType:_});const j=`${v.employee_id}-${v.date}`;p.has(j)||p.set(j,[]);const N=p.get(j);N.length>0&&i.push({type:"overlap",message:`Multiple timesheets for ${x} on ${v.date}`,employeeId:v.employee_id,employeeName:x,date:v.date}),N.push(v.id),v.total_hours&&v.total_hours>12&&i.push({type:"long_shift",message:`Long shift (${v.total_hours.toFixed(1)}h) for ${x} on ${v.date}`,employeeId:v.employee_id,employeeName:x,date:v.date}),g.push({id:v.id,employee_id:v.employee_id,employee_name:x,employee_email:w,date:v.date,clock_in:v.clock_in,clock_out:v.clock_out,break_minutes:v.break_minutes||0,total_hours:v.total_hours,status:v.status,notes:v.notes,shift_type:_,is_locked:v.is_locked||!1,exported_at:v.exported_at})}return{isValid:a.length===0,errors:a,warnings:i,timesheets:g}}async getExports(t){const{data:r,error:n}=await M.from("payroll_exports").select(`
        *,
        pay_period:pay_periods(*)
      `).eq("organisation_id",t).order("created_at",{ascending:!1});if(n)throw n;return(r||[]).map(a=>({...a,file_urls:a.file_urls||[],totals_summary:this.parseTotalsSummary(a.totals_summary)}))}parseTotalsSummary(t){if(!t||typeof t!="object"||Array.isArray(t))return{totalHours:0,employeesCount:0,linesCount:0};const r=t;return{totalHours:typeof r.totalHours=="number"?r.totalHours:0,employeesCount:typeof r.employeesCount=="number"?r.employeesCount:0,linesCount:typeof r.linesCount=="number"?r.linesCount:0,totalEarnings:typeof r.totalEarnings=="number"?r.totalEarnings:void 0}}async generateExport(t,r,n,a){var g;const{data:{user:i}}=await M.auth.getUser();if(!i)throw new Error("Not authenticated");const o=this.generateCSVContent(r.provider,a,n),l=`export_${r.pay_period_id}_${r.provider}_${Date.now()}.csv`,c=`${t}/${l}`,{error:u}=await M.storage.from("payroll-exports").upload(c,new Blob([o],{type:"text/csv"}));if(u)throw u;const d={totalHours:a.reduce((p,v)=>p+(v.total_hours||0),0),employeesCount:new Set(a.map(p=>p.employee_id)).size,linesCount:a.length},{data:f,error:h}=await M.from("payroll_exports").insert({organisation_id:t,pay_period_id:r.pay_period_id,provider:r.provider,file_urls:[c],totals_summary:d,created_by_user_id:i.id,created_by_name:((g=i.user_metadata)==null?void 0:g.display_name)||i.email,created_by_email:i.email}).select().single();if(h)throw h;const m=a.map(p=>p.id);return await M.rpc("lock_timesheets_for_export",{_timesheet_ids:m,_pay_period_id:r.pay_period_id}),await this.updatePayPeriodStatus(r.pay_period_id,"exported"),await Nr.log({action:"payroll_export.generate",entityType:"payroll_export",entityId:f.id,organisationId:t,afterState:{provider:r.provider,timesheets_count:m.length,total_hours:d.totalHours,employees_count:d.employeesCount}}),{...f,file_urls:f.file_urls||[],totals_summary:d}}generateCSVContent(t,r,n){const a=new Map(n.map(i=>[i.shift_type,i.earning_code]));switch(t){case"generic_csv":return this.generateGenericCSV(r,a);case"keypay":return this.generateKeyPayCSV(r,a);case"xero":return this.generateXeroCSV(r,a);case"myob":return this.generateMYOBCSV(r,a);default:return this.generateGenericCSV(r,a)}}escapeCSV(t){if(t==null)return"";const r=String(t);return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r}generateGenericCSV(t,r){const n=["employee_email","employee_name","date","start_time","end_time","break_minutes","hours","earning_code","cost_center","notes"],a=t.map(i=>{var o;return[this.escapeCSV(i.employee_email),this.escapeCSV(i.employee_name),this.escapeCSV(i.date),this.escapeCSV(i.clock_in),this.escapeCSV(i.clock_out),this.escapeCSV(i.break_minutes),this.escapeCSV((o=i.total_hours)==null?void 0:o.toFixed(2)),this.escapeCSV(r.get(i.shift_type||"standard")||"ORD"),"",this.escapeCSV(i.notes)]});return[n.join(","),...a.map(i=>i.join(","))].join(`
`)}generateKeyPayCSV(t,r){const n=["Employee Email","Location","Date","Earnings Category","Units","Notes"],a=t.map(i=>{var o;return[this.escapeCSV(i.employee_email),"",this.escapeCSV(i.date),this.escapeCSV(r.get(i.shift_type||"standard")||"Ordinary Hours"),this.escapeCSV((o=i.total_hours)==null?void 0:o.toFixed(2)),this.escapeCSV(i.notes)]});return[n.join(","),...a.map(i=>i.join(","))].join(`
`)}generateXeroCSV(t,r){const n=["Employee Email","Earnings Rate Code","Units","Date"],a=t.map(i=>{var o;return[this.escapeCSV(i.employee_email),this.escapeCSV(r.get(i.shift_type||"standard")||"ORD"),this.escapeCSV((o=i.total_hours)==null?void 0:o.toFixed(2)),this.escapeCSV(i.date)]});return[n.join(","),...a.map(i=>i.join(","))].join(`
`)}generateMYOBCSV(t,r){const n=["Employee Email","Payroll Category","Units","Date"],a=t.map(i=>{var o;return[this.escapeCSV(i.employee_email),this.escapeCSV(r.get(i.shift_type||"standard")||"Base Hourly"),this.escapeCSV((o=i.total_hours)==null?void 0:o.toFixed(2)),this.escapeCSV(i.date)]});return[n.join(","),...a.map(i=>i.join(","))].join(`
`)}async getDownloadUrl(t){const{data:r,error:n}=await M.storage.from("payroll-exports").createSignedUrl(t,3600);if(n)throw n;return r.signedUrl}async voidExport(t,r){var o;const{data:{user:n}}=await M.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:a,error:i}=await M.from("payroll_exports").update({status:"voided",voided_at:new Date().toISOString(),voided_by_user_id:n.id,voided_by_name:((o=n.user_metadata)==null?void 0:o.display_name)||n.email,voided_reason:r}).eq("id",t).select().single();if(i)throw i;return await Nr.log({action:"payroll_export.void",entityType:"payroll_export",entityId:t,organisationId:a.organisation_id,afterState:{reason:r,voided_at:a.voided_at}}),{...a,file_urls:a.file_urls||[],totals_summary:this.parseTotalsSummary(a.totals_summary)}}async unlockTimesheet(t,r){var o;const{data:{user:n}}=await M.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:a,error:i}=await M.rpc("unlock_timesheet",{_timesheet_id:t,_user_id:n.id,_user_name:((o=n.user_metadata)==null?void 0:o.display_name)||n.email,_user_email:n.email,_reason:r});if(i)throw i;return await Nr.log({action:"timesheet.unlock",entityType:"timesheet",entityId:t,afterState:{reason:r,unlocked_at:new Date().toISOString()}}),a}}const Ms=new Hfe;function Kfe(e){const t=oi(),{data:r}=sr({queryKey:["default-organisation"],queryFn:async()=>{const{data:C,error:P}=await M.from("organisations").select("id").limit(1).maybeSingle();if(P)throw P;return C},enabled:!e}),n=r==null?void 0:r.id,{data:a=[],isLoading:i}=sr({queryKey:["pay-periods",n],queryFn:async()=>n?Ms.getPayPeriods(n):[],enabled:!!n}),o=Gt({mutationFn:async C=>{if(!n)throw new Error("Organisation not found");return Ms.createPayPeriod(n,C)},onSuccess:()=>{t.invalidateQueries({queryKey:["pay-periods",n]}),re({title:"Pay Period Created",description:"The pay period has been created successfully."})},onError:C=>{console.error("[usePayrollExport] Create pay period failed:",C),re({title:"Error",description:"Failed to create pay period. Please try again.",variant:"destructive"})}}),l=Gt({mutationFn:async C=>Ms.updatePayPeriodStatus(C,"closed"),onSuccess:()=>{t.invalidateQueries({queryKey:["pay-periods",n]}),re({title:"Pay Period Closed",description:"The pay period has been closed."})},onError:C=>{console.error("[usePayrollExport] Close pay period failed:",C),re({title:"Error",description:"Failed to close pay period.",variant:"destructive"})}}),{data:c=[],isLoading:u}=sr({queryKey:["payroll-mappings",n],queryFn:async()=>n?Ms.getMappings(n):[],enabled:!!n}),d=Gt({mutationFn:async C=>{if(!n)throw new Error("Organisation not found");return Ms.createMapping(n,C)},onSuccess:()=>{t.invalidateQueries({queryKey:["payroll-mappings",n]}),re({title:"Mapping Created",description:"Payroll mapping has been created."})},onError:C=>{console.error("[usePayrollExport] Create mapping failed:",C),re({title:"Error",description:"Failed to create mapping.",variant:"destructive"})}}),f=Gt({mutationFn:async({id:C,updates:P})=>Ms.updateMapping(C,P),onSuccess:()=>{t.invalidateQueries({queryKey:["payroll-mappings",n]}),re({title:"Mapping Updated",description:"Payroll mapping has been updated."})},onError:C=>{console.error("[usePayrollExport] Update mapping failed:",C),re({title:"Error",description:"Failed to update mapping.",variant:"destructive"})}}),h=Gt({mutationFn:async C=>Ms.deleteMapping(C),onSuccess:()=>{t.invalidateQueries({queryKey:["payroll-mappings",n]}),re({title:"Mapping Deleted",description:"Payroll mapping has been removed."})},onError:C=>{console.error("[usePayrollExport] Delete mapping failed:",C),re({title:"Error",description:"Failed to delete mapping.",variant:"destructive"})}}),m=Gt({mutationFn:async C=>{if(!n)throw new Error("Organisation not found");return Ms.validateExport(n,C,c)}}),{data:g=[],isLoading:p}=sr({queryKey:["payroll-exports",n],queryFn:async()=>n?Ms.getExports(n):[],enabled:!!n}),v=Gt({mutationFn:async({payPeriodId:C,provider:P,timesheets:A})=>{if(!n)throw new Error("Organisation not found");return Ms.generateExport(n,{pay_period_id:C,provider:P,timesheet_ids:A.map(E=>E.id)},c,A)},onSuccess:()=>{t.invalidateQueries({queryKey:["payroll-exports",n]}),t.invalidateQueries({queryKey:["pay-periods",n]}),t.invalidateQueries({queryKey:["timesheets",n]}),re({title:"Export Generated",description:"Payroll export has been generated successfully."})},onError:C=>{console.error("[usePayrollExport] Generate export failed:",C),re({title:"Error",description:"Failed to generate export.",variant:"destructive"})}}),b=Gt({mutationFn:async({exportId:C,reason:P})=>Ms.voidExport(C,P),onSuccess:()=>{t.invalidateQueries({queryKey:["payroll-exports",n]}),re({title:"Export Voided",description:"The export has been voided."})},onError:C=>{console.error("[usePayrollExport] Void export failed:",C),re({title:"Error",description:"Failed to void export.",variant:"destructive"})}}),x=Gt({mutationFn:async C=>Ms.getDownloadUrl(C),onError:C=>{console.error("[usePayrollExport] Get download URL failed:",C),re({title:"Error",description:"Failed to get download link.",variant:"destructive"})}}),w=Gt({mutationFn:async({timesheetId:C,reason:P})=>Ms.unlockTimesheet(C,P),onSuccess:()=>{t.invalidateQueries({queryKey:["timesheets",n]}),re({title:"Timesheet Unlocked",description:"The timesheet has been unlocked for editing."})},onError:C=>{console.error("[usePayrollExport] Unlock timesheet failed:",C),re({title:"Error",description:"Failed to unlock timesheet.",variant:"destructive"})}}),_=a.filter(C=>C.status==="open"),j=a.filter(C=>C.status==="exported"),N=a.filter(C=>C.status==="closed"),S=g.filter(C=>C.status==="generated"),k=g.filter(C=>C.status==="voided");return{payPeriods:a,openPayPeriods:_,exportedPayPeriods:j,closedPayPeriods:N,mappings:c,exports:g,activeExports:S,voidedExports:k,organisationId:n,isLoading:i||u||p,isLoadingPayPeriods:i,isLoadingMappings:u,isLoadingExports:p,createPayPeriod:o.mutateAsync,closePayPeriod:l.mutateAsync,isCreatingPayPeriod:o.isPending,createMapping:d.mutateAsync,updateMapping:(C,P)=>f.mutateAsync({id:C,updates:P}),deleteMapping:h.mutateAsync,isCreatingMapping:d.isPending,validateExport:m.mutateAsync,isValidating:m.isPending,validationResult:m.data,generateExport:v.mutateAsync,voidExport:(C,P)=>b.mutateAsync({exportId:C,reason:P}),getDownloadUrl:x.mutateAsync,isGenerating:v.isPending,isVoiding:b.isPending,isDownloading:x.isPending,unlockTimesheet:(C,P)=>w.mutateAsync({timesheetId:C,reason:P}),isUnlocking:w.isPending}}function QT({payPeriods:e,onCreatePayPeriod:t,onClosePayPeriod:r,onSelectPayPeriod:n,selectedPayPeriodId:a,isCreating:i}){const[o,l]=y.useState(!1),[c,u]=y.useState(""),[d,f]=y.useState(""),h=async()=>{!c||!d||(await t({start_date:c,end_date:d}),l(!1),u(""),f(""))},m=g=>{switch(g){case"open":return s.jsx(de,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:"Open"});case"exported":return s.jsx(de,{variant:"outline",className:"bg-accent/50 text-accent-foreground border-accent/30",children:"Exported"});case"closed":return s.jsx(de,{variant:"outline",className:"bg-muted text-muted-foreground border-muted",children:"Closed"})}};return s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ht,{className:"h-5 w-5"}),"Pay Periods"]}),s.jsx(Fe,{children:"Manage pay periods for payroll exports"})]}),s.jsxs(Mt,{open:o,onOpenChange:l,children:[s.jsx(av,{asChild:!0,children:s.jsxs(I,{size:"sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"New Pay Period"]})}),s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Pay Period"}),s.jsx(Dt,{children:"Define the date range for this pay period"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Z,{id:"start_date",type:"date",value:c,onChange:g=>u(g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"end_date",children:"End Date"}),s.jsx(Z,{id:"end_date",type:"date",value:d,onChange:g=>f(g.target.value)})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(I,{onClick:h,disabled:i||!c||!d,children:[i&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Create"]})]})]})]})]}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No pay periods created yet"}),s.jsx("p",{className:"text-sm",children:"Create a pay period to start exporting payroll"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Period"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Created By"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:e.map(g=>s.jsxs(Ve,{className:a===g.id?"bg-muted/50":"",children:[s.jsxs(te,{className:"font-medium",children:[le(new Date(g.start_date),"dd MMM yyyy")," -"," ",le(new Date(g.end_date),"dd MMM yyyy")]}),s.jsx(te,{children:m(g.status)}),s.jsx(te,{className:"text-sm text-muted-foreground",children:g.created_by_name||g.created_by_email}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.status==="open"&&s.jsx(I,{size:"sm",variant:a===g.id?"default":"outline",onClick:()=>n(g),children:"Select"}),g.status==="exported"&&s.jsxs(I,{size:"sm",variant:"outline",onClick:()=>r(g.id),children:[s.jsx(fu,{className:"h-4 w-4 mr-1"}),"Close"]}),g.status==="closed"&&s.jsx(bt,{className:"h-4 w-4 text-green-600"})]})})]},g.id))})]})})]})}function Gfe({mappings:e,onCreateMapping:t,onUpdateMapping:r,onDeleteMapping:n,isCreating:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState({shift_type:"",earning_code:"",description:"",multiplier:1}),f=()=>{c(null),d({shift_type:"",earning_code:"",description:"",multiplier:1}),o(!0)},h=p=>{c(p),d({shift_type:p.shift_type,earning_code:p.earning_code,description:p.description||"",multiplier:p.multiplier}),o(!0)},m=async()=>{!u.shift_type||!u.earning_code||(l?await r(l.id,u):await t(u),o(!1))},g=async p=>{confirm("Are you sure you want to delete this mapping?")&&await n(p)};return s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(QN,{className:"h-5 w-5"}),"Payroll Mappings"]}),s.jsx(Fe,{children:"Map shift types to payroll earning codes"})]}),s.jsxs(Mt,{open:i,onOpenChange:o,children:[s.jsx(av,{asChild:!0,children:s.jsxs(I,{size:"sm",onClick:f,children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Mapping"]})}),s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:l?"Edit Mapping":"Create Mapping"}),s.jsx(Dt,{children:"Map a shift type to a payroll earning code"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"shift_type",children:"Shift Type"}),s.jsx(Z,{id:"shift_type",placeholder:"e.g., standard, overtime, weekend",value:u.shift_type,onChange:p=>d({...u,shift_type:p.target.value}),disabled:!!l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"earning_code",children:"Earning Code"}),s.jsx(Z,{id:"earning_code",placeholder:"e.g., ORD, OT1.5, SAT",value:u.earning_code,onChange:p=>d({...u,earning_code:p.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(Z,{id:"description",placeholder:"e.g., Ordinary Hours",value:u.description,onChange:p=>d({...u,description:p.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"multiplier",children:"Multiplier"}),s.jsx(Z,{id:"multiplier",type:"number",step:"0.1",min:"0",value:u.multiplier,onChange:p=>d({...u,multiplier:parseFloat(p.target.value)||1})})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(I,{onClick:m,disabled:a||!u.shift_type||!u.earning_code,children:[a&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),l?"Update":"Create"]})]})]})]})]}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(QN,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No payroll mappings configured"}),s.jsx("p",{className:"text-sm",children:"Add mappings to export timesheets with earning codes"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Shift Type"}),s.jsx(ie,{children:"Earning Code"}),s.jsx(ie,{children:"Description"}),s.jsx(ie,{children:"Multiplier"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:e.map(p=>s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium font-mono",children:p.shift_type}),s.jsx(te,{className:"font-mono",children:p.earning_code}),s.jsx(te,{className:"text-muted-foreground",children:p.description||"-"}),s.jsxs(te,{children:[p.multiplier,"x"]}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(I,{size:"icon",variant:"ghost",onClick:()=>h(p),children:s.jsx(Pp,{className:"h-4 w-4"})}),s.jsx(I,{size:"icon",variant:"ghost",className:"text-destructive",onClick:()=>g(p.id),children:s.jsx(Qn,{className:"h-4 w-4"})})]})})]},p.id))})]})})]})}var XE="Radio",[Yfe,oz]=Vr(XE),[Xfe,Qfe]=Yfe(XE),lz=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),m=He(t,v=>h(v)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(Xfe,{scope:r,checked:a,disabled:o,children:[s.jsx(Ce.button,{type:"button",role:"radio","aria-checked":a,"data-state":fz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:me(e.onClick,v=>{a||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&s.jsx(dz,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});lz.displayName=XE;var cz="RadioIndicator",uz=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Qfe(cz,r);return s.jsx(tn,{present:n||i.checked,children:s.jsx(Ce.span,{"data-state":fz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});uz.displayName=cz;var Zfe="RadioBubbleInput",dz=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=He(o,i),c=ev(r),u=Vg(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx(Ce.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dz.displayName=Zfe;function fz(e){return e?"checked":"unchecked"}var Jfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cw="RadioGroup",[ehe,H3e]=Vr(cw,[jh,oz]),hz=jh(),mz=oz(),[the,rhe]=ehe(cw),pz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=hz(r),g=nc(u),[p,v]=Vn({prop:i,defaultProp:a??null,onChange:f,caller:cw});return s.jsx(the,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:s.jsx(Jk,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(Ce.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});pz.displayName=cw;var gz="RadioGroupItem",vz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=rhe(gz,r),o=i.disabled||n,l=hz(r),c=mz(r),u=y.useRef(null),d=He(t,u),f=i.value===a.value,h=y.useRef(!1);return y.useEffect(()=>{const m=p=>{Jfe.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(eE,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(lz,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:me(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:me(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});vz.displayName=gz;var nhe="RadioGroupIndicator",yz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=mz(r);return s.jsx(uz,{...a,...n,ref:t})});yz.displayName=nhe;var xz=pz,bz=vz,she=yz;const wz=y.forwardRef(({className:e,...t},r)=>s.jsx(xz,{className:ne("grid gap-2",e),...t,ref:r}));wz.displayName=xz.displayName;const jz=y.forwardRef(({className:e,...t},r)=>s.jsx(bz,{ref:r,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(she,{className:"flex items-center justify-center",children:s.jsx(b0,{className:"h-2.5 w-2.5 fill-current text-current"})})}));jz.displayName=bz.displayName;const Vy={generic_csv:"Generic Payroll CSV",keypay:"KeyPay Import",xero:"Xero Payroll",myob:"MYOB Payroll"},ahe={generic_csv:"Standard CSV format compatible with most payroll systems",keypay:"KeyPay timesheet/earnings lines import format",xero:"Xero Payroll earnings import format",myob:"MYOB Payroll categories import format"};function ihe({selectedPayPeriod:e,validationResult:t,isValidating:r,isGenerating:n,onValidate:a,onGenerate:i,onDownload:o}){const[l,c]=y.useState("provider"),[u,d]=y.useState("generic_csv"),[f,h]=y.useState(null);y.useState(null);const m=async()=>{e&&(await a(e.id),c("validation"))},g=async()=>{!e||!t||(await i(e.id,u,t.timesheets),c("complete"))},p=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select Export Format"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose the payroll system you're exporting to"})]}),s.jsx(wz,{value:u,onValueChange:w=>d(w),className:"space-y-3",children:Object.keys(Vy).map(w=>s.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border cursor-pointer transition-colors ${u===w?"border-primary bg-primary/5":"border-border hover:bg-muted/50"}`,onClick:()=>d(w),children:[s.jsx(jz,{value:w,id:w,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(V,{htmlFor:w,className:"font-medium cursor-pointer",children:Vy[w]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ahe[w]})]})]},w))}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(I,{onClick:m,disabled:r,children:[r&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Validate & Continue",s.jsx(YN,{className:"h-4 w-4 ml-2"})]})})]}),v=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Validation Results"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review any issues before generating the export"})]}),t&&s.jsx(de,{variant:t.isValid?"outline":"destructive",className:t.isValid?"bg-green-50 text-green-700 border-green-200":"",children:t.isValid?"Valid":"Has Errors"})]}),(t==null?void 0:t.errors)&&t.errors.length>0&&s.jsxs(Ll,{variant:"destructive",children:[s.jsx(uu,{className:"h-4 w-4"}),s.jsxs(np,{children:["Errors (",t.errors.length,")"]}),s.jsx(Fl,{children:s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[t.errors.slice(0,5).map((w,_)=>s.jsx("li",{className:"text-sm",children:w.message},_)),t.errors.length>5&&s.jsxs("li",{className:"text-sm",children:["...and ",t.errors.length-5," more"]})]})})]}),(t==null?void 0:t.warnings)&&t.warnings.length>0&&s.jsxs(Ll,{children:[s.jsx(lr,{className:"h-4 w-4"}),s.jsxs(np,{children:["Warnings (",t.warnings.length,")"]}),s.jsx(Fl,{children:s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[t.warnings.slice(0,5).map((w,_)=>s.jsx("li",{className:"text-sm",children:w.message},_)),t.warnings.length>5&&s.jsxs("li",{className:"text-sm",children:["...and ",t.warnings.length-5," more"]})]})})]}),(t==null?void 0:t.timesheets)&&t.timesheets.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Timesheets to Export (",t.timesheets.length,")"]}),s.jsx("div",{className:"border rounded-lg max-h-64 overflow-auto",children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Hours"})]})}),s.jsxs(gr,{children:[t.timesheets.slice(0,10).map(w=>{var _;return s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:w.employee_name}),s.jsx(te,{children:le(new Date(w.date),"dd MMM yyyy")}),s.jsx(te,{children:((_=w.total_hours)==null?void 0:_.toFixed(2))||"-"})]},w.id)}),t.timesheets.length>10&&s.jsx(Ve,{children:s.jsxs(te,{colSpan:3,className:"text-center text-muted-foreground",children:["...and ",t.timesheets.length-10," more timesheets"]})})]})]})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(I,{variant:"outline",onClick:()=>c("provider"),children:[s.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs(I,{onClick:()=>c("confirm"),disabled:!(t!=null&&t.isValid)||t.timesheets.length===0,children:["Continue to Export",s.jsx(YN,{className:"h-4 w-4 ml-2"})]})]})]}),b=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Confirm Export"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review the export details before generating"})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Format"}),s.jsx("span",{className:"font-medium",children:Vy[u]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pay Period"}),s.jsx("span",{className:"font-medium",children:e&&`${le(new Date(e.start_date),"dd MMM")} - ${le(new Date(e.end_date),"dd MMM yyyy")}`})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Timesheets"}),s.jsx("span",{className:"font-medium",children:(t==null?void 0:t.timesheets.length)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Hours"}),s.jsx("span",{className:"font-medium",children:(t==null?void 0:t.timesheets.reduce((w,_)=>w+(_.total_hours||0),0).toFixed(2))||"0"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Employees"}),s.jsx("span",{className:"font-medium",children:new Set(t==null?void 0:t.timesheets.map(w=>w.employee_id)).size||0})]})]}),s.jsxs(Ll,{children:[s.jsx(lr,{className:"h-4 w-4"}),s.jsx(np,{children:"Important"}),s.jsx(Fl,{children:"Exporting will lock these timesheets from further editing. Make sure all entries are correct before proceeding."})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(I,{variant:"outline",onClick:()=>c("validation"),children:[s.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs(I,{onClick:g,disabled:n,children:[n&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Generate Export",s.jsx(Pd,{className:"h-4 w-4 ml-2"})]})]})]}),x=()=>s.jsxs("div",{className:"space-y-6 text-center py-8",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(AG,{className:"h-8 w-8 text-green-600"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Export Complete!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payroll export has been generated and timesheets have been locked."})]}),s.jsx("div",{className:"flex justify-center gap-4",children:s.jsx(I,{variant:"outline",onClick:()=>{c("provider"),h(null)},children:"Create Another Export"})})]});return e?s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Pd,{className:"h-5 w-5"}),"Export Wizard"]}),s.jsxs(Fe,{children:["Exporting for: ",le(new Date(e.start_date),"dd MMM")," -"," ",le(new Date(e.end_date),"dd MMM yyyy")]})]}),s.jsxs(X,{children:[s.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:["provider","validation","confirm","complete"].map((w,_)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-sm font-medium ${l===w?"bg-primary text-primary-foreground":["provider","validation","confirm","complete"].indexOf(l)>_?"bg-green-100 text-green-700":"bg-muted text-muted-foreground"}`,children:_+1}),_<3&&s.jsx("div",{className:"w-8 h-0.5 bg-muted mx-1"})]},w))}),l==="provider"&&p(),l==="validation"&&v(),l==="confirm"&&b(),l==="complete"&&x()]})]}):s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Pd,{className:"h-5 w-5"}),"Export Wizard"]}),s.jsx(Fe,{children:"Select a pay period to begin the export process"})]}),s.jsx(X,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Pd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No pay period selected"}),s.jsx("p",{className:"text-sm",children:"Select an open pay period from the list above"})]})})]})}function ohe({exports:e,onDownload:t,onVoid:r,isVoiding:n,isDownloading:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(""),f=async p=>{const v=await t(p);window.open(v,"_blank")},h=p=>{c(p),d(""),o(!0)},m=async()=>{!l||!u.trim()||(await r(l.id,u),o(!1),c(null),d(""))},g=p=>{switch(p){case"generated":return s.jsx(de,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:"Generated"});case"voided":return s.jsx(de,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20",children:"Voided"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(Qa,{className:"h-5 w-5"}),"Export History"]}),s.jsx(Fe,{children:"View and download previous payroll exports"})]}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Pd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No exports yet"}),s.jsx("p",{className:"text-sm",children:"Generate your first payroll export to see it here"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Pay Period"}),s.jsx(ie,{children:"Provider"}),s.jsx(ie,{children:"Summary"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Created By"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:e.map(p=>s.jsxs(Ve,{className:p.status==="voided"?"opacity-60":"",children:[s.jsx(te,{className:"font-medium",children:le(new Date(p.created_at),"dd MMM yyyy HH:mm")}),s.jsx(te,{children:p.pay_period&&s.jsxs("span",{className:"text-sm",children:[le(new Date(p.pay_period.start_date),"dd MMM")," -"," ",le(new Date(p.pay_period.end_date),"dd MMM")]})}),s.jsx(te,{children:Vy[p.provider]}),s.jsxs(te,{className:"text-sm text-muted-foreground",children:[p.totals_summary.linesCount," lines, ",p.totals_summary.totalHours.toFixed(1),"h,"," ",p.totals_summary.employeesCount," employees"]}),s.jsx(te,{children:g(p.status)}),s.jsx(te,{className:"text-sm text-muted-foreground",children:p.created_by_name||p.created_by_email}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[p.file_urls.length>0&&s.jsx(I,{size:"icon",variant:"ghost",onClick:()=>f(p.file_urls[0]),disabled:a,children:a?s.jsx(Xe,{className:"h-4 w-4 animate-spin"}):s.jsx(Ps,{className:"h-4 w-4"})}),p.status==="generated"&&s.jsx(I,{size:"icon",variant:"ghost",className:"text-destructive",onClick:()=>h(p),children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},p.id))})]})})]}),s.jsx(Mt,{open:i,onOpenChange:o,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Void Export"}),s.jsx(Dt,{children:"This will mark the export as voided. The file will remain but won't be considered valid. A reason is required for audit purposes."})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"void_reason",children:"Reason for Voiding"}),s.jsx(_t,{id:"void_reason",placeholder:"Enter the reason for voiding this export...",value:u,onChange:p=>d(p.target.value),rows:3})]})}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(I,{variant:"destructive",onClick:m,disabled:n||!u.trim(),children:[n&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Void Export"]})]})]})})]})}function lhe(){const[e,t]=y.useState("export"),[r,n]=y.useState(null),{payPeriods:a,mappings:i,exports:o,isLoading:l,createPayPeriod:c,closePayPeriod:u,isCreatingPayPeriod:d,createMapping:f,updateMapping:h,deleteMapping:m,isCreatingMapping:g,validateExport:p,isValidating:v,validationResult:b,generateExport:x,isGenerating:w,voidExport:_,isVoiding:j,getDownloadUrl:N,isDownloading:S}=Kfe();return l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payroll Export"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Generate payroll-ready CSV exports from approved timesheets"})]}),s.jsxs(jn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"export",className:"flex items-center gap-2",children:[s.jsx(Pd,{className:"h-4 w-4"}),"Export Wizard"]}),s.jsxs(Be,{value:"periods",className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),"Pay Periods"]}),s.jsxs(Be,{value:"mappings",className:"flex items-center gap-2",children:[s.jsx(QN,{className:"h-4 w-4"}),"Mappings"]}),s.jsxs(Be,{value:"history",className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-4 w-4"}),"History"]})]}),s.jsxs(et,{value:"export",className:"space-y-6",children:[s.jsx(QT,{payPeriods:a.filter(k=>k.status==="open"),onCreatePayPeriod:c,onClosePayPeriod:u,onSelectPayPeriod:n,selectedPayPeriodId:r==null?void 0:r.id,isCreating:d}),s.jsx(ihe,{selectedPayPeriod:r,validationResult:b||null,isValidating:v,isGenerating:w,onValidate:p,onGenerate:async(k,C,P)=>{await x({payPeriodId:k,provider:C,timesheets:P}),n(null)},onDownload:N})]}),s.jsx(et,{value:"periods",children:s.jsx(QT,{payPeriods:a,onCreatePayPeriod:c,onClosePayPeriod:u,onSelectPayPeriod:k=>{k.status==="open"&&(n(k),t("export"))},selectedPayPeriodId:r==null?void 0:r.id,isCreating:d})}),s.jsx(et,{value:"mappings",children:s.jsx(Gfe,{mappings:i,onCreateMapping:f,onUpdateMapping:h,onDeleteMapping:m,isCreating:g})}),s.jsx(et,{value:"history",children:s.jsx(ohe,{exports:o,onDownload:N,onVoid:_,isVoiding:j,isDownloading:S})})]})]})}async function che(e){try{const{data:t}=await M.from("profiles").select("user_id").ilike("display_name",`%${e.employeeName}%`).maybeSingle();if(!(t!=null&&t.user_id))return console.warn(`Could not find user_id for employee: ${e.employeeName}`),!1;const r=e.reviewType==="annual"?"Annual Review":e.reviewType==="probation"?"Probation Review":"Performance Review",{error:n}=await M.from("notifications").insert({user_id:t.user_id,title:"New Review Assigned",message:`${e.reviewerName} has assigned you a ${r}. Please complete your self-assessment.`,type:"review",category:"performance",link:"/portal/reviews",is_read:!1});if(n)throw n;return!0}catch(t){return console.error("Error creating review notification:",t.message),!1}}async function uhe(e){try{const{data:t}=await M.from("profiles").select("user_id").ilike("display_name",`%${e.employeeName}%`).maybeSingle();if(!(t!=null&&t.user_id))return!1;let r="Review Updated",n="Your review status has been updated.";switch(e.status){case"in_progress":r="Review In Progress",n="Your performance review is now in progress.";break;case"pending_approval":r="Review Pending Approval",n="Your review is pending final approval.";break;case"completed":r="Review Completed",n="Your performance review has been completed. View your feedback.";break}const{error:a}=await M.from("notifications").insert({user_id:t.user_id,title:r,message:n,type:"review",category:"performance",link:"/portal/reviews",is_read:!1});if(a)throw a;return!0}catch(t){return console.error("Error creating status notification:",t.message),!1}}async function dhe(e){try{const{data:t}=await M.from("profiles").select("user_id").ilike("display_name",`%${e.responderName}%`).maybeSingle();if(!(t!=null&&t.user_id))return!1;const{error:r}=await M.from("notifications").insert({user_id:t.user_id,title:"360 Feedback Requested",message:`You've been asked to provide feedback for ${e.employeeName}'s performance review.`,type:"feedback",category:"performance",link:"/portal/reviews",is_read:!1});if(r)throw r;return!0}catch(t){return console.error("Error creating feedback notification:",t.message),!1}}function QE(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:u,error:d}=await M.from("supervisions").select("*").order("created_at",{ascending:!1});if(d)throw d;t(u||[])}catch(u){a({title:"Error fetching supervisions",description:u.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async u=>{try{const{data:d,error:f}=await M.from("supervisions").insert(u).select().single();if(f)throw f;return t(h=>[d,...h]),a({title:"Supervision relationship created"}),d}catch(d){return a({title:"Error creating supervision",description:d.message,variant:"destructive"}),null}},l=async(u,d)=>{try{const{data:f,error:h}=await M.from("supervisions").update(d).eq("id",u).select().single();if(h)throw h;return t(m=>m.map(g=>g.id===u?f:g)),a({title:"Supervision updated"}),f}catch(f){return a({title:"Error updating supervision",description:f.message,variant:"destructive"}),null}},c=async u=>{try{const{error:d}=await M.from("supervisions").delete().eq("id",u);if(d)throw d;return t(f=>f.filter(h=>h.id!==u)),a({title:"Supervision deleted"}),!0}catch(d){return a({title:"Error deleting supervision",description:d.message,variant:"destructive"}),!1}};return y.useEffect(()=>{i()},[i]),{supervisions:e,loading:r,fetchSupervisions:i,createSupervision:o,updateSupervision:l,deleteSupervision:c}}function fhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{try{a(!0);let c=M.from("supervision_sessions").select("*").order("session_date",{ascending:!1});e&&(c=c.eq("supervision_id",e));const{data:u,error:d}=await c;if(d)throw d;r(u||[])}catch(c){i({title:"Error fetching sessions",description:c.message,variant:"destructive"})}finally{a(!1)}},[e,i]),l=async c=>{try{const{data:u,error:d}=await M.from("supervision_sessions").insert(c).select().single();if(d)throw d;return r(f=>[u,...f]),i({title:"Session recorded"}),u}catch(u){return i({title:"Error creating session",description:u.message,variant:"destructive"}),null}};return y.useEffect(()=>{o()},[o]),{sessions:t,loading:n,fetchSessions:o,createSession:l}}function ZE(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:u,error:d}=await M.from("competencies").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(d)throw d;t(u||[])}catch(u){a({title:"Error fetching competencies",description:u.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async u=>{try{const{data:d,error:f}=await M.from("competencies").insert(u).select().single();if(f)throw f;return t(h=>[...h,d].sort((m,g)=>m.display_order-g.display_order)),a({title:"Competency created"}),d}catch(d){return a({title:"Error creating competency",description:d.message,variant:"destructive"}),null}},l=async(u,d)=>{try{const{data:f,error:h}=await M.from("competencies").update(d).eq("id",u).select().single();if(h)throw h;return t(m=>m.map(g=>g.id===u?f:g).sort((g,p)=>g.display_order-p.display_order)),a({title:"Competency updated"}),f}catch(f){return a({title:"Error updating competency",description:f.message,variant:"destructive"}),null}},c=async u=>{try{const{error:d}=await M.from("competencies").update({is_active:!1}).eq("id",u);if(d)throw d;return t(f=>f.filter(h=>h.id!==u)),a({title:"Competency removed"}),!0}catch(d){return a({title:"Error removing competency",description:d.message,variant:"destructive"}),!1}};return y.useEffect(()=>{i()},[i]),{competencies:e,loading:r,fetchCompetencies:i,createCompetency:o,updateCompetency:l,deleteCompetency:c}}function uw(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:u,error:d}=await M.from("performance_reviews").select("*").order("created_at",{ascending:!1});if(d)throw d;t(u||[])}catch(u){a({title:"Error fetching reviews",description:u.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async u=>{try{const{data:d,error:f}=await M.from("performance_reviews").insert(u).select().single();if(f)throw f;return t(h=>[d,...h]),a({title:"Review created"}),await che({employeeEmail:d.employee_email,employeeName:d.employee_name,reviewerName:d.reviewer_name,reviewType:d.review_type,reviewId:d.id}),d}catch(d){return a({title:"Error creating review",description:d.message,variant:"destructive"}),null}},l=async(u,d)=>{try{const{data:f,error:h}=await M.from("performance_reviews").update(d).eq("id",u).select().single();if(h)throw h;return t(m=>m.map(g=>g.id===u?f:g)),a({title:"Review updated"}),d.status&&await uhe({employeeEmail:f.employee_email,employeeName:f.employee_name,status:f.status,reviewId:f.id}),f}catch(f){return a({title:"Error updating review",description:f.message,variant:"destructive"}),null}},c=async u=>{try{const{error:d}=await M.from("performance_reviews").delete().eq("id",u);if(d)throw d;return t(f=>f.filter(h=>h.id!==u)),a({title:"Review deleted"}),!0}catch(d){return a({title:"Error deleting review",description:d.message,variant:"destructive"}),!1}};return y.useEffect(()=>{i()},[i]),{reviews:e,loading:r,fetchReviews:i,createReview:o,updateReview:l,deleteReview:c}}function _z(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{if(!e){a(!1);return}try{a(!0);const{data:u,error:d}=await M.from("review_feedback").select("*").eq("review_id",e).order("created_at",{ascending:!1}).returns();if(d)throw d;r(u||[])}catch(u){i({title:"Error fetching feedback",description:u.message,variant:"destructive"})}finally{a(!1)}},[e,i]),l=async(u,d)=>{try{const{data:f,error:h}=await M.from("review_feedback").insert(u).select().returns().single();if(h)throw h;return r(m=>[f,...m]),i({title:"Feedback request sent"}),d&&await dhe({responderEmail:f.responder_email,responderName:f.responder_name,employeeName:d,reviewId:f.review_id}),f}catch(f){return i({title:"Error requesting feedback",description:f.message,variant:"destructive"}),null}},c=async(u,d)=>{try{const{data:f,error:h}=await M.from("review_feedback").update({...d,status:"submitted",submitted_at:new Date().toISOString()}).eq("id",u).select().returns().single();if(h)throw h;return r(m=>m.map(g=>g.id===u?f:g)),i({title:"Feedback submitted"}),f}catch(f){return i({title:"Error submitting feedback",description:f.message,variant:"destructive"}),null}};return y.useEffect(()=>{o()},[o]),{feedback:t,loading:n,fetchFeedback:o,requestFeedback:l,submitFeedback:c}}function ZT(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone||"",avatar:e.avatar_url||void 0,employmentType:e.employment_type,position:e.position||"",department:e.department||"",startDate:e.start_date||"",status:e.status,complianceStatus:e.compliance_status,payRate:e.pay_rate||0,awardClassification:void 0,emergencyContact:e.emergency_contact_name?{name:e.emergency_contact_name,phone:e.emergency_contact_phone||"",relationship:e.emergency_contact_relationship||""}:void 0,documents:[],certifications:[]}}function JE(){const{employees:e,activeEmployees:t,refetch:r,isLoading:n}=sc(),a=e.map(ZT),i=t.map(ZT);return{employees:a,activeEmployees:i,refetch:r,isLoading:n}}const hhe=As({employee_id:Je().min(1,"Please select an employee"),supervisor_id:Je().min(1,"Please select a supervisor"),start_date:_u({required_error:"Start date is required"}),notes:Je().max(500).optional()});function mhe({open:e,onOpenChange:t}){const[r,n]=y.useState(!1),{createSupervision:a}=QE(),{activeEmployees:i}=JE(),o=as({resolver:Ri(hhe),defaultValues:{employee_id:"",supervisor_id:"",notes:""}}),l=async d=>{const f=i.find(m=>m.id===d.employee_id),h=i.find(m=>m.id===d.supervisor_id);if(!(!f||!h)){n(!0);try{await a({supervisor_name:`${h.firstName} ${h.lastName}`,supervisor_email:h.email,employee_name:`${f.firstName} ${f.lastName}`,employee_email:f.email,start_date:le(d.start_date,"yyyy-MM-dd"),end_date:null,is_active:!0,notes:d.notes||null}),o.reset(),t(!1)}finally{n(!1)}}},c=o.watch("employee_id"),u=o.watch("supervisor_id");return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[500px]",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Supervision Assignment"}),s.jsx(Dt,{children:"Assign a supervisor to an employee for ongoing supervision sessions."})]}),s.jsx(lc,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[s.jsx(gt,{control:o.control,name:"employee_id",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Employee"}),s.jsxs($e,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select an employee"})})}),s.jsx(Re,{children:i.filter(f=>f.id!==u).map(f=>s.jsxs(H,{value:f.id,children:[f.firstName," ",f.lastName," - ",f.position]},f.id))})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"supervisor_id",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Supervisor"}),s.jsxs($e,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select a supervisor"})})}),s.jsx(Re,{children:i.filter(f=>f.id!==c).map(f=>s.jsxs(H,{value:f.id,children:[f.firstName," ",f.lastName," - ",f.position]},f.id))})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"start_date",render:({field:d})=>s.jsxs(ht,{className:"flex flex-col",children:[s.jsx(yt,{children:"Start Date"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsx(mt,{children:s.jsxs(I,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?le(d.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Ht,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:d.value,onSelect:d.onChange,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"notes",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Notes (Optional)"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Any additional notes about this supervision arrangement...",className:"resize-none",...d})}),s.jsx(Nt,{})]})}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:r,children:[r&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Assignment"]})]})]})})]})})}var dw="Switch",[phe,K3e]=Vr(dw),[ghe,vhe]=phe(dw),Nz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=He(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=Vn({prop:a,defaultProp:i??!1,onChange:u,caller:dw});return s.jsxs(ghe,{scope:r,checked:b,disabled:l,children:[s.jsx(Ce.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Ez(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:me(e.onClick,w=>{x(_=>!_),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(kz,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Nz.displayName=dw;var Sz="SwitchThumb",Cz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=vhe(Sz,r);return s.jsx(Ce.span,{"data-state":Ez(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Cz.displayName=Sz;var yhe="SwitchBubbleInput",kz=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=He(o,i),c=ev(r),u=Vg(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kz.displayName=yhe;function Ez(e){return e?"checked":"unchecked"}var Pz=Nz,xhe=Cz;const An=y.forwardRef(({className:e,...t},r)=>s.jsx(Pz,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(xhe,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));An.displayName=Pz.displayName;const bhe=As({session_date:_u({required_error:"Session date is required"}),duration_minutes:HU.number().min(1,"Duration must be at least 1 minute").optional(),location:Je().max(100).optional(),topics_discussed:Je().max(2e3).optional(),action_items:Je().max(2e3).optional(),follow_up_required:Fx().default(!1),next_session_date:_u().optional(),notes:Je().max(2e3).optional()});function whe({open:e,onOpenChange:t,supervisionId:r}){const[n,a]=y.useState(!1),{createSession:i}=fhe(r),o=as({resolver:Ri(bhe),defaultValues:{follow_up_required:!1,location:"",topics_discussed:"",action_items:"",notes:""}}),l=async c=>{a(!0);try{await i({supervision_id:r,session_date:le(c.session_date,"yyyy-MM-dd"),duration_minutes:c.duration_minutes||null,location:c.location||null,topics_discussed:c.topics_discussed||null,action_items:c.action_items||null,follow_up_required:c.follow_up_required,next_session_date:c.next_session_date?le(c.next_session_date,"yyyy-MM-dd"):null,notes:c.notes||null,created_by:null}),o.reset(),t(!1)}finally{a(!1)}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Log Supervision Session"}),s.jsx(Dt,{children:"Record details of a supervision meeting including topics discussed and action items."})]}),s.jsx(lc,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gt,{control:o.control,name:"session_date",render:({field:c})=>s.jsxs(ht,{className:"flex flex-col",children:[s.jsx(yt,{children:"Session Date"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsx(mt,{children:s.jsxs(I,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?le(c.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Ht,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:c.value,onSelect:c.onChange,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"duration_minutes",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Duration (minutes)"}),s.jsx(mt,{children:s.jsx(Z,{type:"number",placeholder:"60",...c})}),s.jsx(Nt,{})]})})]}),s.jsx(gt,{control:o.control,name:"location",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Location"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"Office, Video Call, etc.",...c})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"topics_discussed",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Topics Discussed"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Key topics covered during the session...",className:"resize-none min-h-[100px]",...c})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"action_items",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Action Items"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Tasks and follow-up actions...",className:"resize-none min-h-[80px]",...c})}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("span",{className:"text-sm font-medium",children:"Follow-up Required"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark if additional follow-up is needed before next session"})]}),s.jsx(gt,{control:o.control,name:"follow_up_required",render:({field:c})=>s.jsx(ht,{children:s.jsx(mt,{children:s.jsx(An,{checked:c.value,onCheckedChange:c.onChange})})})})]}),s.jsx(gt,{control:o.control,name:"next_session_date",render:({field:c})=>s.jsxs(ht,{className:"flex flex-col",children:[s.jsx(yt,{children:"Next Session Date (Optional)"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsx(mt,{children:s.jsxs(I,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?le(c.value,"PPP"):s.jsx("span",{children:"Schedule next session"}),s.jsx(Ht,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:u=>u<new Date,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"notes",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Additional Notes"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Any other observations or comments...",className:"resize-none",...c})}),s.jsx(Nt,{})]})}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:n,children:[n&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Log Session"]})]})]})})]})})}function jhe({searchQuery:e}){const{supervisions:t,loading:r,deleteSupervision:n,updateSupervision:a}=QE(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),f=t.filter(g=>g.employee_name.toLowerCase().includes(e.toLowerCase())||g.supervisor_name.toLowerCase().includes(e.toLowerCase())),h=g=>{d(g),c(!0)},m=async g=>{await a(g,{is_active:!1,end_date:new Date().toISOString().split("T")[0]})};return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Supervision Assignments"}),s.jsx(Fe,{children:"Manage supervisor-employee relationships and log supervision sessions"})]}),s.jsxs(I,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Add Supervision"]})]}),s.jsx(X,{children:f.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No supervision assignments found"}),s.jsx("p",{className:"text-sm mt-1",children:"Create a new supervision assignment to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Supervisor"}),s.jsx(ie,{children:"Start Date"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:f.map(g=>s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs",children:g.employee_name.split(" ").map(p=>p[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.employee_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.employee_email})]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs bg-primary/10 text-primary",children:g.supervisor_name.split(" ").map(p=>p[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.supervisor_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:g.supervisor_email})]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),le(new Date(g.start_date),"dd MMM yyyy")]})}),s.jsx(te,{children:s.jsx(de,{variant:g.is_active?"default":"secondary",children:g.is_active?"Active":"Ended"})}),s.jsx(te,{className:"text-right",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",className:"bg-popover",children:[s.jsxs(nt,{onClick:()=>h(g.id),children:[s.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Log Session"]}),g.is_active&&s.jsx(nt,{onClick:()=>m(g.id),className:"text-destructive",children:"End Supervision"}),s.jsx(nt,{onClick:()=>n(g.id),className:"text-destructive",children:"Delete"})]})]})})]},g.id))})]})})]}),s.jsx(mhe,{open:i,onOpenChange:o}),u&&s.jsx(whe,{open:l,onOpenChange:c,supervisionId:u})]})}const _he=As({employee_id:Je().min(1,"Please select an employee"),reviewer_id:Je().min(1,"Please select a reviewer"),review_type:zu(["performance","annual","probation"]),review_period_start:_u({required_error:"Start date is required"}),review_period_end:_u({required_error:"End date is required"})});function Nhe({open:e,onOpenChange:t}){const[r,n]=y.useState(!1),{createReview:a}=uw(),{activeEmployees:i}=JE(),o=as({resolver:Ri(_he),defaultValues:{employee_id:"",reviewer_id:"",review_type:"performance"}}),l=o.watch("employee_id"),c=o.watch("reviewer_id"),u=async d=>{const f=i.find(m=>m.id===d.employee_id),h=i.find(m=>m.id===d.reviewer_id);if(!(!f||!h)){n(!0);try{await a({employee_name:`${f.firstName} ${f.lastName}`,employee_email:f.email,employee_position:f.position||null,employee_department:f.department||null,reviewer_name:`${h.firstName} ${h.lastName}`,reviewer_email:h.email,review_type:d.review_type,review_period_start:le(d.review_period_start,"yyyy-MM-dd"),review_period_end:le(d.review_period_end,"yyyy-MM-dd"),status:"draft",overall_rating:null,overall_feedback:null,strengths:null,areas_for_improvement:null,development_plan:null,employee_comments:null,completed_at:null}),o.reset(),t(!1)}finally{n(!1)}}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Performance Review"}),s.jsx(Dt,{children:"Set up a new performance review for an employee with goals, competency ratings, and 360 feedback."})]}),s.jsx(lc,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Employee Details"}),s.jsx(gt,{control:o.control,name:"employee_id",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Select Employee"}),s.jsxs($e,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select an employee to review"})})}),s.jsx(Re,{className:"bg-popover",children:i.filter(f=>f.id!==c).map(f=>s.jsxs(H,{value:f.id,children:[f.firstName," ",f.lastName," - ",f.position]},f.id))})]}),s.jsx(Nt,{})]})}),l&&s.jsx("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:(()=>{const d=i.find(f=>f.id===l);return d?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",d.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Position:"})," ",d.position]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Department:"})," ",d.department]})]}):null})()})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Reviewer Details"}),s.jsx(gt,{control:o.control,name:"reviewer_id",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Select Reviewer"}),s.jsxs($e,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select a reviewer"})})}),s.jsx(Re,{className:"bg-popover",children:i.filter(f=>f.id!==l).map(f=>s.jsxs(H,{value:f.id,children:[f.firstName," ",f.lastName," - ",f.position]},f.id))})]}),s.jsx(Nt,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Review Settings"}),s.jsx(gt,{control:o.control,name:"review_type",render:({field:d})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Review Type"}),s.jsxs($e,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select review type"})})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"performance",children:"Performance Review"}),s.jsx(H,{value:"annual",children:"Annual Review"}),s.jsx(H,{value:"probation",children:"Probation Review"})]})]}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gt,{control:o.control,name:"review_period_start",render:({field:d})=>s.jsxs(ht,{className:"flex flex-col",children:[s.jsx(yt,{children:"Period Start"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsx(mt,{children:s.jsxs(I,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?le(d.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Ht,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:d.value,onSelect:d.onChange,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"review_period_end",render:({field:d})=>s.jsxs(ht,{className:"flex flex-col",children:[s.jsx(yt,{children:"Period End"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsx(mt,{children:s.jsxs(I,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!d.value&&"text-muted-foreground"),children:[d.value?le(d.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(Ht,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:d.value,onSelect:d.onChange,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),s.jsx(Nt,{})]})})]})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:r,children:[r&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Review"]})]})]})})]})})}const She=As({responder_name:Je().min(1,"Name is required").max(100),responder_email:Je().email("Invalid email address"),feedback_type:zu(["self","manager","peer","direct_report"]),relationship_to_employee:Je().max(100).optional(),is_anonymous:Fx().default(!1)});function Che({open:e,onOpenChange:t,reviewId:r}){const[n,a]=y.useState(!1),{requestFeedback:i}=_z(r),o=as({resolver:Ri(She),defaultValues:{responder_name:"",responder_email:"",feedback_type:"peer",relationship_to_employee:"",is_anonymous:!1}}),l=async c=>{a(!0);try{await i({review_id:r,responder_name:c.responder_name,responder_email:c.responder_email,feedback_type:c.feedback_type,relationship_to_employee:c.relationship_to_employee||null,is_anonymous:c.is_anonymous,overall_rating:null,strengths:null,areas_for_improvement:null,additional_comments:null,submitted_at:null,status:"pending"}),o.reset(),t(!1)}finally{a(!1)}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[450px]",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Request 360 Feedback"}),s.jsx(Dt,{children:"Invite someone to provide feedback on the employee's performance."})]}),s.jsx(lc,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[s.jsx(gt,{control:o.control,name:"responder_name",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Responder Name"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"John Smith",...c})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"responder_email",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Responder Email"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"john@example.com",type:"email",...c})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"feedback_type",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Feedback Type"}),s.jsxs($e,{onValueChange:c.onChange,defaultValue:c.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select type"})})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"self",children:"Self Assessment"}),s.jsx(H,{value:"manager",children:"Manager"}),s.jsx(H,{value:"peer",children:"Peer"}),s.jsx(H,{value:"direct_report",children:"Direct Report"})]})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:o.control,name:"relationship_to_employee",render:({field:c})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Relationship (Optional)"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"e.g., Team Lead, Colleague",...c})}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("span",{className:"text-sm font-medium",children:"Anonymous Feedback"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide responder identity from the employee"})]}),s.jsx(gt,{control:o.control,name:"is_anonymous",render:({field:c})=>s.jsx(ht,{children:s.jsx(mt,{children:s.jsx(An,{checked:c.value,onCheckedChange:c.onChange})})})})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:n,children:[n&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Request"]})]})]})})]})})}const JT={draft:{label:"Draft",color:"bg-muted text-muted-foreground"},in_progress:{label:"In Progress",color:"bg-primary/10 text-primary"},pending_approval:{label:"Pending Approval",color:"bg-warning/10 text-warning"},completed:{label:"Completed",color:"bg-success/10 text-success"}};function khe({open:e,onOpenChange:t,review:r}){const[n,a]=y.useState("overview"),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(r.overall_feedback||""),[f,h]=y.useState(r.strengths||""),[m,g]=y.useState(r.areas_for_improvement||""),[p,v]=y.useState(r.development_plan||""),{updateReview:b}=uw(),{competencies:x}=ZE(),{feedback:w}=_z(r.id),_=async()=>{c(!0);try{await b(r.id,{overall_feedback:u||null,strengths:f||null,areas_for_improvement:m||null,development_plan:p||null})}finally{c(!1)}},j=w.filter(S=>S.status==="pending").length,N=w.filter(S=>S.status==="submitted").length;return s.jsxs(s.Fragment,{children:[s.jsx(Do,{open:e,onOpenChange:t,children:s.jsxs(Bi,{className:"w-full sm:max-w-2xl overflow-y-auto",children:[s.jsx(zi,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pr,{className:"h-12 w-12",children:s.jsx(Ar,{children:r.employee_name.split(" ").map(S=>S[0]).join("")})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Vi,{className:"flex items-center gap-2",children:[r.employee_name,s.jsx(de,{className:JT[r.status].color,children:JT[r.status].label})]}),s.jsxs(Ro,{children:[r.employee_position||"No position","  ",r.employee_department||"No department"]})]})]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsx(G,{children:s.jsx(X,{className:"pt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Review Period"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),le(new Date(r.review_period_start),"MMM yyyy")," - ",le(new Date(r.review_period_end),"MMM yyyy")]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Reviewer"}),s.jsx("p",{className:"mt-1 font-medium",children:r.reviewer_name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type"}),s.jsxs("p",{className:"mt-1 font-medium capitalize",children:[r.review_type," Review"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Rating"}),s.jsx("div",{className:"flex items-center gap-1 mt-1",children:r.overall_rating?s.jsxs(s.Fragment,{children:[s.jsx(Hs,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),s.jsxs("span",{className:"font-medium",children:[r.overall_rating.toFixed(1)," / 5.0"]})]}):s.jsx("span",{className:"text-muted-foreground",children:"Not rated"})})]})]})})}),s.jsxs(jn,{value:n,onValueChange:a,children:[s.jsxs(mn,{className:"grid w-full grid-cols-3",children:[s.jsxs(Be,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(Be,{value:"competencies",className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Competencies"]}),s.jsxs(Be,{value:"feedback",className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-4 w-4"}),"360 Feedback",j>0&&s.jsx(de,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:j})]})]}),s.jsx(et,{value:"overview",className:"mt-4 space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Overall Feedback"}),s.jsx(_t,{placeholder:"Provide overall feedback for this review period...",value:u,onChange:S=>d(S.target.value),className:"min-h-[100px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Strengths"}),s.jsx(_t,{placeholder:"Key strengths demonstrated...",value:f,onChange:S=>h(S.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Areas for Improvement"}),s.jsx(_t,{placeholder:"Areas that need improvement...",value:m,onChange:S=>g(S.target.value),className:"min-h-[80px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Development Plan"}),s.jsx(_t,{placeholder:"Outline the development plan for the next period...",value:p,onChange:S=>v(S.target.value),className:"min-h-[80px]"})]}),s.jsxs(I,{onClick:_,disabled:l,className:"w-full",children:[l&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Feedback"]})]})}),s.jsx(et,{value:"competencies",className:"mt-4 space-y-4",children:s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-base",children:"Competency Framework"}),s.jsx(Fe,{children:"Rate the employee on each competency area"})]}),s.jsx(X,{className:"space-y-4",children:x.map(S=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:S.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.description})]}),s.jsx(de,{variant:"outline",children:S.category})]}),s.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(k=>s.jsx(I,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:k},k))}),s.jsx(St,{})]},S.id))})]})}),s.jsx(et,{value:"feedback",className:"mt-4 space-y-4",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-base",children:"360 Feedback Requests"}),s.jsxs(Fe,{children:[N," of ",w.length," responses received"]})]}),s.jsxs(I,{size:"sm",onClick:()=>o(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Request Feedback"]})]}),s.jsx(X,{children:w.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Er,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No feedback requests yet"}),s.jsx("p",{className:"text-xs mt-1",children:"Request 360 feedback from peers, managers, or direct reports"})]}):s.jsx("div",{className:"space-y-3",children:w.map(S=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs",children:S.responder_name.split(" ").map(k=>k[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:S.responder_name}),s.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[S.feedback_type.replace("_"," "),"  ",S.relationship_to_employee||"N/A"]})]})]}),s.jsx(de,{variant:S.status==="submitted"?"default":"secondary",children:S.status==="submitted"?"Received":"Pending"})]},S.id))})})]})})]})]})]})}),s.jsx(Che,{open:i,onOpenChange:o,reviewId:r.id})]})}function Ehe(){const[e,t]=y.useState(null),[r,n]=y.useState(!1),{toast:a}=cr(),i=y.useCallback(async l=>{try{n(!0);const{data:c,error:u}=await M.from("performance_reviews").select("*").eq("employee_email",l).order("review_period_end",{ascending:!1});if(u)throw u;const d=(c==null?void 0:c.map(C=>C.id))||[],[f,h,m,g]=await Promise.all([d.length>0?M.from("review_goals").select("*").in("review_id",d):Promise.resolve({data:[],error:null}),d.length>0?M.from("competency_ratings").select("*").in("review_id",d):Promise.resolve({data:[],error:null}),d.length>0?M.from("review_feedback").select("*").in("review_id",d).eq("status","submitted"):Promise.resolve({data:[],error:null}),M.from("competencies").select("*").eq("is_active",!0)]);if(f.error)throw f.error;if(h.error)throw h.error;if(m.error)throw m.error;if(g.error)throw g.error;const p=f.data||[],v=h.data||[],b=m.data||[],x=g.data||[],w=v.map(C=>({...C,competency:x.find(P=>P.id===C.competency_id)})).filter(C=>C.competency),_=(c==null?void 0:c.filter(C=>C.overall_rating))||[],j=_.length>0?_.reduce((C,P)=>C+(P.overall_rating||0),0)/_.length:0,N=p.filter(C=>C.status==="completed").length,S=w.filter(C=>C.rating),k=S.length>0?S.reduce((C,P)=>C+(P.rating||0),0)/S.length:0;return t({reviews:c||[],goals:p,competencyRatings:w,feedback:b,summary:{totalReviews:(c==null?void 0:c.length)||0,averageRating:Number(j.toFixed(2)),completedGoals:N,totalGoals:p.length,averageCompetencyScore:Number(k.toFixed(2))}}),!0}catch(c){return a({title:"Error fetching performance report",description:c.message,variant:"destructive"}),!1}finally{n(!1)}},[a]),o=y.useCallback(()=>{t(null)},[]);return{data:e,loading:r,fetchEmployeeReport:i,clearData:o}}const Phe={completed:"bg-success/10 text-success",in_progress:"bg-info/10 text-info",not_started:"bg-muted text-muted-foreground",deferred:"bg-warning/10 text-warning"},Ahe={draft:"bg-muted text-muted-foreground",in_progress:"bg-info/10 text-info",pending_approval:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"};function eD({rating:e}){return s.jsxs("div",{className:"flex items-center gap-0.5",children:[[1,2,3,4,5].map(t=>s.jsx(Hs,{className:`h-4 w-4 ${t<=e?"fill-warning text-warning":"text-muted"}`},t)),s.jsx("span",{className:"ml-2 text-sm font-medium",children:e.toFixed(1)})]})}function Ohe({open:e,onOpenChange:t,employeeName:r,employeeEmail:n}){const{data:a,loading:i,fetchEmployeeReport:o,clearData:l}=Ehe(),c=y.useRef(null);y.useEffect(()=>{e&&n?o(n):l()},[e,n,o,l]);const u=()=>{window.print()},d=(a==null?void 0:a.competencyRatings.reduce((f,h)=>{const m=h.competency.category||"General";return f[m]||(f[m]=[]),f[m].push(h),f},{}))||{};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none print:overflow-visible",children:[s.jsxs(Ot,{className:"print:hidden",children:[s.jsx(Tt,{children:"Performance Report"}),s.jsxs(Dt,{children:["Comprehensive performance summary for ",r]})]}),s.jsx("div",{className:"flex gap-2 print:hidden",children:s.jsxs(I,{onClick:u,className:"flex-1",children:[s.jsx(IG,{className:"h-4 w-4 mr-2"}),"Print Report"]})}),i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(It,{className:"h-32"}),s.jsx(It,{className:"h-48"}),s.jsx(It,{className:"h-48"})]}):a?s.jsxs("div",{ref:c,className:"print-report space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg p-6 print:bg-none print:border print:border-border",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:r}),s.jsx("p",{className:"text-muted-foreground",children:n}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Report generated: ",le(new Date,"dd MMMM yyyy")]})]}),s.jsxs("div",{className:"text-right hidden print:block",children:[s.jsx("p",{className:"font-semibold",children:"Social Plus Support Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Performance Report"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-background rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Total Reviews"]}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:a.summary.totalReviews})]}),s.jsxs("div",{className:"bg-background rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Hs,{className:"h-4 w-4"}),"Avg Rating"]}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:a.summary.averageRating>0?a.summary.averageRating.toFixed(1):""})]}),s.jsxs("div",{className:"bg-background rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(bt,{className:"h-4 w-4"}),"Goals Completed"]}),s.jsxs("p",{className:"text-2xl font-bold mt-1",children:[a.summary.completedGoals,"/",a.summary.totalGoals]})]}),s.jsxs("div",{className:"bg-background rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Js,{className:"h-4 w-4"}),"Competency Score"]}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:a.summary.averageCompetencyScore>0?a.summary.averageCompetencyScore.toFixed(1):""})]})]})]}),s.jsxs("section",{className:"print:break-inside-avoid",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Zs,{className:"h-5 w-5 text-primary"}),"Performance Reviews"]}),a.reviews.length>0?s.jsx("div",{className:"space-y-4",children:a.reviews.map(f=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"outline",className:"capitalize",children:f.review_type}),s.jsx(de,{className:Ahe[f.status],children:f.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Period: ",le(new Date(f.review_period_start),"MMM yyyy")," -"," ",le(new Date(f.review_period_end),"MMM yyyy")]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reviewer: ",f.reviewer_name]})]}),f.overall_rating&&s.jsx(eD,{rating:f.overall_rating})]}),(f.strengths||f.areas_for_improvement)&&s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-4",children:[f.strengths&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-success mb-1",children:"Strengths"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.strengths})]}),f.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-warning mb-1",children:"Areas for Improvement"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.areas_for_improvement})]})]}),f.overall_feedback&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Overall Feedback"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.overall_feedback})]})]},f.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No performance reviews on record."})]}),s.jsx(St,{className:"print:hidden"}),s.jsxs("section",{className:"print:break-inside-avoid",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Js,{className:"h-5 w-5 text-primary"}),"Competency Scores"]}),Object.keys(d).length>0?s.jsx("div",{className:"space-y-6",children:Object.entries(d).map(([f,h])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:f}),s.jsx("div",{className:"space-y-3",children:h.map(m=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm font-medium truncate",children:m.competency.name})}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[s.jsx("div",{className:"w-24 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${(m.rating||0)/5*100}%`}})}),s.jsx("span",{className:"text-sm font-medium w-8 text-right",children:m.rating?m.rating.toFixed(1):""})]})]},m.id))})]},f))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No competency ratings recorded."})]}),s.jsx(St,{className:"print:hidden"}),s.jsxs("section",{className:"print:break-inside-avoid",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(bt,{className:"h-5 w-5 text-primary"}),"Goals & Objectives"]}),a.goals.length>0?s.jsx("div",{className:"space-y-3",children:a.goals.map(f=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:f.title}),s.jsx(de,{className:Phe[f.status||"not_started"],children:(f.status||"not_started").replace("_"," ")})]}),f.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),f.target_date&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[s.jsx(wt,{className:"h-3 w-3"}),"Target: ",le(new Date(f.target_date),"dd MMM yyyy")]})]}),s.jsx("div",{className:"text-right shrink-0",children:s.jsxs("p",{className:"text-sm font-medium",children:[f.progress_percentage||0,"%"]})})]}),s.jsx(Gs,{value:f.progress_percentage||0,className:"mt-3 h-2"})]},f.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No goals assigned."})]}),a.feedback.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"print:hidden"}),s.jsxs("section",{className:"print:break-inside-avoid",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Er,{className:"h-5 w-5 text-primary"}),"360 Feedback Summary"]}),s.jsx("div",{className:"space-y-3",children:a.feedback.map(f=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(de,{variant:"outline",className:"capitalize",children:f.feedback_type.replace("_"," ")}),!f.is_anonymous&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["from ",f.responder_name]})]}),f.submitted_at&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Submitted: ",le(new Date(f.submitted_at),"dd MMM yyyy")]})]}),f.overall_rating&&s.jsx(eD,{rating:f.overall_rating})]}),(f.strengths||f.areas_for_improvement)&&s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mt-3",children:[f.strengths&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-success mb-1",children:"Strengths"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.strengths})]}),f.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-warning mb-1",children:"Areas for Improvement"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.areas_for_improvement})]})]}),f.additional_comments&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Additional Comments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.additional_comments})]})]},f.id))})]})]}),s.jsxs("div",{className:"hidden print:block mt-8 pt-4 border-t text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"This report was generated from Social Plus Support Work HRMS"}),s.jsxs("p",{children:["Generated on ",le(new Date,"dd MMMM yyyy")," at ",le(new Date,"HH:mm")]})]})]}):s.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No performance data available for this employee."})]})})}const tD={draft:{label:"Draft",variant:"secondary"},in_progress:{label:"In Progress",variant:"default"},pending_approval:{label:"Pending Approval",variant:"outline"},completed:{label:"Completed",variant:"default"}},The={performance:"Performance",annual:"Annual",probation:"Probation"};function Dhe({searchQuery:e}){const{reviews:t,loading:r,deleteReview:n,updateReview:a}=uw(),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,g]=y.useState(null),p=t.filter(x=>x.employee_name.toLowerCase().includes(e.toLowerCase())||x.reviewer_name.toLowerCase().includes(e.toLowerCase())),v=x=>{c(x),d(!0)},b=x=>{g({name:x.employee_name,email:x.employee_email}),h(!0)};return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Performance Reviews"}),s.jsx(Fe,{children:"Create and manage performance, annual, and probation reviews with 360 feedback"})]}),s.jsxs(I,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"New Review"]})]}),s.jsx(X,{children:p.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(du,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No performance reviews found"}),s.jsx("p",{className:"text-sm mt-1",children:"Create a new review to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Period"}),s.jsx(ie,{children:"Reviewer"}),s.jsx(ie,{children:"Rating"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:p.map(x=>s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Pr,{className:"h-8 w-8",children:s.jsx(Ar,{className:"text-xs",children:x.employee_name.split(" ").map(w=>w[0]).join("")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.employee_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x.employee_position||"No position"})]})]})}),s.jsx(te,{children:s.jsx(de,{variant:"outline",children:The[x.review_type]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[le(new Date(x.review_period_start),"MMM yyyy")," - ",le(new Date(x.review_period_end),"MMM yyyy")]})]})}),s.jsx(te,{children:s.jsx("span",{className:"text-sm",children:x.reviewer_name})}),s.jsx(te,{children:x.overall_rating?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hs,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium",children:x.overall_rating.toFixed(1)})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:""})}),s.jsx(te,{children:s.jsx(de,{variant:tD[x.status].variant,className:x.status==="completed"?"bg-success/10 text-success":"",children:tD[x.status].label})}),s.jsx(te,{className:"text-right",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",className:"bg-popover",children:[s.jsxs(nt,{onClick:()=>v(x),children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(nt,{onClick:()=>b(x),children:[s.jsx(dt,{className:"h-4 w-4 mr-2"}),"View Full Report"]}),s.jsxs(nt,{onClick:()=>v(x),children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Request 360 Feedback"]}),s.jsx(ga,{}),x.status==="draft"&&s.jsx(nt,{onClick:()=>a(x.id,{status:"in_progress"}),children:"Start Review"}),x.status==="in_progress"&&s.jsx(nt,{onClick:()=>a(x.id,{status:"pending_approval"}),children:"Submit for Approval"}),x.status==="pending_approval"&&s.jsx(nt,{onClick:()=>a(x.id,{status:"completed",completed_at:new Date().toISOString()}),children:"Mark Complete"}),s.jsx(ga,{}),s.jsx(nt,{onClick:()=>n(x.id),className:"text-destructive",children:"Delete"})]})]})})]},x.id))})]})})]}),s.jsx(Nhe,{open:i,onOpenChange:o}),l&&s.jsx(khe,{open:u,onOpenChange:d,review:l}),m&&s.jsx(Ohe,{open:f,onOpenChange:h,employeeName:m.name,employeeEmail:m.email})]})}const Rhe=As({name:Je().min(1,"Name is required").max(100),description:Je().max(500).optional(),category:Je().min(1,"Category is required").max(50),display_order:HU.number().min(0).default(0)}),Mhe=["Core Skills","Compliance","Professional","Growth","Leadership"];function $he({searchQuery:e}){const{competencies:t,loading:r,createCompetency:n,updateCompetency:a,deleteCompetency:i}=ZE(),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),h=as({resolver:Ri(Rhe),defaultValues:{name:"",description:"",category:"Core Skills",display_order:0}}),m=t.filter(x=>{var w;return x.name.toLowerCase().includes(e.toLowerCase())||(((w=x.category)==null?void 0:w.toLowerCase())||"").includes(e.toLowerCase())}),g=x=>{u(x),h.reset({name:x.name,description:x.description||"",category:x.category||"Core Skills",display_order:x.display_order}),l(!0)},p=()=>{u(null),h.reset({name:"",description:"",category:"Core Skills",display_order:t.length+1}),l(!0)},v=async x=>{f(!0);try{c?await a(c.id,{name:x.name,description:x.description||null,category:x.category,display_order:x.display_order}):await n({name:x.name,description:x.description||null,category:x.category,display_order:x.display_order,is_active:!0}),l(!1),h.reset()}finally{f(!1)}},b=m.reduce((x,w)=>{const _=w.category||"Other";return x[_]||(x[_]=[]),x[_].push(w),x},{});return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(s.Fragment,{children:[s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Competency Framework"}),s.jsx(Fe,{children:"Define the competencies used to evaluate employee performance"})]}),s.jsxs(I,{onClick:p,className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Add Competency"]})]}),s.jsx(X,{children:m.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No competencies defined"}),s.jsx("p",{className:"text-sm mt-1",children:"Add competencies to use in performance reviews"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([x,w])=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:x}),s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{className:"w-12",children:"#"}),s.jsx(ie,{children:"Competency"}),s.jsx(ie,{children:"Description"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:w.map(_=>s.jsxs(Ve,{children:[s.jsx(te,{className:"text-muted-foreground",children:_.display_order}),s.jsx(te,{className:"font-medium",children:_.name}),s.jsx(te,{className:"text-sm text-muted-foreground max-w-md truncate",children:_.description||""}),s.jsx(te,{className:"text-right",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",className:"bg-popover",children:[s.jsxs(nt,{onClick:()=>g(_),children:[s.jsx(rl,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(nt,{onClick:()=>i(_.id),className:"text-destructive",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})})]},_.id))})]})]},x))})})]}),s.jsx(Mt,{open:o,onOpenChange:l,children:s.jsxs(At,{className:"sm:max-w-[450px]",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:c?"Edit Competency":"Add Competency"}),s.jsx(Dt,{children:c?"Update the competency details":"Add a new competency to the framework"})]}),s.jsx(lc,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[s.jsx(gt,{control:h.control,name:"name",render:({field:x})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Name"}),s.jsx(mt,{children:s.jsx(Z,{placeholder:"e.g., Communication",...x})}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:h.control,name:"description",render:({field:x})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Description"}),s.jsx(mt,{children:s.jsx(_t,{placeholder:"Describe what this competency measures...",className:"resize-none",...x})}),s.jsx(Nt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gt,{control:h.control,name:"category",render:({field:x})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Category"}),s.jsxs($e,{onValueChange:x.onChange,value:x.value,children:[s.jsx(mt,{children:s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select category"})})}),s.jsx(Re,{className:"bg-popover",children:Mhe.map(w=>s.jsx(H,{value:w,children:w},w))})]}),s.jsx(Nt,{})]})}),s.jsx(gt,{control:h.control,name:"display_order",render:({field:x})=>s.jsxs(ht,{children:[s.jsx(yt,{children:"Display Order"}),s.jsx(mt,{children:s.jsx(Z,{type:"number",min:"0",...x})}),s.jsx(Nt,{})]})})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(I,{type:"submit",disabled:d,children:[d&&s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Update":"Add"," Competency"]})]})]})})]})})]})}function Ihe(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),{toast:h}=cr(),m=y.useCallback(async()=>{try{const{data:v,error:b}=await M.from("competencies").select("id, name, category").eq("is_active",!0);if(b)throw b;const{data:x,error:w}=await M.from("competency_ratings").select("competency_id, rating").not("rating","is",null);if(w)throw w;const _=new Map;x==null||x.forEach(N=>{const S=_.get(N.competency_id)||{sum:0,count:0};S.sum+=N.rating||0,S.count+=1,_.set(N.competency_id,S)});const j=(v||[]).map(N=>{const S=_.get(N.id)||{sum:0,count:0};return{competency_id:N.id,competency_name:N.name,category:N.category,average_rating:S.count>0?Number((S.sum/S.count).toFixed(2)):0,total_ratings:S.count}});t(j)}catch(v){h({title:"Error fetching competency scores",description:v.message,variant:"destructive"})}},[h]),g=y.useCallback(async()=>{try{const{data:v,error:b}=await M.from("performance_reviews").select("status, review_type, overall_rating, employee_department, created_at, completed_at");if(b)throw b;const x=new Map,w=new Map,_=new Map;v==null||v.forEach(S=>{if(x.set(S.status,(x.get(S.status)||0)+1),w.set(S.review_type,(w.get(S.review_type)||0)+1),S.employee_department&&S.overall_rating){const k=_.get(S.employee_department)||{sum:0,count:0};k.sum+=S.overall_rating,k.count+=1,_.set(S.employee_department,k)}}),n(Array.from(x.entries()).map(([S,k])=>({status:S,count:k}))),i(Array.from(w.entries()).map(([S,k])=>({review_type:S,count:k}))),u(Array.from(_.entries()).map(([S,k])=>({department:S,average_rating:Number((k.sum/k.count).toFixed(2)),review_count:k.count})));const j=new Date,N=[];for(let S=5;S>=0;S--){const k=new Date(j.getFullYear(),j.getMonth()-S,1),C=k.toLocaleDateString("en-AU",{month:"short",year:"2-digit"}),P=(v==null?void 0:v.filter(A=>{const E=new Date(A.created_at);return E.getMonth()===k.getMonth()&&E.getFullYear()===k.getFullYear()}))||[];N.push({month:C,completed:P.filter(A=>A.status==="completed").length,in_progress:P.filter(A=>A.status==="in_progress").length,pending:P.filter(A=>A.status==="pending_approval"||A.status==="draft").length})}l(N)}catch(v){h({title:"Error fetching review statistics",description:v.message,variant:"destructive"})}},[h]),p=y.useCallback(async()=>{f(!0),await Promise.all([m(),g()]),f(!1)},[m,g]);return y.useEffect(()=>{p()},[p]),{competencyScores:e,reviewStatusCounts:r,reviewTypeCounts:a,monthlyTrends:o,departmentPerformance:c,loading:d,refetch:p}}var Lhe=Array.isArray,Os=Lhe,Fhe=typeof Nv=="object"&&Nv&&Nv.Object===Object&&Nv,Az=Fhe,Uhe=Az,Bhe=typeof self=="object"&&self&&self.Object===Object&&self,zhe=Uhe||Bhe||Function("return this")(),Wi=zhe,Vhe=Wi,qhe=Vhe.Symbol,uv=qhe,rD=uv,Oz=Object.prototype,Whe=Oz.hasOwnProperty,Hhe=Oz.toString,gm=rD?rD.toStringTag:void 0;function Khe(e){var t=Whe.call(e,gm),r=e[gm];try{e[gm]=void 0;var n=!0}catch{}var a=Hhe.call(e);return n&&(t?e[gm]=r:delete e[gm]),a}var Ghe=Khe,Yhe=Object.prototype,Xhe=Yhe.toString;function Qhe(e){return Xhe.call(e)}var Zhe=Qhe,nD=uv,Jhe=Ghe,eme=Zhe,tme="[object Null]",rme="[object Undefined]",sD=nD?nD.toStringTag:void 0;function nme(e){return e==null?e===void 0?rme:tme:sD&&sD in Object(e)?Jhe(e):eme(e)}var $o=nme;function sme(e){return e!=null&&typeof e=="object"}var Io=sme,ame=$o,ime=Io,ome="[object Symbol]";function lme(e){return typeof e=="symbol"||ime(e)&&ame(e)==ome}var kh=lme,cme=Os,ume=kh,dme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fme=/^\w*$/;function hme(e,t){if(cme(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ume(e)?!0:fme.test(e)||!dme.test(e)||t!=null&&e in Object(t)}var eP=hme;function mme(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cc=mme;const Eh=Xt(cc);var pme=$o,gme=cc,vme="[object AsyncFunction]",yme="[object Function]",xme="[object GeneratorFunction]",bme="[object Proxy]";function wme(e){if(!gme(e))return!1;var t=pme(e);return t==yme||t==xme||t==vme||t==bme}var tP=wme;const Ye=Xt(tP);var jme=Wi,_me=jme["__core-js_shared__"],Nme=_me,N_=Nme,aD=function(){var e=/[^.]+$/.exec(N_&&N_.keys&&N_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sme(e){return!!aD&&aD in e}var Cme=Sme,kme=Function.prototype,Eme=kme.toString;function Pme(e){if(e!=null){try{return Eme.call(e)}catch{}try{return e+""}catch{}}return""}var Tz=Pme,Ame=tP,Ome=Cme,Tme=cc,Dme=Tz,Rme=/[\\^$.*+?()[\]{}|]/g,Mme=/^\[object .+?Constructor\]$/,$me=Function.prototype,Ime=Object.prototype,Lme=$me.toString,Fme=Ime.hasOwnProperty,Ume=RegExp("^"+Lme.call(Fme).replace(Rme,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bme(e){if(!Tme(e)||Ome(e))return!1;var t=Ame(e)?Ume:Mme;return t.test(Dme(e))}var zme=Bme;function Vme(e,t){return e==null?void 0:e[t]}var qme=Vme,Wme=zme,Hme=qme;function Kme(e,t){var r=Hme(e,t);return Wme(r)?r:void 0}var qu=Kme,Gme=qu,Yme=Gme(Object,"create"),fw=Yme,iD=fw;function Xme(){this.__data__=iD?iD(null):{},this.size=0}var Qme=Xme;function Zme(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jme=Zme,epe=fw,tpe="__lodash_hash_undefined__",rpe=Object.prototype,npe=rpe.hasOwnProperty;function spe(e){var t=this.__data__;if(epe){var r=t[e];return r===tpe?void 0:r}return npe.call(t,e)?t[e]:void 0}var ape=spe,ipe=fw,ope=Object.prototype,lpe=ope.hasOwnProperty;function cpe(e){var t=this.__data__;return ipe?t[e]!==void 0:lpe.call(t,e)}var upe=cpe,dpe=fw,fpe="__lodash_hash_undefined__";function hpe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dpe&&t===void 0?fpe:t,this}var mpe=hpe,ppe=Qme,gpe=Jme,vpe=ape,ype=upe,xpe=mpe;function Ph(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ph.prototype.clear=ppe;Ph.prototype.delete=gpe;Ph.prototype.get=vpe;Ph.prototype.has=ype;Ph.prototype.set=xpe;var bpe=Ph;function wpe(){this.__data__=[],this.size=0}var jpe=wpe;function _pe(e,t){return e===t||e!==e&&t!==t}var rP=_pe,Npe=rP;function Spe(e,t){for(var r=e.length;r--;)if(Npe(e[r][0],t))return r;return-1}var hw=Spe,Cpe=hw,kpe=Array.prototype,Epe=kpe.splice;function Ppe(e){var t=this.__data__,r=Cpe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Epe.call(t,r,1),--this.size,!0}var Ape=Ppe,Ope=hw;function Tpe(e){var t=this.__data__,r=Ope(t,e);return r<0?void 0:t[r][1]}var Dpe=Tpe,Rpe=hw;function Mpe(e){return Rpe(this.__data__,e)>-1}var $pe=Mpe,Ipe=hw;function Lpe(e,t){var r=this.__data__,n=Ipe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Fpe=Lpe,Upe=jpe,Bpe=Ape,zpe=Dpe,Vpe=$pe,qpe=Fpe;function Ah(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ah.prototype.clear=Upe;Ah.prototype.delete=Bpe;Ah.prototype.get=zpe;Ah.prototype.has=Vpe;Ah.prototype.set=qpe;var mw=Ah,Wpe=qu,Hpe=Wi,Kpe=Wpe(Hpe,"Map"),nP=Kpe,oD=bpe,Gpe=mw,Ype=nP;function Xpe(){this.size=0,this.__data__={hash:new oD,map:new(Ype||Gpe),string:new oD}}var Qpe=Xpe;function Zpe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Jpe=Zpe,ege=Jpe;function tge(e,t){var r=e.__data__;return ege(t)?r[typeof t=="string"?"string":"hash"]:r.map}var pw=tge,rge=pw;function nge(e){var t=rge(this,e).delete(e);return this.size-=t?1:0,t}var sge=nge,age=pw;function ige(e){return age(this,e).get(e)}var oge=ige,lge=pw;function cge(e){return lge(this,e).has(e)}var uge=cge,dge=pw;function fge(e,t){var r=dge(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hge=fge,mge=Qpe,pge=sge,gge=oge,vge=uge,yge=hge;function Oh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oh.prototype.clear=mge;Oh.prototype.delete=pge;Oh.prototype.get=gge;Oh.prototype.has=vge;Oh.prototype.set=yge;var sP=Oh,Dz=sP,xge="Expected a function";function aP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xge);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(aP.Cache||Dz),r}aP.Cache=Dz;var Rz=aP;const bge=Xt(Rz);var wge=Rz,jge=500;function _ge(e){var t=wge(e,function(n){return r.size===jge&&r.clear(),n}),r=t.cache;return t}var Nge=_ge,Sge=Nge,Cge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kge=/\\(\\)?/g,Ege=Sge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Cge,function(r,n,a,i){t.push(a?i.replace(kge,"$1"):n||r)}),t}),Pge=Ege;function Age(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var iP=Age,lD=uv,Oge=iP,Tge=Os,Dge=kh,Rge=1/0,cD=lD?lD.prototype:void 0,uD=cD?cD.toString:void 0;function Mz(e){if(typeof e=="string")return e;if(Tge(e))return Oge(e,Mz)+"";if(Dge(e))return uD?uD.call(e):"";var t=e+"";return t=="0"&&1/e==-Rge?"-0":t}var Mge=Mz,$ge=Mge;function Ige(e){return e==null?"":$ge(e)}var $z=Ige,Lge=Os,Fge=eP,Uge=Pge,Bge=$z;function zge(e,t){return Lge(e)?e:Fge(e,t)?[e]:Uge(Bge(e))}var Iz=zge,Vge=kh,qge=1/0;function Wge(e){if(typeof e=="string"||Vge(e))return e;var t=e+"";return t=="0"&&1/e==-qge?"-0":t}var gw=Wge,Hge=Iz,Kge=gw;function Gge(e,t){t=Hge(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Kge(t[r++])];return r&&r==n?e:void 0}var oP=Gge,Yge=oP;function Xge(e,t,r){var n=e==null?void 0:Yge(e,t);return n===void 0?r:n}var Lz=Xge;const Ys=Xt(Lz);function Qge(e){return e==null}var Zge=Qge;const ot=Xt(Zge);var Jge=$o,eve=Os,tve=Io,rve="[object String]";function nve(e){return typeof e=="string"||!eve(e)&&tve(e)&&Jge(e)==rve}var sve=nve;const ku=Xt(sve);var Fz={exports:{}},rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP=Symbol.for("react.element"),cP=Symbol.for("react.portal"),vw=Symbol.for("react.fragment"),yw=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),ave=Symbol.for("react.server_context"),jw=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),Nw=Symbol.for("react.suspense_list"),Sw=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),ive=Symbol.for("react.offscreen"),Uz;Uz=Symbol.for("react.module.reference");function Ca(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lP:switch(e=e.type,e){case vw:case xw:case yw:case _w:case Nw:return e;default:switch(e=e&&e.$$typeof,e){case ave:case ww:case jw:case Cw:case Sw:case bw:return e;default:return t}}case cP:return t}}}rr.ContextConsumer=ww;rr.ContextProvider=bw;rr.Element=lP;rr.ForwardRef=jw;rr.Fragment=vw;rr.Lazy=Cw;rr.Memo=Sw;rr.Portal=cP;rr.Profiler=xw;rr.StrictMode=yw;rr.Suspense=_w;rr.SuspenseList=Nw;rr.isAsyncMode=function(){return!1};rr.isConcurrentMode=function(){return!1};rr.isContextConsumer=function(e){return Ca(e)===ww};rr.isContextProvider=function(e){return Ca(e)===bw};rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lP};rr.isForwardRef=function(e){return Ca(e)===jw};rr.isFragment=function(e){return Ca(e)===vw};rr.isLazy=function(e){return Ca(e)===Cw};rr.isMemo=function(e){return Ca(e)===Sw};rr.isPortal=function(e){return Ca(e)===cP};rr.isProfiler=function(e){return Ca(e)===xw};rr.isStrictMode=function(e){return Ca(e)===yw};rr.isSuspense=function(e){return Ca(e)===_w};rr.isSuspenseList=function(e){return Ca(e)===Nw};rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vw||e===xw||e===yw||e===_w||e===Nw||e===ive||typeof e=="object"&&e!==null&&(e.$$typeof===Cw||e.$$typeof===Sw||e.$$typeof===bw||e.$$typeof===ww||e.$$typeof===jw||e.$$typeof===Uz||e.getModuleId!==void 0)};rr.typeOf=Ca;Fz.exports=rr;var ove=Fz.exports,lve=$o,cve=Io,uve="[object Number]";function dve(e){return typeof e=="number"||cve(e)&&lve(e)==uve}var Bz=dve;const fve=Xt(Bz);var hve=Bz;function mve(e){return hve(e)&&e!=+e}var pve=mve;const dv=Xt(pve);var Jn=function(t){return t===0?0:t>0?1:-1},Ic=function(t){return ku(t)&&t.indexOf("%")===t.length-1},_e=function(t){return fve(t)&&!dv(t)},gve=function(t){return ot(t)},fn=function(t){return _e(t)||ku(t)},vve=0,Th=function(t){var r=++vve;return"".concat(t||"").concat(r)},es=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&!ku(t))return n;var i;if(Ic(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return dv(i)&&(i=n),a&&i>r&&(i=r),i},dl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},yve=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Pn=function(t,r){return _e(t)&&_e(r)?function(n){return t+n*(r-t)}:function(){return r}};function Qx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ys(n,t))===r})}var xve=function(t,r){return _e(t)&&_e(r)?t-r:ku(t)&&ku(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Xd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}var bve=["viewBox","children"],wve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dD=["points","pathLength"],S_={svg:bve,polygon:dD,polyline:dD},uP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!Eh(n))return null;var a={};return Object.keys(n).forEach(function(i){uP.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},jve=function(t,r,n){return function(a){return t(r,n,a),null}},Eu=function(t,r,n){if(!Eh(t)||Q1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];uP.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=jve(o,r,n))}),a},_ve=["children"],Nve=["children"];function fD(e,t){if(e==null)return{};var r=Sve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}var hD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},mD=null,C_=null,dP=function e(t){if(t===mD&&Array.isArray(C_))return C_;var r=[];return y.Children.forEach(t,function(n){ot(n)||(ove.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),C_=r,mD=t,r};function Xs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return mo(a)}):n=[mo(t)],dP(e).forEach(function(a){var i=Ys(a,"type.displayName")||Ys(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Us(e,t){var r=Xs(e,t);return r&&r[0]}var pD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_e(n)||n<=0||!_e(a)||a<=0)},Cve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kve=function(t){return t&&t.type&&ku(t.type)&&Cve.indexOf(t.type)>=0},Eve=function(t){return t&&Z1(t)==="object"&&"clipDot"in t},Pve=function(t,r,n,a){var i,o=(i=S_==null?void 0:S_[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ye(t)&&(a&&o.includes(r)||wve.includes(r))||n&&uP.includes(r)},We=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!Eh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Pve((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},J1=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!gD(i,o))return!1}return!0},gD=function(t,r){if(ot(t)&&ot(r))return!0;if(!ot(t)&&!ot(r)){var n=t.props||{},a=n.children,i=fD(n,_ve),o=r.props||{},l=o.children,c=fD(o,Nve);return a&&l?Xd(i,c)&&J1(a,l):!a&&!l?Xd(i,c):!1}return!1},vD=function(t,r){var n=[],a={};return dP(t).forEach(function(i,o){if(kve(i))n.push(i);else if(i){var l=mo(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Ave=function(t){var r=t&&t.type;return r&&hD[r]?hD[r]:null},Ove=function(t,r){return dP(r).indexOf(t)},Tve=["children","width","height","viewBox","className","style","title","desc"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function Dve(e,t){if(e==null)return{};var r=Rve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Dve(e,Tve),d=a||{width:r,height:n,x:0,y:0},f=st("recharts-surface",i);return O.createElement("svg",eS({},We(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var Mve=["children","className"];function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function $ve(e,t){if(e==null)return{};var r=Ive(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ive(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $t=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=$ve(e,Mve),i=st("recharts-layer",n);return O.createElement("g",rS({className:i},We(a,!0),{ref:t}),r)}),Ga=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Lve(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Fve=Lve,Uve=Fve;function Bve(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Uve(e,t,r)}var zve=Bve,Vve="\\ud800-\\udfff",qve="\\u0300-\\u036f",Wve="\\ufe20-\\ufe2f",Hve="\\u20d0-\\u20ff",Kve=qve+Wve+Hve,Gve="\\ufe0e\\ufe0f",Yve="\\u200d",Xve=RegExp("["+Yve+Vve+Kve+Gve+"]");function Qve(e){return Xve.test(e)}var zz=Qve;function Zve(e){return e.split("")}var Jve=Zve,Vz="\\ud800-\\udfff",eye="\\u0300-\\u036f",tye="\\ufe20-\\ufe2f",rye="\\u20d0-\\u20ff",nye=eye+tye+rye,sye="\\ufe0e\\ufe0f",aye="["+Vz+"]",nS="["+nye+"]",sS="\\ud83c[\\udffb-\\udfff]",iye="(?:"+nS+"|"+sS+")",qz="[^"+Vz+"]",Wz="(?:\\ud83c[\\udde6-\\uddff]){2}",Hz="[\\ud800-\\udbff][\\udc00-\\udfff]",oye="\\u200d",Kz=iye+"?",Gz="["+sye+"]?",lye="(?:"+oye+"(?:"+[qz,Wz,Hz].join("|")+")"+Gz+Kz+")*",cye=Gz+Kz+lye,uye="(?:"+[qz+nS+"?",nS,Wz,Hz,aye].join("|")+")",dye=RegExp(sS+"(?="+sS+")|"+uye+cye,"g");function fye(e){return e.match(dye)||[]}var hye=fye,mye=Jve,pye=zz,gye=hye;function vye(e){return pye(e)?gye(e):mye(e)}var yye=vye,xye=zve,bye=zz,wye=yye,jye=$z;function _ye(e){return function(t){t=jye(t);var r=bye(t)?wye(t):void 0,n=r?r[0]:t.charAt(0),a=r?xye(r,1).join(""):t.slice(1);return n[e]()+a}}var Nye=_ye,Sye=Nye,Cye=Sye("toUpperCase"),kye=Cye;const kw=Xt(kye);function fr(e){return function(){return e}}const Yz=Math.cos,Jx=Math.sin,di=Math.sqrt,eb=Math.PI,Ew=2*eb,aS=Math.PI,iS=2*aS,Nc=1e-6,Eye=iS-Nc;function Xz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Pye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xz;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Aye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xz:Pye(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Nc)if(!(Math.abs(f*c-u*d)>Nc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=i*Math.tan((aS-Math.acos((p+h-v)/(2*b*x)))/2),_=w/x,j=w/b;Math.abs(_-1)>Nc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nc||Math.abs(this._y1-d)>Nc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%iS+iS),h>Eye?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nc&&this._append`A${n},${n},0,${+(h>=aS)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Aye(t)}function hP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Qz(e){this._context=e}Qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pw(e){return new Qz(e)}function Zz(e){return e[0]}function Jz(e){return e[1]}function eV(e,t){var r=fr(!0),n=null,a=Pw,i=null,o=fP(l);e=typeof e=="function"?e:e===void 0?Zz:fr(e),t=typeof t=="function"?t:t===void 0?Jz:fr(t);function l(c){var u,d=(c=hP(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:fr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:fr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:fr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function oy(e,t,r){var n=null,a=fr(!0),i=null,o=Pw,l=null,c=fP(u);e=typeof e=="function"?e:e===void 0?Zz:fr(+e),t=typeof t=="function"?t:fr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Jz:fr(+r);function u(f){var h,m,g,p=(f=hP(f)).length,v,b=!1,x,w=new Array(p),_=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return eV().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:fr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:fr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:fr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class tV{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Oye(e){return new tV(e,!0)}function Tye(e){return new tV(e,!1)}const mP={draw(e,t){const r=di(t/eb);e.moveTo(r,0),e.arc(0,0,r,0,Ew)}},Dye={draw(e,t){const r=di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rV=di(1/3),Rye=rV*2,Mye={draw(e,t){const r=di(t/Rye),n=r*rV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$ye={draw(e,t){const r=di(t),n=-r/2;e.rect(n,n,r,r)}},Iye=.8908130915292852,nV=Jx(eb/10)/Jx(7*eb/10),Lye=Jx(Ew/10)*nV,Fye=-Yz(Ew/10)*nV,Uye={draw(e,t){const r=di(t*Iye),n=Lye*r,a=Fye*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Ew*i/5,l=Yz(o),c=Jx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},k_=di(3),Bye={draw(e,t){const r=-di(t/(k_*3));e.moveTo(0,r*2),e.lineTo(-k_*r,-r),e.lineTo(k_*r,-r),e.closePath()}},oa=-.5,la=di(3)/2,oS=1/di(12),zye=(oS/2+1)*3,Vye={draw(e,t){const r=di(t/zye),n=r/2,a=r*oS,i=n,o=r*oS+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(oa*n-la*a,la*n+oa*a),e.lineTo(oa*i-la*o,la*i+oa*o),e.lineTo(oa*l-la*c,la*l+oa*c),e.lineTo(oa*n+la*a,oa*a-la*n),e.lineTo(oa*i+la*o,oa*o-la*i),e.lineTo(oa*l+la*c,oa*c-la*l),e.closePath()}};function qye(e,t){let r=null,n=fP(a);e=typeof e=="function"?e:fr(e||mP),t=typeof t=="function"?t:fr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:fr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:fr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function tb(){}function rb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sV(e){this._context=e}sV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wye(e){return new sV(e)}function aV(e){this._context=e}aV.prototype={areaStart:tb,areaEnd:tb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hye(e){return new aV(e)}function iV(e){this._context=e}iV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kye(e){return new iV(e)}function oV(e){this._context=e}oV.prototype={areaStart:tb,areaEnd:tb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Gye(e){return new oV(e)}function yD(e){return e<0?-1:1}function xD(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(yD(i)+yD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function bD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function E_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function nb(e){this._context=e}nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E_(this,this._t0,bD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,E_(this,bD(this,r=xD(this,e,t)),r);break;default:E_(this,this._t0,r=xD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lV(e){this._context=new cV(e)}(lV.prototype=Object.create(nb.prototype)).point=function(e,t){nb.prototype.point.call(this,t,e)};function cV(e){this._context=e}cV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Yye(e){return new nb(e)}function Xye(e){return new lV(e)}function uV(e){this._context=e}uV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wD(e),a=wD(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wD(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Qye(e){return new uV(e)}function Aw(e,t){this._context=e,this._t=t}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Zye(e){return new Aw(e,.5)}function Jye(e){return new Aw(e,0)}function exe(e){return new Aw(e,1)}function Rf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function lS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function txe(e,t){return e[t]}function rxe(e){const t=[];return t.key=e,t}function nxe(){var e=fr([]),t=lS,r=Rf,n=txe;function a(i){var o=Array.from(e.apply(this,arguments),rxe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=hP(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:fr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:fr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?lS:typeof i=="function"?i:fr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Rf,a):r},a}function sxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Rf(e,t)}}function axe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rf(e,t)}}function ixe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Rf(e,t)}}function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}var oxe=["type","size","sizeType"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return t=cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return Gp(t)=="symbol"?t:t+""}function uxe(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e,t){if(e==null)return{};var r=fxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dV={symbolCircle:mP,symbolCross:Dye,symbolDiamond:Mye,symbolSquare:$ye,symbolStar:Uye,symbolTriangle:Bye,symbolWye:Vye},hxe=Math.PI/180,mxe=function(t){var r="symbol".concat(kw(t));return dV[r]||mP},pxe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*hxe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},gxe=function(t,r){dV["symbol".concat(kw(t))]=r},pP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=dxe(t,oxe),u=_D(_D({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=mxe(n),b=qye().type(v).size(pxe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=We(u,!0);return h===+h&&m===+m&&i===+i?O.createElement("path",cS({},g,{className:st("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};pP.registerSymbol=gxe;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uS.apply(this,arguments)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){Yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hV(n.key),n)}}function bxe(e,t,r){return t&&xxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wxe(e,t,r){return t=sb(t),jxe(e,fV()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function jxe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function Nxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(e,t)}function Yp(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=Sxe(e,"string");return Mf(t)=="symbol"?t:t+""}function Sxe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ca=32,gP=function(e){function t(){return yxe(this,t),wxe(this,t,arguments)}return Nxe(t,e),bxe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ca/2,o=ca/6,l=ca/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ca,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ca,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ca/8,"h").concat(ca,"v").concat(ca*3/4,"h").concat(-ca,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=vxe({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(pP,{fill:c,cx:i,cy:i,size:ca,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ca,height:ca},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=st(Yp(Yp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Ye(m.value)?null:m.value;Ga(!Ye(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return O.createElement("li",uS({className:v,style:f,key:"legend-item-".concat(g)},Eu(n.props,m,g)),O.createElement(tS,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Yp(gP,"displayName","Legend");Yp(gP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Cxe=mw;function kxe(){this.__data__=new Cxe,this.size=0}var Exe=kxe;function Pxe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Axe=Pxe;function Oxe(e){return this.__data__.get(e)}var Txe=Oxe;function Dxe(e){return this.__data__.has(e)}var Rxe=Dxe,Mxe=mw,$xe=nP,Ixe=sP,Lxe=200;function Fxe(e,t){var r=this.__data__;if(r instanceof Mxe){var n=r.__data__;if(!$xe||n.length<Lxe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ixe(n)}return r.set(e,t),this.size=r.size,this}var Uxe=Fxe,Bxe=mw,zxe=Exe,Vxe=Axe,qxe=Txe,Wxe=Rxe,Hxe=Uxe;function Dh(e){var t=this.__data__=new Bxe(e);this.size=t.size}Dh.prototype.clear=zxe;Dh.prototype.delete=Vxe;Dh.prototype.get=qxe;Dh.prototype.has=Wxe;Dh.prototype.set=Hxe;var mV=Dh,Kxe="__lodash_hash_undefined__";function Gxe(e){return this.__data__.set(e,Kxe),this}var Yxe=Gxe;function Xxe(e){return this.__data__.has(e)}var Qxe=Xxe,Zxe=sP,Jxe=Yxe,ebe=Qxe;function ab(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Zxe;++t<r;)this.add(e[t])}ab.prototype.add=ab.prototype.push=Jxe;ab.prototype.has=ebe;var pV=ab;function tbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var gV=tbe;function rbe(e,t){return e.has(t)}var vV=rbe,nbe=pV,sbe=gV,abe=vV,ibe=1,obe=2;function lbe(e,t,r,n,a,i){var o=r&ibe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&obe?new nbe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!sbe(t,function(b,x){if(!abe(m,x)&&(g===b||a(g,b,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var yV=lbe,cbe=Wi,ube=cbe.Uint8Array,dbe=ube;function fbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var hbe=fbe;function mbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var vP=mbe,SD=uv,CD=dbe,pbe=rP,gbe=yV,vbe=hbe,ybe=vP,xbe=1,bbe=2,wbe="[object Boolean]",jbe="[object Date]",_be="[object Error]",Nbe="[object Map]",Sbe="[object Number]",Cbe="[object RegExp]",kbe="[object Set]",Ebe="[object String]",Pbe="[object Symbol]",Abe="[object ArrayBuffer]",Obe="[object DataView]",kD=SD?SD.prototype:void 0,P_=kD?kD.valueOf:void 0;function Tbe(e,t,r,n,a,i,o){switch(r){case Obe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Abe:return!(e.byteLength!=t.byteLength||!i(new CD(e),new CD(t)));case wbe:case jbe:case Sbe:return pbe(+e,+t);case _be:return e.name==t.name&&e.message==t.message;case Cbe:case Ebe:return e==t+"";case Nbe:var l=vbe;case kbe:var c=n&xbe;if(l||(l=ybe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=bbe,o.set(e,t);var d=gbe(l(e),l(t),n,a,i,o);return o.delete(e),d;case Pbe:if(P_)return P_.call(e)==P_.call(t)}return!1}var Dbe=Tbe;function Rbe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var xV=Rbe,Mbe=xV,$be=Os;function Ibe(e,t,r){var n=t(e);return $be(e)?n:Mbe(n,r(e))}var Lbe=Ibe;function Fbe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Ube=Fbe;function Bbe(){return[]}var zbe=Bbe,Vbe=Ube,qbe=zbe,Wbe=Object.prototype,Hbe=Wbe.propertyIsEnumerable,ED=Object.getOwnPropertySymbols,Kbe=ED?function(e){return e==null?[]:(e=Object(e),Vbe(ED(e),function(t){return Hbe.call(e,t)}))}:qbe,Gbe=Kbe;function Ybe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Xbe=Ybe,Qbe=$o,Zbe=Io,Jbe="[object Arguments]";function e0e(e){return Zbe(e)&&Qbe(e)==Jbe}var t0e=e0e,PD=t0e,r0e=Io,bV=Object.prototype,n0e=bV.hasOwnProperty,s0e=bV.propertyIsEnumerable,a0e=PD(function(){return arguments}())?PD:function(e){return r0e(e)&&n0e.call(e,"callee")&&!s0e.call(e,"callee")},yP=a0e,ib={exports:{}};function i0e(){return!1}var o0e=i0e;ib.exports;(function(e,t){var r=Wi,n=o0e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ib,ib.exports);var wV=ib.exports,l0e=9007199254740991,c0e=/^(?:0|[1-9]\d*)$/;function u0e(e,t){var r=typeof e;return t=t??l0e,!!t&&(r=="number"||r!="symbol"&&c0e.test(e))&&e>-1&&e%1==0&&e<t}var xP=u0e,d0e=9007199254740991;function f0e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=d0e}var bP=f0e,h0e=$o,m0e=bP,p0e=Io,g0e="[object Arguments]",v0e="[object Array]",y0e="[object Boolean]",x0e="[object Date]",b0e="[object Error]",w0e="[object Function]",j0e="[object Map]",_0e="[object Number]",N0e="[object Object]",S0e="[object RegExp]",C0e="[object Set]",k0e="[object String]",E0e="[object WeakMap]",P0e="[object ArrayBuffer]",A0e="[object DataView]",O0e="[object Float32Array]",T0e="[object Float64Array]",D0e="[object Int8Array]",R0e="[object Int16Array]",M0e="[object Int32Array]",$0e="[object Uint8Array]",I0e="[object Uint8ClampedArray]",L0e="[object Uint16Array]",F0e="[object Uint32Array]",wr={};wr[O0e]=wr[T0e]=wr[D0e]=wr[R0e]=wr[M0e]=wr[$0e]=wr[I0e]=wr[L0e]=wr[F0e]=!0;wr[g0e]=wr[v0e]=wr[P0e]=wr[y0e]=wr[A0e]=wr[x0e]=wr[b0e]=wr[w0e]=wr[j0e]=wr[_0e]=wr[N0e]=wr[S0e]=wr[C0e]=wr[k0e]=wr[E0e]=!1;function U0e(e){return p0e(e)&&m0e(e.length)&&!!wr[h0e(e)]}var B0e=U0e;function z0e(e){return function(t){return e(t)}}var jV=z0e,ob={exports:{}};ob.exports;(function(e,t){var r=Az,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ob,ob.exports);var V0e=ob.exports,q0e=B0e,W0e=jV,AD=V0e,OD=AD&&AD.isTypedArray,H0e=OD?W0e(OD):q0e,_V=H0e,K0e=Xbe,G0e=yP,Y0e=Os,X0e=wV,Q0e=xP,Z0e=_V,J0e=Object.prototype,ewe=J0e.hasOwnProperty;function twe(e,t){var r=Y0e(e),n=!r&&G0e(e),a=!r&&!n&&X0e(e),i=!r&&!n&&!a&&Z0e(e),o=r||n||a||i,l=o?K0e(e.length,String):[],c=l.length;for(var u in e)(t||ewe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Q0e(u,c)))&&l.push(u);return l}var rwe=twe,nwe=Object.prototype;function swe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||nwe;return e===r}var awe=swe;function iwe(e,t){return function(r){return e(t(r))}}var NV=iwe,owe=NV,lwe=owe(Object.keys,Object),cwe=lwe,uwe=awe,dwe=cwe,fwe=Object.prototype,hwe=fwe.hasOwnProperty;function mwe(e){if(!uwe(e))return dwe(e);var t=[];for(var r in Object(e))hwe.call(e,r)&&r!="constructor"&&t.push(r);return t}var pwe=mwe,gwe=tP,vwe=bP;function ywe(e){return e!=null&&vwe(e.length)&&!gwe(e)}var fv=ywe,xwe=rwe,bwe=pwe,wwe=fv;function jwe(e){return wwe(e)?xwe(e):bwe(e)}var Ow=jwe,_we=Lbe,Nwe=Gbe,Swe=Ow;function Cwe(e){return _we(e,Swe,Nwe)}var kwe=Cwe,TD=kwe,Ewe=1,Pwe=Object.prototype,Awe=Pwe.hasOwnProperty;function Owe(e,t,r,n,a,i){var o=r&Ewe,l=TD(e),c=l.length,u=TD(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Awe.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var Twe=Owe,Dwe=qu,Rwe=Wi,Mwe=Dwe(Rwe,"DataView"),$we=Mwe,Iwe=qu,Lwe=Wi,Fwe=Iwe(Lwe,"Promise"),Uwe=Fwe,Bwe=qu,zwe=Wi,Vwe=Bwe(zwe,"Set"),SV=Vwe,qwe=qu,Wwe=Wi,Hwe=qwe(Wwe,"WeakMap"),Kwe=Hwe,fS=$we,hS=nP,mS=Uwe,pS=SV,gS=Kwe,CV=$o,Rh=Tz,DD="[object Map]",Gwe="[object Object]",RD="[object Promise]",MD="[object Set]",$D="[object WeakMap]",ID="[object DataView]",Ywe=Rh(fS),Xwe=Rh(hS),Qwe=Rh(mS),Zwe=Rh(pS),Jwe=Rh(gS),Sc=CV;(fS&&Sc(new fS(new ArrayBuffer(1)))!=ID||hS&&Sc(new hS)!=DD||mS&&Sc(mS.resolve())!=RD||pS&&Sc(new pS)!=MD||gS&&Sc(new gS)!=$D)&&(Sc=function(e){var t=CV(e),r=t==Gwe?e.constructor:void 0,n=r?Rh(r):"";if(n)switch(n){case Ywe:return ID;case Xwe:return DD;case Qwe:return RD;case Zwe:return MD;case Jwe:return $D}return t});var eje=Sc,A_=mV,tje=yV,rje=Dbe,nje=Twe,LD=eje,FD=Os,UD=wV,sje=_V,aje=1,BD="[object Arguments]",zD="[object Array]",ly="[object Object]",ije=Object.prototype,VD=ije.hasOwnProperty;function oje(e,t,r,n,a,i){var o=FD(e),l=FD(t),c=o?zD:LD(e),u=l?zD:LD(t);c=c==BD?ly:c,u=u==BD?ly:u;var d=c==ly,f=u==ly,h=c==u;if(h&&UD(e)){if(!UD(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new A_),o||sje(e)?tje(e,t,r,n,a,i):rje(e,t,c,r,n,a,i);if(!(r&aje)){var m=d&&VD.call(e,"__wrapped__"),g=f&&VD.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new A_),a(p,v,r,n,i)}}return h?(i||(i=new A_),nje(e,t,r,n,a,i)):!1}var lje=oje,cje=lje,qD=Io;function kV(e,t,r,n,a){return e===t?!0:e==null||t==null||!qD(e)&&!qD(t)?e!==e&&t!==t:cje(e,t,r,n,kV,a)}var wP=kV,uje=mV,dje=wP,fje=1,hje=2;function mje(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new uje;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?dje(d,u,fje|hje,n,f):h))return!1}}return!0}var pje=mje,gje=cc;function vje(e){return e===e&&!gje(e)}var EV=vje,yje=EV,xje=Ow;function bje(e){for(var t=xje(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,yje(a)]}return t}var wje=bje;function jje(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var PV=jje,_je=pje,Nje=wje,Sje=PV;function Cje(e){var t=Nje(e);return t.length==1&&t[0][2]?Sje(t[0][0],t[0][1]):function(r){return r===e||_je(r,e,t)}}var kje=Cje;function Eje(e,t){return e!=null&&t in Object(e)}var Pje=Eje,Aje=Iz,Oje=yP,Tje=Os,Dje=xP,Rje=bP,Mje=gw;function $je(e,t,r){t=Aje(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Mje(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Rje(a)&&Dje(o,a)&&(Tje(e)||Oje(e)))}var Ije=$je,Lje=Pje,Fje=Ije;function Uje(e,t){return e!=null&&Fje(e,t,Lje)}var Bje=Uje,zje=wP,Vje=Lz,qje=Bje,Wje=eP,Hje=EV,Kje=PV,Gje=gw,Yje=1,Xje=2;function Qje(e,t){return Wje(e)&&Hje(t)?Kje(Gje(e),t):function(r){var n=Vje(r,e);return n===void 0&&n===t?qje(r,e):zje(t,n,Yje|Xje)}}var Zje=Qje;function Jje(e){return e}var Mh=Jje;function e_e(e){return function(t){return t==null?void 0:t[e]}}var t_e=e_e,r_e=oP;function n_e(e){return function(t){return r_e(t,e)}}var s_e=n_e,a_e=t_e,i_e=s_e,o_e=eP,l_e=gw;function c_e(e){return o_e(e)?a_e(l_e(e)):i_e(e)}var u_e=c_e,d_e=kje,f_e=Zje,h_e=Mh,m_e=Os,p_e=u_e;function g_e(e){return typeof e=="function"?e:e==null?h_e:typeof e=="object"?m_e(e)?f_e(e[0],e[1]):d_e(e):p_e(e)}var Hi=g_e;function v_e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var AV=v_e;function y_e(e){return e!==e}var x_e=y_e;function b_e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var w_e=b_e,j_e=AV,__e=x_e,N_e=w_e;function S_e(e,t,r){return t===t?N_e(e,t,r):j_e(e,__e,r)}var C_e=S_e,k_e=C_e;function E_e(e,t){var r=e==null?0:e.length;return!!r&&k_e(e,t,0)>-1}var P_e=E_e;function A_e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var O_e=A_e;function T_e(){}var D_e=T_e,O_=SV,R_e=D_e,M_e=vP,$_e=1/0,I_e=O_&&1/M_e(new O_([,-0]))[1]==$_e?function(e){return new O_(e)}:R_e,L_e=I_e,F_e=pV,U_e=P_e,B_e=O_e,z_e=vV,V_e=L_e,q_e=vP,W_e=200;function H_e(e,t,r){var n=-1,a=U_e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=B_e;else if(i>=W_e){var u=t?null:V_e(e);if(u)return q_e(u);o=!1,a=z_e,c=new F_e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var K_e=H_e,G_e=Hi,Y_e=K_e;function X_e(e,t){return e&&e.length?Y_e(e,G_e(t)):[]}var Q_e=X_e;const WD=Xt(Q_e);function OV(e,t,r){return t===!0?WD(e,r):Ye(t)?WD(e,t):e}function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}var Z_e=["ref"];function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DV(n.key),n)}}function eNe(e,t,r){return t&&KD(e.prototype,t),r&&KD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tNe(e,t,r){return t=lb(t),rNe(e,TV()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function rNe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nNe(e)}function nNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function sNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vS(e,t)}function Tw(e,t,r){return t=DV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DV(e){var t=aNe(e,"string");return $f(t)=="symbol"?t:t+""}function aNe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iNe(e,t){if(e==null)return{};var r=oNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lNe(e){return e.value}function cNe(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=iNe(t,Z_e);return O.createElement(gP,r)}var GD=1,Jc=function(e){function t(){var r;J_e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=tNe(this,t,[].concat(a)),Tw(r,"lastBoundingBox",{width:-1,height:-1}),r}return sNe(t,e),eNe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>GD||Math.abs(a.height-this.lastBoundingBox.height)>GD)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xi(Xi({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Xi(Xi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},cNe(i,Xi(Xi({},this.props),{},{payload:OV(d,u,lNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Xi(Xi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);Tw(Jc,"displayName","Legend");Tw(Jc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var YD=uv,uNe=yP,dNe=Os,XD=YD?YD.isConcatSpreadable:void 0;function fNe(e){return dNe(e)||uNe(e)||!!(XD&&e&&e[XD])}var hNe=fNe,mNe=xV,pNe=hNe;function RV(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=pNe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?RV(l,t-1,r,n,a):mNe(a,l):n||(a[a.length]=l)}return a}var MV=RV;function gNe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var vNe=gNe,yNe=vNe,xNe=yNe(),bNe=xNe,wNe=bNe,jNe=Ow;function _Ne(e,t){return e&&wNe(e,t,jNe)}var $V=_Ne,NNe=fv;function SNe(e,t){return function(r,n){if(r==null)return r;if(!NNe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var CNe=SNe,kNe=$V,ENe=CNe,PNe=ENe(kNe),jP=PNe,ANe=jP,ONe=fv;function TNe(e,t){var r=-1,n=ONe(e)?Array(e.length):[];return ANe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var IV=TNe;function DNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var RNe=DNe,QD=kh;function MNe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=QD(e),o=t!==void 0,l=t===null,c=t===t,u=QD(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var $Ne=MNe,INe=$Ne;function LNe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=INe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var FNe=LNe,T_=iP,UNe=oP,BNe=Hi,zNe=IV,VNe=RNe,qNe=jV,WNe=FNe,HNe=Mh,KNe=Os;function GNe(e,t,r){t.length?t=T_(t,function(i){return KNe(i)?function(o){return UNe(o,i.length===1?i[0]:i)}:i}):t=[HNe];var n=-1;t=T_(t,qNe(BNe));var a=zNe(e,function(i,o,l){var c=T_(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return VNe(a,function(i,o){return WNe(i,o,r)})}var YNe=GNe;function XNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var QNe=XNe,ZNe=QNe,ZD=Math.max;function JNe(e,t,r){return t=ZD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=ZD(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),ZNe(e,this,l)}}var e1e=JNe;function t1e(e){return function(){return e}}var r1e=t1e,n1e=qu,s1e=function(){try{var e=n1e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),LV=s1e,a1e=r1e,JD=LV,i1e=Mh,o1e=JD?function(e,t){return JD(e,"toString",{configurable:!0,enumerable:!1,value:a1e(t),writable:!0})}:i1e,l1e=o1e,c1e=800,u1e=16,d1e=Date.now;function f1e(e){var t=0,r=0;return function(){var n=d1e(),a=u1e-(n-r);if(r=n,a>0){if(++t>=c1e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var h1e=f1e,m1e=l1e,p1e=h1e,g1e=p1e(m1e),v1e=g1e,y1e=Mh,x1e=e1e,b1e=v1e;function w1e(e,t){return b1e(x1e(e,t,y1e),e+"")}var j1e=w1e,_1e=rP,N1e=fv,S1e=xP,C1e=cc;function k1e(e,t,r){if(!C1e(r))return!1;var n=typeof t;return(n=="number"?N1e(r)&&S1e(t,r.length):n=="string"&&t in r)?_1e(r[t],e):!1}var Dw=k1e,E1e=MV,P1e=YNe,A1e=j1e,eR=Dw,O1e=A1e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&eR(e,t[0],t[1])?t=[]:r>2&&eR(t[0],t[1],t[2])&&(t=[t[0]]),P1e(e,E1e(t,1),[])}),T1e=O1e;const _P=Xt(T1e);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(this,arguments)}function D1e(e,t){return I1e(e)||$1e(e,t)||M1e(e,t)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(e,t){if(e){if(typeof e=="string")return tR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tR(e,t)}}function tR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I1e(e){if(Array.isArray(e))return e}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){L1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return Xp(t)=="symbol"?t:t+""}function U1e(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1e(e){return Array.isArray(e)&&fn(e[0])&&fn(e[1])?e.join(" ~ "):e}var z1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},R=(h?_P(d,h):d).map(function($,B){if($.type==="none")return null;var F=D_({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),L=$.formatter||f||B1e,D=$.value,T=$.name,U=D,Q=T;if(L&&U!=null&&Q!=null){var K=L(D,T,$,B,d);if(Array.isArray(K)){var oe=D1e(K,2);U=oe[0],Q=oe[1]}else U=K}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:F},fn(Q)?O.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,fn(Q)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},U),O.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:E},R)}return null},_=D_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=D_({margin:0},u),N=!ot(p),S=N?p:"",k=st("recharts-default-tooltip",m),C=st("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(S=v(p,d));var P=x?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",yS({className:k,style:_},P),O.createElement("p",{className:C,style:j},O.isValidElement(S)?S:"".concat(S)),w())};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function cy(e,t,r){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V1e(e){var t=q1e(e,"string");return Qp(t)=="symbol"?t:t+""}function q1e(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vm="recharts-tooltip-wrapper",W1e={visibility:"hidden"};function H1e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return st(vm,cy(cy(cy(cy({},"".concat(vm,"-right"),_e(r)&&t&&_e(t.x)&&r>=t.x),"".concat(vm,"-left"),_e(r)&&t&&_e(t.x)&&r<t.x),"".concat(vm,"-bottom"),_e(n)&&t&&_e(t.y)&&n>=t.y),"".concat(vm,"-top"),_e(n)&&t&&_e(t.y)&&n<t.y))}function nR(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&_e(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function K1e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function G1e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=nR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=nR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=K1e({translateX:d,translateY:f,useTranslate3d:l})):u=W1e,{cssProperties:u,cssClasses:H1e({translateX:d,translateY:f,coordinate:r})}}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){bS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UV(n.key),n)}}function Q1e(e,t,r){return t&&X1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z1e(e,t,r){return t=cb(t),J1e(e,FV()?Reflect.construct(t,r||[],cb(e).constructor):t.apply(e,r))}function J1e(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eSe(e)}function eSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(e)}function tSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xS(e,t)}function bS(e,t,r){return t=UV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=rSe(e,"string");return If(t)=="symbol"?t:t+""}function rSe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iR=1,nSe=function(e){function t(){var r;Y1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Z1e(this,t,[].concat(a)),bS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return tSe(t,e),Q1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iR||Math.abs(n.height-this.state.lastBoundingBox.height)>iR)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=G1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,j=w.cssProperties,N=aR(aR({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return O.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),sSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ya={isSsr:sSe(),get:function(t){return Ya[t]},set:function(t,r){if(typeof t=="string")Ya[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Ya[a]=t[a]})}}};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){NP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function oSe(e,t,r){return t&&iSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lSe(e,t,r){return t=ub(t),cSe(e,BV()?Reflect.construct(t,r||[],ub(e).constructor):t.apply(e,r))}function cSe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(e)}function uSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(e)}function dSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(e,t)}function NP(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=fSe(e,"string");return Lf(t)=="symbol"?t:t+""}function fSe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hSe(e){return e.dataKey}function mSe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(z1e,t)}var vs=function(e){function t(){return aSe(this,t),lSe(this,t,arguments)}return dSe(t,e),oSe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,j=g??[];f&&j.length&&(j=OV(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,hSe));var N=j.length>0;return O.createElement(nSe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},mSe(u,lR(lR({},this.props),{},{payload:j})))}}])}(y.PureComponent);NP(vs,"displayName","Tooltip");NP(vs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ya.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pSe=Wi,gSe=function(){return pSe.Date.now()},vSe=gSe,ySe=/\s/;function xSe(e){for(var t=e.length;t--&&ySe.test(e.charAt(t)););return t}var bSe=xSe,wSe=bSe,jSe=/^\s+/;function _Se(e){return e&&e.slice(0,wSe(e)+1).replace(jSe,"")}var NSe=_Se,SSe=NSe,cR=cc,CSe=kh,uR=NaN,kSe=/^[-+]0x[0-9a-f]+$/i,ESe=/^0b[01]+$/i,PSe=/^0o[0-7]+$/i,ASe=parseInt;function OSe(e){if(typeof e=="number")return e;if(CSe(e))return uR;if(cR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SSe(e);var r=ESe.test(e);return r||PSe.test(e)?ASe(e.slice(2),r?2:8):kSe.test(e)?uR:+e}var VV=OSe,TSe=cc,R_=vSe,dR=VV,DSe="Expected a function",RSe=Math.max,MSe=Math.min;function $Se(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(DSe);t=dR(t)||0,TSe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?RSe(dR(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function g(N){return u=N,l=setTimeout(b,t),d?m(N):o}function p(N){var S=N-c,k=N-u,C=t-S;return f?MSe(C,i-k):C}function v(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=i}function b(){var N=R_();if(v(N))return x(N);l=setTimeout(b,p(N))}function x(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(R_())}function j(){var N=R_(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var ISe=$Se,LSe=ISe,FSe=cc,USe="Expected a function";function BSe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(USe);return FSe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),LSe(e,t,{leading:n,maxWait:t,trailing:a})}var zSe=BSe;const qV=Xt(zSe);function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){VSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VSe(e,t,r){return t=qSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qSe(e){var t=WSe(e,"string");return Zp(t)=="symbol"?t:t+""}function WSe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HSe(e,t){return XSe(e)||YSe(e,t)||GSe(e,t)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(e,t){if(e){if(typeof e=="string")return hR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XSe(e){if(Array.isArray(e))return e}var ym=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,j=y.useRef(null),N=y.useRef();N.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=y.useState({containerWidth:a.width,containerHeight:a.height}),k=HSe(S,2),C=k[0],P=k[1],A=y.useCallback(function(R,$){P(function(B){var F=Math.round(R),L=Math.round($);return B.containerWidth===F&&B.containerHeight===L?B:{containerWidth:F,containerHeight:L}})},[]);y.useEffect(function(){var R=function(T){var U,Q=T[0].contentRect,K=Q.width,oe=Q.height;A(K,oe),(U=N.current)===null||U===void 0||U.call(N,K,oe)};p>0&&(R=qV(R,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),B=j.current.getBoundingClientRect(),F=B.width,L=B.height;return A(F,L),$.observe(j.current),function(){$.disconnect()}},[A,p]);var E=y.useMemo(function(){var R=C.containerWidth,$=C.containerHeight;if(R<0||$<0)return null;Ga(Ic(o)||Ic(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Ic(o)?R:o,F=Ic(c)?$:c;r&&r>0&&(B?F=B/r:F&&(B=F*r),h&&F>h&&(F=h)),Ga(B>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,F,o,c,d,f,r);var L=!Array.isArray(m)&&mo(m.type).endsWith("Chart");return O.Children.map(m,function(D){return O.isValidElement(D)?y.cloneElement(D,uy({width:B,height:F},L?{style:uy({height:"100%",width:"100%",maxHeight:F,maxWidth:B},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return O.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",b),style:uy(uy({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),Rw=function(t){return null};Rw.displayName="Cell";function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){QSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QSe(e,t,r){return t=ZSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZSe(e){var t=JSe(e,"string");return Jp(t)=="symbol"?t:t+""}function JSe(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cd={widthCache:{},cacheCount:0},eCe=2e3,tCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pR="recharts_measurement_span";function rCe(e){var t=jS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var sp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ya.isSsr)return{width:0,height:0};var n=rCe(r),a=JSON.stringify({text:t,copyStyle:n});if(cd.widthCache[a])return cd.widthCache[a];try{var i=document.getElementById(pR);i||(i=document.createElement("span"),i.setAttribute("id",pR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=jS(jS({},tCe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return cd.widthCache[a]=c,++cd.cacheCount>eCe&&(cd.cacheCount=0,cd.widthCache={}),c}catch{return{width:0,height:0}}},nCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function db(e,t){return oCe(e)||iCe(e,t)||aCe(e,t)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(e,t){if(e){if(typeof e=="string")return gR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gR(e,t)}}function gR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oCe(e){if(Array.isArray(e))return e}function lCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uCe(n.key),n)}}function cCe(e,t,r){return t&&vR(e.prototype,t),r&&vR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uCe(e){var t=dCe(e,"string");return eg(t)=="symbol"?t:t+""}function dCe(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mCe=Object.keys(WV),Od="NaN";function pCe(e,t){return e*WV[t]}var dy=function(){function e(t,r){lCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!fCe.test(r)&&(this.num=NaN,this.unit=""),mCe.includes(r)&&(this.num=pCe(t,r),this.unit="px")}return cCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=hCe.exec(r))!==null&&n!==void 0?n:[],i=db(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function HV(e){if(e.includes(Od))return Od;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=yR.exec(t))!==null&&r!==void 0?r:[],a=db(n,4),i=a[1],o=a[2],l=a[3],c=dy.parse(i??""),u=dy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Od;t=t.replace(yR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=xR.exec(t))!==null&&f!==void 0?f:[],m=db(h,4),g=m[1],p=m[2],v=m[3],b=dy.parse(g??""),x=dy.parse(v??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return Od;t=t.replace(xR,w.toString())}return t}var bR=/\(([^()]*)\)/;function gCe(e){for(var t=e;t.includes("(");){var r=bR.exec(t),n=db(r,2),a=n[1];t=t.replace(bR,HV(a))}return t}function vCe(e){var t=e.replace(/\s+/g,"");return t=gCe(t),t=HV(t),t}function yCe(e){try{return vCe(e)}catch{return Od}}function M_(e){var t=yCe(e.slice(5,-1));return t===Od?"":t}var xCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bCe=["dx","dy","angle","className","breakAll"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function wR(e,t){if(e==null)return{};var r=wCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jR(e,t){return SCe(e)||NCe(e,t)||_Ce(e,t)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ce(e,t){if(e){if(typeof e=="string")return _R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _R(e,t)}}function _R(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SCe(e){if(Array.isArray(e))return e}var KV=/[ \f\n\r\t\v\u2028\u2029]+/,GV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];ot(r)||(n?i=r.toString().split(""):i=r.toString().split(KV));var o=i.map(function(c){return{word:c,width:sp(c,a).width}}),l=n?0:sp("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},CCe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=_e(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(F,L){var D=L.word,T=L.width,U=F[F.length-1];if(U&&(a==null||i||U.width+T+n<Number(a)))U.words.push(D),U.width+=T+n;else{var Q={words:[D],width:T};F.push(Q)}return F},[])},m=h(r),g=function(B){return B.reduce(function(F,L){return F.width>L.width?F:L})};if(!d)return m;for(var p="",v=function(B){var F=f.slice(0,B),L=GV({breakAll:u,style:c,children:F+p}).wordsWithComputedWidth,D=h(L),T=D.length>o||g(D).width>Number(a);return[T,D]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var j=Math.floor((b+x)/2),N=j-1,S=v(N),k=jR(S,2),C=k[0],P=k[1],A=v(j),E=jR(A,1),R=E[0];if(!C&&!R&&(b=j+1),C&&R&&(x=j-1),!C&&R){_=P;break}w++}return _||m},NR=function(t){var r=ot(t)?[]:t.toString().split(KV);return[{words:r}]},kCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Ya.isSsr){var c,u,d=GV({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return NR(a);return CCe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return NR(a)},SR="#808080",Pu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?SR:v,x=wR(t,xCe),w=y.useMemo(function(){return kCe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,j=x.dy,N=x.angle,S=x.className,k=x.breakAll,C=wR(x,bCe);if(!fn(n)||!fn(i))return null;var P=n+(_e(_)?_:0),A=i+(_e(j)?j:0),E;switch(p){case"start":E=M_("calc(".concat(u,")"));break;case"middle":E=M_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=M_("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var $=w[0].width,B=x.width;R.push("scale(".concat((_e(B)?B/$:1)/$,")"))}return N&&R.push("rotate(".concat(N,", ").concat(P,", ").concat(A,")")),R.length&&(C.transform=R.join(" ")),O.createElement("text",_S({},We(C,!0),{x:P,y:A,className:st("recharts-text",S),textAnchor:m,fill:b.includes("url")?SR:b}),w.map(function(F,L){var D=F.words.join(k?"":" ");return O.createElement("tspan",{x:P,dy:L===0?E:l,key:"".concat(D,"-").concat(L)},D)}))};function Ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ECe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SP(e){let t,r,n;e.length!==2?(t=Ul,r=(l,c)=>Ul(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ul||e===ECe?e:PCe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function PCe(){return 0}function YV(e){return e===null?NaN:+e}function*ACe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const OCe=SP(Ul),hv=OCe.right;SP(YV).center;class CR extends Map{constructor(t,r=RCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(kR(this,t))}has(t){return super.has(kR(this,t))}set(t,r){return super.set(TCe(this,t),r)}delete(t){return super.delete(DCe(this,t))}}function kR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MCe(e=Ul){if(e===Ul)return XV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $Ce=Math.sqrt(50),ICe=Math.sqrt(10),LCe=Math.sqrt(2);function fb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=$Ce?10:i>=ICe?5:i>=LCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?fb(e,t,r*2):[l,c,u]}function NS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?fb(t,e,r):fb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function SS(e,t,r){return t=+t,e=+e,r=+r,fb(e,t,r)[2]}function CS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?SS(t,e,r):SS(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ER(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function PR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?XV:MCe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));QV(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(xm(e,r,t),a(e[n],i)>0&&xm(e,r,n);o<l;){for(xm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?xm(e,r,l):(++l,xm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function xm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function FCe(e,t,r){if(e=Float64Array.from(ACe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return PR(e);if(t>=1)return ER(e);var n,a=(n-1)*t,i=Math.floor(a),o=ER(QV(e,i).subarray(0,i+1)),l=PR(e.subarray(i+1));return o+(l-o)*(a-i)}}function UCe(e,t,r=YV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function BCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kS=Symbol("implicit");function CP(){var e=new CR,t=[],r=[],n=kS;function a(i){let o=e.get(i);if(o===void 0){if(n!==kS)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CP(t,r).unknown(n)},ka.apply(a,arguments),a}function tg(){var e=CP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=BCe(h).map(function(b){return g+i*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ka.apply(f(),arguments)}function ZV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZV(t())},e}function ap(){return ZV(tg.apply(null,arguments).paddingInner(1))}function kP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mv(){}var rg=.7,hb=1/rg,Qd="\\s*([+-]?\\d+)\\s*",ng="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zCe=/^#([0-9a-f]{3,8})$/,VCe=new RegExp(`^rgb\\(${Qd},${Qd},${Qd}\\)$`),qCe=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),WCe=new RegExp(`^rgba\\(${Qd},${Qd},${Qd},${ng}\\)$`),HCe=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${ng}\\)$`),KCe=new RegExp(`^hsl\\(${ng},${Ei},${Ei}\\)$`),GCe=new RegExp(`^hsla\\(${ng},${Ei},${Ei},${ng}\\)$`),AR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kP(mv,sg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OR,formatHex:OR,formatHex8:YCe,formatHsl:XCe,formatRgb:TR,toString:TR});function OR(){return this.rgb().formatHex()}function YCe(){return this.rgb().formatHex8()}function XCe(){return eq(this).formatHsl()}function TR(){return this.rgb().formatRgb()}function sg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DR(t):r===3?new bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VCe.exec(e))?new bs(t[1],t[2],t[3],1):(t=qCe.exec(e))?new bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WCe.exec(e))?fy(t[1],t[2],t[3],t[4]):(t=HCe.exec(e))?fy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KCe.exec(e))?$R(t[1],t[2]/100,t[3]/100,1):(t=GCe.exec(e))?$R(t[1],t[2]/100,t[3]/100,t[4]):AR.hasOwnProperty(e)?DR(AR[e]):e==="transparent"?new bs(NaN,NaN,NaN,0):null}function DR(e){return new bs(e>>16&255,e>>8&255,e&255,1)}function fy(e,t,r,n){return n<=0&&(e=t=r=NaN),new bs(e,t,r,n)}function QCe(e){return e instanceof mv||(e=sg(e)),e?(e=e.rgb(),new bs(e.r,e.g,e.b,e.opacity)):new bs}function ES(e,t,r,n){return arguments.length===1?QCe(e):new bs(e,t,r,n??1)}function bs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}kP(bs,ES,JV(mv,{brighter(e){return e=e==null?hb:Math.pow(hb,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rg:Math.pow(rg,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bs(eu(this.r),eu(this.g),eu(this.b),mb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RR,formatHex:RR,formatHex8:ZCe,formatRgb:MR,toString:MR}));function RR(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function ZCe(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function MR(){const e=mb(this.opacity);return`${e===1?"rgb(":"rgba("}${eu(this.r)}, ${eu(this.g)}, ${eu(this.b)}${e===1?")":`, ${e})`}`}function mb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=eu(e),(e<16?"0":"")+e.toString(16)}function $R(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wa(e,t,r,n)}function eq(e){if(e instanceof Wa)return new Wa(e.h,e.s,e.l,e.opacity);if(e instanceof mv||(e=sg(e)),!e)return new Wa;if(e instanceof Wa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Wa(o,l,c,e.opacity)}function JCe(e,t,r,n){return arguments.length===1?eq(e):new Wa(e,t,r,n??1)}function Wa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}kP(Wa,JCe,JV(mv,{brighter(e){return e=e==null?hb:Math.pow(hb,e),new Wa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rg:Math.pow(rg,e),new Wa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new bs($_(e>=240?e-240:e+120,a,n),$_(e,a,n),$_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wa(IR(this.h),hy(this.s),hy(this.l),mb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mb(this.opacity);return`${e===1?"hsl(":"hsla("}${IR(this.h)}, ${hy(this.s)*100}%, ${hy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IR(e){return e=(e||0)%360,e<0?e+360:e}function hy(e){return Math.max(0,Math.min(1,e||0))}function $_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const EP=e=>()=>e;function eke(e,t){return function(r){return e+r*t}}function tke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rke(e){return(e=+e)==1?tq:function(t,r){return r-t?tke(t,r,e):EP(isNaN(t)?r:t)}}function tq(e,t){var r=t-e;return r?eke(e,r):EP(isNaN(e)?t:e)}const LR=function e(t){var r=rke(t);function n(a,i){var o=r((a=ES(a)).r,(i=ES(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=tq(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function nke(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function ske(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ake(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=$h(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function ike(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oke(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=$h(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var PS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I_=new RegExp(PS.source,"g");function lke(e){return function(){return e}}function cke(e){return function(t){return e(t)+""}}function uke(e,t){var r=PS.lastIndex=I_.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=PS.exec(e))&&(a=I_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:pb(n,a)})),r=I_.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?cke(c[0].x):lke(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $h(e,t){var r=typeof t,n;return t==null||r==="boolean"?EP(t):(r==="number"?pb:r==="string"?(n=sg(t))?(t=n,LR):uke:t instanceof sg?LR:t instanceof Date?ike:ske(t)?nke:Array.isArray(t)?ake:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oke:pb)(e,t)}function PP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dke(e,t){t===void 0&&(t=e,e=$h);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function fke(e){return function(){return e}}function gb(e){return+e}var FR=[0,1];function ts(e){return e}function AS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fke(isNaN(t)?NaN:.5)}function hke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mke(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=AS(a,n),i=r(o,i)):(n=AS(n,a),i=r(i,o)),function(l){return i(n(l))}}function pke(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=AS(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=hv(e,l,1,n)-1;return i[c](a[c](l))}}function pv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mw(){var e=FR,t=FR,r=$h,n,a,i,o=ts,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==ts&&(o=hke(e[0],e[h-1])),l=h>2?pke:mke,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),pb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,gb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=PP,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ts,d()):o!==ts},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function AP(){return Mw()(ts,ts)}function gke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ff(e){return e=vb(Math.abs(e)),e?e[1]:NaN}function vke(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function yke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ag(e){if(!(t=xke.exec(e)))throw new Error("invalid format: "+e);var t;return new OP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ag.prototype=OP.prototype;function OP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bke(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rq;function wke(e,t){var r=vb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(rq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+vb(e,Math.max(0,t+i-1))[0]}function UR(e,t){var r=vb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const BR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UR(e*100,t),r:UR,s:wke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zR(e){return e}var VR=Array.prototype.map,qR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jke(e){var t=e.grouping===void 0||e.thousands===void 0?zR:vke(VR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zR:yke(VR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ag(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,b=f.width,x=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):BR[j]||(w===void 0&&(w=12),_=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=p==="$"?n:/[%p]/.test(j)?o:"",k=BR[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(A){var E=N,R=S,$,B,F;if(j==="c")R=k(A)+R,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),w),_&&(A=bke(A)),L&&+A==0&&g!=="+"&&(L=!1),E=(L?g==="("?g:l:g==="-"||g==="("?"":g)+E,R=(j==="s"?qR[8+rq/3]:"")+R+(L&&g==="("?")":""),C){for($=-1,B=A.length;++$<B;)if(F=A.charCodeAt($),48>F||F>57){R=(F===46?a+A.slice($+1):A.slice($))+R,A=A.slice(0,$);break}}}x&&!v&&(A=t(A,1/0));var D=E.length+A.length+R.length,T=D<b?new Array(b-D+1).join(h):"";switch(x&&v&&(A=t(T+A,T.length?b-R.length:1/0),T=""),m){case"<":A=E+A+R+T;break;case"=":A=E+T+A+R;break;case"^":A=T.slice(0,D=T.length>>1)+E+A+R+T.slice(D);break;default:A=T+E+A+R;break}return i(A)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=ag(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ff(h)/3)))*3,p=Math.pow(10,-g),v=qR[8+g/3];return function(b){return m(p*b)+v}}return{format:u,formatPrefix:d}}var my,TP,nq;_ke({thousands:",",grouping:[3],currency:["$",""]});function _ke(e){return my=jke(e),TP=my.format,nq=my.formatPrefix,my}function Nke(e){return Math.max(0,-Ff(Math.abs(e)))}function Ske(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ff(t)/3)))*3-Ff(Math.abs(e)))}function Cke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ff(t)-Ff(e))+1}function sq(e,t,r,n){var a=CS(e,t,r),i;switch(n=ag(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Ske(a,o))&&(n.precision=i),nq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Cke(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Nke(a))&&(n.precision=i-(n.type==="%")*2);break}}return TP(n)}function uc(e){var t=e.domain;return e.ticks=function(r){var n=t();return NS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return sq(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=SS(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function yb(){var e=AP();return e.copy=function(){return pv(e,yb())},ka.apply(e,arguments),uc(e)}function aq(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return aq(e).unknown(t)},e=arguments.length?Array.from(e,gb):[0,1],uc(r)}function iq(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function WR(e){return Math.log(e)}function HR(e){return Math.exp(e)}function kke(e){return-Math.log(-e)}function Eke(e){return-Math.exp(-e)}function Pke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ake(e){return e===10?Pke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Oke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KR(e){return(t,r)=>-e(-t,r)}function DP(e){const t=e(WR,HR),r=t.domain;let n=10,a,i;function o(){return a=Oke(n),i=Ake(n),r()[0]<0?(a=KR(a),i=KR(i),e(kke,Eke)):e(WR,HR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=NS(u,d,v))}else b=NS(h,m,Math.min(m-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ag(c)).precision==null&&(c.trim=!0),c=TP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(iq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function oq(){const e=DP(Mw()).domain([1,10]);return e.copy=()=>pv(e,oq()).base(e.base()),ka.apply(e,arguments),e}function GR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RP(e){var t=1,r=e(GR(t),YR(t));return r.constant=function(n){return arguments.length?e(GR(t=+n),YR(t)):t},uc(r)}function lq(){var e=RP(Mw());return e.copy=function(){return pv(e,lq()).constant(e.constant())},ka.apply(e,arguments)}function XR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dke(e){return e<0?-e*e:e*e}function MP(e){var t=e(ts,ts),r=1;function n(){return r===1?e(ts,ts):r===.5?e(Tke,Dke):e(XR(r),XR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},uc(t)}function $P(){var e=MP(Mw());return e.copy=function(){return pv(e,$P()).exponent(e.exponent())},ka.apply(e,arguments),e}function Rke(){return $P.apply(null,arguments).exponent(.5)}function QR(e){return Math.sign(e)*e*e}function Mke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cq(){var e=AP(),t=[0,1],r=!1,n;function a(i){var o=Mke(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(QR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,gb)).map(QR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cq(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ka.apply(a,arguments),uc(a)}function uq(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=UCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[hv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ul),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return uq().domain(e).range(t).unknown(n)},ka.apply(i,arguments)}function dq(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[hv(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return dq().domain([e,t]).range(a).unknown(i)},ka.apply(uc(o),arguments)}function fq(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[hv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fq().domain(e).range(t).unknown(r)},ka.apply(a,arguments)}const L_=new Date,F_=new Date;function pn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>pn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(L_.setTime(+i),F_.setTime(+o),e(L_),e(F_),Math.floor(r(L_,F_))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xb=pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xb);xb.range;const co=1e3,ya=co*60,uo=ya*60,Co=uo*24,IP=Co*7,ZR=Co*30,U_=Co*365,Fc=pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCSeconds());Fc.range;const LP=pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getMinutes());LP.range;const FP=pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCMinutes());FP.range;const UP=pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*ya)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getHours());UP.range;const BP=pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCHours());BP.range;const gv=pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/Co,e=>e.getDate()-1);gv.range;const $w=pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Co,e=>e.getUTCDate()-1);$w.range;const hq=pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Co,e=>Math.floor(e/Co));hq.range;function Wu(e){return pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ya)/IP)}const Iw=Wu(0),bb=Wu(1),$ke=Wu(2),Ike=Wu(3),Uf=Wu(4),Lke=Wu(5),Fke=Wu(6);Iw.range;bb.range;$ke.range;Ike.range;Uf.range;Lke.range;Fke.range;function Hu(e){return pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/IP)}const Lw=Hu(0),wb=Hu(1),Uke=Hu(2),Bke=Hu(3),Bf=Hu(4),zke=Hu(5),Vke=Hu(6);Lw.range;wb.range;Uke.range;Bke.range;Bf.range;zke.range;Vke.range;const zP=pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zP.range;const VP=pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());VP.range;const ko=pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ko.range;const Eo=pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Eo.range;function mq(e,t,r,n,a,i){const o=[[Fc,1,co],[Fc,5,5*co],[Fc,15,15*co],[Fc,30,30*co],[i,1,ya],[i,5,5*ya],[i,15,15*ya],[i,30,30*ya],[a,1,uo],[a,3,3*uo],[a,6,6*uo],[a,12,12*uo],[n,1,Co],[n,2,2*Co],[r,1,IP],[t,1,ZR],[t,3,3*ZR],[e,1,U_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=SP(([,,v])=>v).right(o,h);if(m===o.length)return e.every(CS(u/U_,d/U_,f));if(m===0)return xb.every(Math.max(CS(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[qke,Wke]=mq(Eo,VP,Lw,hq,BP,FP),[Hke,Kke]=mq(ko,zP,Iw,gv,UP,LP);function B_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Gke(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=wm(a),d=jm(a),f=wm(i),h=jm(i),m=wm(o),g=jm(o),p=wm(l),v=jm(l),b=wm(c),x=jm(c),w={a:L,A:D,b:T,B:U,c:null,d:sM,e:sM,f:vEe,g:kEe,G:PEe,H:mEe,I:pEe,j:gEe,L:pq,m:yEe,M:xEe,p:Q,q:K,Q:oM,s:lM,S:bEe,u:wEe,U:jEe,V:_Ee,w:NEe,W:SEe,x:null,X:null,y:CEe,Y:EEe,Z:AEe,"%":iM},_={a:oe,A:W,b:fe,B:Se,c:null,d:aM,e:aM,f:REe,g:qEe,G:HEe,H:OEe,I:TEe,j:DEe,L:vq,m:MEe,M:$Ee,p:ue,q:Oe,Q:oM,s:lM,S:IEe,u:LEe,U:FEe,V:UEe,w:BEe,W:zEe,x:null,X:null,y:VEe,Y:WEe,Z:KEe,"%":iM},j={a:P,A,b:E,B:R,c:$,d:rM,e:rM,f:uEe,g:tM,G:eM,H:nM,I:nM,j:iEe,L:cEe,m:aEe,M:oEe,p:C,q:sEe,Q:fEe,s:hEe,S:lEe,u:Jke,U:eEe,V:tEe,w:Zke,W:rEe,x:B,X:F,y:tM,Y:eM,Z:nEe,"%":dEe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(se,ge){return function(je){var J=[],at=-1,qe=0,Lt=se.length,vt,Ft,Vt;for(je instanceof Date||(je=new Date(+je));++at<Lt;)se.charCodeAt(at)===37&&(J.push(se.slice(qe,at)),(Ft=JR[vt=se.charAt(++at)])!=null?vt=se.charAt(++at):Ft=vt==="e"?" ":"0",(Vt=ge[vt])&&(vt=Vt(je,Ft)),J.push(vt),qe=at+1);return J.push(se.slice(qe,at)),J.join("")}}function S(se,ge){return function(je){var J=bm(1900,void 0,1),at=k(J,se,je+="",0),qe,Lt;if(at!=je.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ge&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(qe=z_(bm(J.y,0,1)),Lt=qe.getUTCDay(),qe=Lt>4||Lt===0?wb.ceil(qe):wb(qe),qe=$w.offset(qe,(J.V-1)*7),J.y=qe.getUTCFullYear(),J.m=qe.getUTCMonth(),J.d=qe.getUTCDate()+(J.w+6)%7):(qe=B_(bm(J.y,0,1)),Lt=qe.getDay(),qe=Lt>4||Lt===0?bb.ceil(qe):bb(qe),qe=gv.offset(qe,(J.V-1)*7),J.y=qe.getFullYear(),J.m=qe.getMonth(),J.d=qe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Lt="Z"in J?z_(bm(J.y,0,1)).getUTCDay():B_(bm(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Lt+5)%7:J.w+J.U*7-(Lt+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,z_(J)):B_(J)}}function k(se,ge,je,J){for(var at=0,qe=ge.length,Lt=je.length,vt,Ft;at<qe;){if(J>=Lt)return-1;if(vt=ge.charCodeAt(at++),vt===37){if(vt=ge.charAt(at++),Ft=j[vt in JR?ge.charAt(at++):vt],!Ft||(J=Ft(se,je,J))<0)return-1}else if(vt!=je.charCodeAt(J++))return-1}return J}function C(se,ge,je){var J=u.exec(ge.slice(je));return J?(se.p=d.get(J[0].toLowerCase()),je+J[0].length):-1}function P(se,ge,je){var J=m.exec(ge.slice(je));return J?(se.w=g.get(J[0].toLowerCase()),je+J[0].length):-1}function A(se,ge,je){var J=f.exec(ge.slice(je));return J?(se.w=h.get(J[0].toLowerCase()),je+J[0].length):-1}function E(se,ge,je){var J=b.exec(ge.slice(je));return J?(se.m=x.get(J[0].toLowerCase()),je+J[0].length):-1}function R(se,ge,je){var J=p.exec(ge.slice(je));return J?(se.m=v.get(J[0].toLowerCase()),je+J[0].length):-1}function $(se,ge,je){return k(se,t,ge,je)}function B(se,ge,je){return k(se,r,ge,je)}function F(se,ge,je){return k(se,n,ge,je)}function L(se){return o[se.getDay()]}function D(se){return i[se.getDay()]}function T(se){return c[se.getMonth()]}function U(se){return l[se.getMonth()]}function Q(se){return a[+(se.getHours()>=12)]}function K(se){return 1+~~(se.getMonth()/3)}function oe(se){return o[se.getUTCDay()]}function W(se){return i[se.getUTCDay()]}function fe(se){return c[se.getUTCMonth()]}function Se(se){return l[se.getUTCMonth()]}function ue(se){return a[+(se.getUTCHours()>=12)]}function Oe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=N(se+="",w);return ge.toString=function(){return se},ge},parse:function(se){var ge=S(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=N(se+="",_);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=S(se+="",!0);return ge.toString=function(){return se},ge}}}var JR={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,Yke=/^%/,Xke=/[\\^$*+?|[\]().{}]/g;function Kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Qke(e){return e.replace(Xke,"\\$&")}function wm(e){return new RegExp("^(?:"+e.map(Qke).join("|")+")","i")}function jm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Zke(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Jke(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function eM(e,t,r){var n=_n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tM(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sEe(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function aEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rM(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function iEe(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nM(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lEe(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cEe(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uEe(e,t,r){var n=_n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dEe(e,t,r){var n=Yke.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fEe(e,t,r){var n=_n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hEe(e,t,r){var n=_n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sM(e,t){return Kt(e.getDate(),t,2)}function mEe(e,t){return Kt(e.getHours(),t,2)}function pEe(e,t){return Kt(e.getHours()%12||12,t,2)}function gEe(e,t){return Kt(1+gv.count(ko(e),e),t,3)}function pq(e,t){return Kt(e.getMilliseconds(),t,3)}function vEe(e,t){return pq(e,t)+"000"}function yEe(e,t){return Kt(e.getMonth()+1,t,2)}function xEe(e,t){return Kt(e.getMinutes(),t,2)}function bEe(e,t){return Kt(e.getSeconds(),t,2)}function wEe(e){var t=e.getDay();return t===0?7:t}function jEe(e,t){return Kt(Iw.count(ko(e)-1,e),t,2)}function gq(e){var t=e.getDay();return t>=4||t===0?Uf(e):Uf.ceil(e)}function _Ee(e,t){return e=gq(e),Kt(Uf.count(ko(e),e)+(ko(e).getDay()===4),t,2)}function NEe(e){return e.getDay()}function SEe(e,t){return Kt(bb.count(ko(e)-1,e),t,2)}function CEe(e,t){return Kt(e.getFullYear()%100,t,2)}function kEe(e,t){return e=gq(e),Kt(e.getFullYear()%100,t,2)}function EEe(e,t){return Kt(e.getFullYear()%1e4,t,4)}function PEe(e,t){var r=e.getDay();return e=r>=4||r===0?Uf(e):Uf.ceil(e),Kt(e.getFullYear()%1e4,t,4)}function AEe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Kt(t/60|0,"0",2)+Kt(t%60,"0",2)}function aM(e,t){return Kt(e.getUTCDate(),t,2)}function OEe(e,t){return Kt(e.getUTCHours(),t,2)}function TEe(e,t){return Kt(e.getUTCHours()%12||12,t,2)}function DEe(e,t){return Kt(1+$w.count(Eo(e),e),t,3)}function vq(e,t){return Kt(e.getUTCMilliseconds(),t,3)}function REe(e,t){return vq(e,t)+"000"}function MEe(e,t){return Kt(e.getUTCMonth()+1,t,2)}function $Ee(e,t){return Kt(e.getUTCMinutes(),t,2)}function IEe(e,t){return Kt(e.getUTCSeconds(),t,2)}function LEe(e){var t=e.getUTCDay();return t===0?7:t}function FEe(e,t){return Kt(Lw.count(Eo(e)-1,e),t,2)}function yq(e){var t=e.getUTCDay();return t>=4||t===0?Bf(e):Bf.ceil(e)}function UEe(e,t){return e=yq(e),Kt(Bf.count(Eo(e),e)+(Eo(e).getUTCDay()===4),t,2)}function BEe(e){return e.getUTCDay()}function zEe(e,t){return Kt(wb.count(Eo(e)-1,e),t,2)}function VEe(e,t){return Kt(e.getUTCFullYear()%100,t,2)}function qEe(e,t){return e=yq(e),Kt(e.getUTCFullYear()%100,t,2)}function WEe(e,t){return Kt(e.getUTCFullYear()%1e4,t,4)}function HEe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bf(e):Bf.ceil(e),Kt(e.getUTCFullYear()%1e4,t,4)}function KEe(){return"+0000"}function iM(){return"%"}function oM(e){return+e}function lM(e){return Math.floor(+e/1e3)}var ud,xq,bq;GEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GEe(e){return ud=Gke(e),xq=ud.format,ud.parse,bq=ud.utcFormat,ud.utcParse,ud}function YEe(e){return new Date(e)}function XEe(e){return e instanceof Date?+e:+new Date(+e)}function qP(e,t,r,n,a,i,o,l,c,u){var d=AP(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?v:n(N)<N?a(N)<N?b:x:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,XEe)):h().map(YEe)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(iq(S,N)):d},d.copy=function(){return pv(d,qP(e,t,r,n,a,i,o,l,c,u))},d}function QEe(){return ka.apply(qP(Hke,Kke,ko,zP,Iw,gv,UP,LP,Fc,xq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZEe(){return ka.apply(qP(qke,Wke,Eo,VP,Lw,$w,BP,FP,Fc,bq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fw(){var e=0,t=1,r,n,a,i,o=ts,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d($h),u.rangeRound=d(PP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function dc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wq(){var e=uc(Fw()(ts));return e.copy=function(){return dc(e,wq())},Lo.apply(e,arguments)}function jq(){var e=DP(Fw()).domain([1,10]);return e.copy=function(){return dc(e,jq()).base(e.base())},Lo.apply(e,arguments)}function _q(){var e=RP(Fw());return e.copy=function(){return dc(e,_q()).constant(e.constant())},Lo.apply(e,arguments)}function WP(){var e=MP(Fw());return e.copy=function(){return dc(e,WP()).exponent(e.exponent())},Lo.apply(e,arguments)}function JEe(){return WP.apply(null,arguments).exponent(.5)}function Nq(){var e=[],t=ts;function r(n){if(n!=null&&!isNaN(n=+n))return t((hv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ul),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>FCe(e,i/n))},r.copy=function(){return Nq(t).domain(e)},Lo.apply(r,arguments)}function Uw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=ts,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=dke(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g($h),m.rangeRound=g(PP),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function Sq(){var e=uc(Uw()(ts));return e.copy=function(){return dc(e,Sq())},Lo.apply(e,arguments)}function Cq(){var e=DP(Uw()).domain([.1,1,10]);return e.copy=function(){return dc(e,Cq()).base(e.base())},Lo.apply(e,arguments)}function kq(){var e=RP(Uw());return e.copy=function(){return dc(e,kq()).constant(e.constant())},Lo.apply(e,arguments)}function HP(){var e=MP(Uw());return e.copy=function(){return dc(e,HP()).exponent(e.exponent())},Lo.apply(e,arguments)}function ePe(){return HP.apply(null,arguments).exponent(.5)}const cM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tg,scaleDiverging:Sq,scaleDivergingLog:Cq,scaleDivergingPow:HP,scaleDivergingSqrt:ePe,scaleDivergingSymlog:kq,scaleIdentity:aq,scaleImplicit:kS,scaleLinear:yb,scaleLog:oq,scaleOrdinal:CP,scalePoint:ap,scalePow:$P,scaleQuantile:uq,scaleQuantize:dq,scaleRadial:cq,scaleSequential:wq,scaleSequentialLog:jq,scaleSequentialPow:WP,scaleSequentialQuantile:Nq,scaleSequentialSqrt:JEe,scaleSequentialSymlog:_q,scaleSqrt:Rke,scaleSymlog:lq,scaleThreshold:fq,scaleTime:QEe,scaleUtc:ZEe,tickFormat:sq},Symbol.toStringTag,{value:"Module"}));var tPe=kh;function rPe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!tPe(o):r(o,l)))var l=o,c=i}return c}var Bw=rPe;function nPe(e,t){return e>t}var Eq=nPe,sPe=Bw,aPe=Eq,iPe=Mh;function oPe(e){return e&&e.length?sPe(e,iPe,aPe):void 0}var lPe=oPe;const zw=Xt(lPe);function cPe(e,t){return e<t}var Pq=cPe,uPe=Bw,dPe=Pq,fPe=Mh;function hPe(e){return e&&e.length?uPe(e,fPe,dPe):void 0}var mPe=hPe;const Vw=Xt(mPe);var pPe=iP,gPe=Hi,vPe=IV,yPe=Os;function xPe(e,t){var r=yPe(e)?pPe:vPe;return r(e,gPe(t))}var bPe=xPe,wPe=MV,jPe=bPe;function _Pe(e,t){return wPe(jPe(e,t),1)}var NPe=_Pe;const SPe=Xt(NPe);var CPe=wP;function kPe(e,t){return CPe(e,t)}var EPe=kPe;const Ih=Xt(EPe);var Lh=1e9,PPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GP,kr=!0,_a="[DecimalError] ",tu=_a+"Invalid argument: ",KP=_a+"Exponent out of range: ",Fh=Math.floor,Cc=Math.pow,APe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vs,yn=1e7,jr=7,Aq=9007199254740991,jb=Fh(Aq/jr),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*jr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(e){return po(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,r=t.constructor;return or(po(t,new r(e),0,1),r.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return en(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vs))throw Error(_a+"NaN");if(r.s<1)throw Error(_a+(r.s?"NaN":"-Infinity"));return r.eq(Vs)?new n(0):(kr=!1,t=po(ig(r,i),ig(e,i),i),kr=!0,or(t,a))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Dq(t,e):Oq(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_a+"NaN");return r.s?(kr=!1,t=po(r,e,0,1).times(e),kr=!0,r.minus(t)):or(new n(r),a)};Me.naturalExponential=Me.exp=function(){return Tq(this)};Me.naturalLogarithm=Me.ln=function(){return ig(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Oq(t,e):Dq(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tu+e);if(t=en(a)+1,n=a.d.length-1,r=n*jr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Me.squareRoot=Me.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_a+"NaN")}for(e=en(l),kr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=_i(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Fh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(po(l,i,o+2)).times(.5),_i(i.d).slice(0,o)===(t=_i(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(or(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return kr=!0,or(n,r)};Me.times=Me.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%yn|0,t=l/yn|0;i[a]=(i[a]+t)%yn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,kr?or(e,f.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Li(e,0,Lh),t===void 0?t=n.rounding:Li(t,0,8),or(r,e+en(r)+1,t))};Me.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Au(n,!0):(Li(e,0,Lh),t===void 0?t=a.rounding:Li(t,0,8),n=or(new a(n),e+1,t),r=Au(n,!0,e+1)),r};Me.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Au(a):(Li(e,0,Lh),t===void 0?t=i.rounding:Li(t,0,8),n=or(new i(a),e+en(a)+1,t),r=Au(n.abs(),!1,e+en(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return or(new t(e),en(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Vs);if(l=new c(l),!l.s){if(e.s<1)throw Error(_a+"Infinity");return l}if(l.eq(Vs))return l;if(n=c.precision,e.eq(Vs))return or(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Aq){for(a=new c(Vs),t=Math.ceil(n/jr+4),kr=!1;r%2&&(a=a.times(l),dM(a.d,t)),r=Fh(r/2),r!==0;)l=l.times(l),dM(l.d,t);return kr=!0,e.s<0?new c(Vs).div(a):or(a,n)}}else if(i<0)throw Error(_a+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,kr=!1,a=e.times(ig(l,n+u)),kr=!0,a=Tq(a),a.s=i,a};Me.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=en(a),n=Au(a,r<=i.toExpNeg||r>=i.toExpPos)):(Li(e,1,Lh),t===void 0?t=i.rounding:Li(t,0,8),a=or(new i(a),e,t),r=en(a),n=Au(a,e<=r||r<=i.toExpNeg,e)),n};Me.toSignificantDigits=Me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Li(e,1,Lh),t===void 0?t=n.rounding:Li(t,0,8)),or(new n(r),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=en(e),r=e.constructor;return Au(e,t<=r.toExpNeg||t>=r.toExpPos)};function Oq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kr?or(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/jr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yn|0,c[i]%=yn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,kr?or(t,f):t}function Li(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tu+e)}function _i(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=jr-n.length,r&&(i+=Jo(r)),i+=n;o=e[t],n=o+"",r=jr-n.length,r&&(i+=Jo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var po=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%yn|0,o=i/yn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,p,v,b,x,w,_,j,N,S,k,C=n.constructor,P=n.s==a.s?1:-1,A=n.d,E=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(_a+"Division by zero");for(c=n.e-a.e,S=E.length,j=A.length,m=new C(P),g=m.d=[],u=0;E[u]==(A[u]||0);)++u;if(E[u]>(A[u]||0)&&--c,i==null?x=i=C.precision:o?x=i+(en(n)-en(a))+1:x=i,x<0)return new C(0);if(x=x/jr+2|0,u=0,S==1)for(d=0,E=E[0],x++;(u<j||d)&&x--;u++)w=d*yn+(A[u]||0),g[u]=w/E|0,d=w%E|0;else{for(d=yn/(E[0]+1)|0,d>1&&(E=e(E,d),A=e(A,d),S=E.length,j=A.length),_=S,p=A.slice(0,S),v=p.length;v<S;)p[v++]=0;k=E.slice(),k.unshift(0),N=E[0],E[1]>=yn/2&&++N;do d=0,l=t(E,p,S,v),l<0?(b=p[0],S!=v&&(b=b*yn+(p[1]||0)),d=b/N|0,d>1?(d>=yn&&(d=yn-1),f=e(E,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,S<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(E,p,S,v),l<1&&(d++,r(p,S<v?k:E,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=A[_]||0:(p=[A[_]],v=1);while((_++<j||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,or(m,o?i+en(m)+1:i)}}();function Tq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(en(e)>16)throw Error(KP+en(e));if(!e.s)return new d(Vs);for(t==null?(kr=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Cc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Vs),d.precision=l;;){if(a=or(a.times(e),l),r=r.times(++c),o=i.plus(po(a,r,l)),_i(o.d).slice(0,l)===_i(i.d).slice(0,l)){for(;u--;)i=or(i.times(i),l);return d.precision=f,t==null?(kr=!0,or(i,f)):i}i=o}}function en(e){for(var t=e.e*jr,r=e.d[0];r>=10;r/=10)t++;return t}function V_(e,t,r){if(t>e.LN10.sd())throw kr=!0,r&&(e.precision=r),Error(_a+"LN10 precision limit exceeded");return or(new e(e.LN10),t)}function Jo(e){for(var t="";e--;)t+="0";return t}function ig(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(_a+(m.s?"NaN":"-Infinity"));if(m.eq(Vs))return new p(0);if(t==null?(kr=!1,u=v):u=t,m.eq(10))return t==null&&(kr=!0),V_(p,u);if(u+=h,p.precision=u,r=_i(g),n=r.charAt(0),i=en(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=_i(m.d),n=r.charAt(0),f++;i=en(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=V_(p,u+2,v).times(i+""),m=ig(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(kr=!0,or(m,v)):m;for(l=o=m=po(m.minus(Vs),m.plus(Vs),u),d=or(m.times(m),u),a=3;;){if(o=or(o.times(d),u),c=l.plus(po(o,new p(a),u)),_i(c.d).slice(0,u)===_i(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(V_(p,u+2,v).times(i+""))),l=po(l,new p(f),u),p.precision=v,t==null?(kr=!0,or(l,v)):l;l=c,a+=2}}function uM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Fh(r/jr),e.d=[],n=(r+1)%jr,r<0&&(n+=jr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=jr;n<a;)e.d.push(+t.slice(n,n+=jr));t=t.slice(n),n=jr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kr&&(e.e>jb||e.e<-jb))throw Error(KP+r)}else e.s=0,e.e=0,e.d=[0];return e}function or(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=jr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/jr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=jr,a=n-jr+o}if(r!==void 0&&(i=Cc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Cc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=en(e),f.length=1,t=t-i-1,f[0]=Cc(10,(jr-t%jr)%jr),e.e=Fh(-t/jr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Cc(10,jr-n),f[d]=a>0?(u/Cc(10,o-a)%Cc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==yn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(kr&&(e.e>jb||e.e<-jb))throw Error(KP+en(e));return e}function Dq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kr?or(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/jr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=yn-1;--c[i],c[a]+=yn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,kr?or(t,m):t):new h(0)}function Au(e,t,r){var n,a=en(e),i=_i(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Jo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jo(-a-1)+i,r&&(n=r-o)>0&&(i+=Jo(n))):a>=o?(i+=Jo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Jo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Jo(n))),e.s<0?"-"+i:i}function dM(e,t){if(e.length>t)return e.length=t,!0}function Rq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(tu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return uM(o,i.toString())}else if(typeof i!="string")throw Error(tu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,APe.test(i))uM(o,i);else throw Error(tu+i)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Rq,a.config=a.set=OPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function OPe(e){if(!e||typeof e!="object")throw Error(_a+"Object expected");var t,r,n,a=["precision",1,Lh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Fh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(tu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tu+r+": "+n);return this}var GP=Rq(PPe);Vs=new GP(1);const nr=GP;function TPe(e){return $Pe(e)||MPe(e)||RPe(e)||DPe()}function DPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(e,t){if(e){if(typeof e=="string")return OS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OS(e,t)}}function MPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $Pe(e){if(Array.isArray(e))return OS(e)}function OS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IPe=function(t){return t},Mq={"@@functional/placeholder":!0},$q=function(t){return t===Mq},fM=function(t){return function r(){return arguments.length===0||arguments.length===1&&$q(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},LPe=function e(t,r){return t===1?r:fM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Mq}).length;return o>=t?r.apply(void 0,a):e(t-o,fM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return $q(f)?c.shift():f});return r.apply(void 0,TPe(d).concat(c))}))})},qw=function(t){return LPe(t.length,t)},TS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},FPe=qw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),UPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IPe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},DS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Iq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function BPe(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function zPe(e,t,r){for(var n=new nr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var VPe=qw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),qPe=qw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),WPe=qw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ww={rangeStep:zPe,getDigitCount:BPe,interpolateNumber:VPe,uninterpolateNumber:qPe,uninterpolateTruncation:WPe};function RS(e){return GPe(e)||KPe(e)||Lq(e)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GPe(e){if(Array.isArray(e))return MS(e)}function og(e,t){return QPe(e)||XPe(e,t)||Lq(e,t)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lq(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function QPe(e){if(Array.isArray(e))return e}function Fq(e){var t=og(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Uq(e,t,r){if(e.lte(0))return new nr(0);var n=Ww.getDigitCount(e.toNumber()),a=new nr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new nr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new nr(Math.ceil(c))}function ZPe(e,t,r){var n=1,a=new nr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new nr(10).pow(Ww.getDigitCount(e)-1),a=new nr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new nr(Math.floor(e)))}else e===0?a=new nr(Math.floor((t-1)/2)):r||(a=new nr(Math.floor(e)));var o=Math.floor((t-1)/2),l=UPe(FPe(function(c){return a.add(new nr(c-o).mul(n)).toNumber()}),TS);return l(0,t)}function Bq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var i=Uq(new nr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new nr(0):(o=new nr(e).add(t).div(2),o=o.sub(new nr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new nr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Bq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new nr(l).mul(i)),tickMax:o.add(new nr(c).mul(i))})}function JPe(e){var t=og(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Fq([r,n]),c=og(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(RS(TS(0,a-1).map(function(){return 1/0}))):[].concat(RS(TS(0,a-1).map(function(){return-1/0})),[d]);return r>n?DS(f):f}if(u===d)return ZPe(u,a,i);var h=Bq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,v=Ww.rangeStep(g,p.add(new nr(.1).mul(m)),m);return r>n?DS(v):v}function eAe(e,t){var r=og(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Fq([n,a]),l=og(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Uq(new nr(u).sub(c).div(d-1),i,0),h=[].concat(RS(Ww.rangeStep(new nr(c),new nr(u).sub(new nr(.99).mul(f)),f)),[u]);return n>a?DS(h):h}var tAe=Iq(JPe),rAe=Iq(eAe),nAe="Invariant failed";function Ou(e,t){throw new Error(nAe)}var sAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function aAe(e,t){return cAe(e)||lAe(e,t)||oAe(e,t)||iAe()}function iAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oAe(e,t){if(e){if(typeof e=="string")return hM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hM(e,t)}}function hM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cAe(e){if(Array.isArray(e))return e}function uAe(e,t){if(e==null)return{};var r=dAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qq(n.key),n)}}function mAe(e,t,r){return t&&hAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,r){return t=Nb(t),gAe(e,zq()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function gAe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(e)}function vAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function yAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$S(e,t)}function $S(e,t){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$S(e,t)}function Vq(e,t,r){return t=qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=xAe(e,"string");return zf(t)=="symbol"?t:t+""}function xAe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vv=function(e){function t(){return fAe(this,t),pAe(this,t,arguments)}return yAe(t,e),mAe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=uAe(n,sAe),m=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ou();var g=c.map(function(p){var v=u(p,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var j=[],N,S;if(Array.isArray(_)){var k=aAe(_,2);N=k[0],S=k[1]}else N=S=_;if(i==="vertical"){var C=d.scale,P=x+a,A=P+o,E=P-o,R=C(w-N),$=C(w+S);j.push({x1:$,y1:A,x2:$,y2:E}),j.push({x1:R,y1:P,x2:$,y2:P}),j.push({x1:R,y1:A,x2:R,y2:E})}else if(i==="horizontal"){var B=f.scale,F=b+a,L=F-o,D=F+o,T=B(w-N),U=B(w+S);j.push({x1:L,y1:U,x2:D,y2:U}),j.push({x1:F,y1:T,x2:F,y2:U}),j.push({x1:L,y1:T,x2:D,y2:T})}return O.createElement($t,_b({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},m),j.map(function(Q){return O.createElement("line",_b({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return O.createElement($t,{className:"recharts-errorBars"},g)}}])}(O.Component);Vq(vv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Vq(vv,"displayName","ErrorBar");function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){bAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t,r){return t=wAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wAe(e){var t=jAe(e,"string");return lg(t)=="symbol"?t:t+""}function jAe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Us(r,Jc);if(!o)return null;var l=Jc.defaultProps,c=l!==void 0?vc(vc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?vc(vc({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:YP(f),value:p||g,payload:m}}),vc(vc(vc({},c),Jc.getWithHeight(o,a)),{},{payload:u,item:o})};function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function pM(e){return CAe(e)||SAe(e)||NAe(e)||_Ae()}function _Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(e,t){if(e){if(typeof e=="string")return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(e,t)}}function SAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CAe(e){if(Array.isArray(e))return IS(e)}function IS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){Zd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zd(e,t,r){return t=kAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kAe(e){var t=EAe(e,"string");return cg(t)=="symbol"?t:t+""}function EAe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t,r){return ot(e)||ot(t)?r:fn(t)?Ys(e,t,r):Ye(t)?t(e):r}function ip(e,t,r,n){var a=SPe(e,function(l){return Hr(l,t)});if(r==="number"){var i=a.filter(function(l){return _e(l)||parseFloat(l)});return i.length?[Vw(i),zw(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!ot(l)}):a;return o.map(function(l){return fn(l)||l instanceof Date?l:""})}var PAe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Jn(f-d)!==Jn(h-f)){var g=[];if(Jn(h-f)===Jn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},YP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},AAe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(S){return mo(S.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Ur(Ur({},x),b[0].props):b[0].props,_=w.barSize,j=w[v];o[j]||(o[j]=[]);var N=ot(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:ot(N)?void 0:es(N,n,0)})}}return o},OAe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=es(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(_,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},S=[].concat(pM(_),[N]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:v})}),S},f)}else{var b=es(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(_,j,N){var S=[].concat(pM(_),[{item:j.item,position:{offset:b+(x+u)*N+(x-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},TAe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Wq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&_e(t[m]))return Ur(Ur({},t),{},Zd({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&_e(t[g]))return Ur(Ur({},t),{},Zd({},g,t[g]+(h||0)))}return t},DAe=function(t,r,n){return ot(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Hq=function(t,r,n,a,i){var o=r.props.children,l=Xs(o,vv).filter(function(u){return DAe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Hr(d,n);if(ot(f))return u;var h=Array.isArray(f)?[Vw(f),zw(f)]:[f,f],m=c.reduce(function(g,p){var v=Hr(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},RAe=function(t,r,n,a,i){var o=r.map(function(l){return Hq(t,l,n,i,a)}).filter(function(l){return!ot(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Kq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Hq(t,c,u,a)||ip(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Gq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Yq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},fo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Jn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!dv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},q_=new WeakMap,py=function(t,r){if(typeof r!="function")return t;q_.has(t)||q_.set(t,new WeakMap);var n=q_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Xq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:tg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ap(),realScaleType:"point"}:i==="category"?{scale:tg(),realScaleType:"band"}:{scale:yb(),realScaleType:"linear"};if(ku(a)){var c="scale".concat(kw(a));return{scale:(cM[c]||ap)(),realScaleType:cM[c]?c:"point"}}return Ye(a)?{scale:a}:{scale:ap(),realScaleType:"point"}},vM=1e-4,Qq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-vM,o=Math.max(a[0],a[1])+vM,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},MAe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},$Ae=function(t,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_e(t[0])||t[0]<n)&&(i[0]=n),(!_e(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},IAe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=dv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},LAe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=dv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},FAe={sign:IAe,expand:sxe,none:Rf,silhouette:axe,wiggle:ixe,positive:LAe},UAe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=FAe[n],o=nxe().keys(a).value(function(l,c){return+Hr(l,c,0)}).order(lS).offset(i);return o(t)},BAe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ur(Ur({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(fn(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[Th("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Ur(Ur({},f),{},Zd({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return Ur(Ur({},p),{},Zd({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:UAe(t,b.items,i)}))},g)}return Ur(Ur({},f),{},Zd({},h,m))},d)},Zq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=tAe(u,i,l);return t.domain([Vw(d),zw(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=rAe(f,i,l);return{niceTicks:h}}return null};function yM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ot(a[t.dataKey])){var l=Qx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Hr(a,ot(o)?t.dataKey:o);return ot(c)?null:t.scale(c)}var xM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Hr(o,r.dataKey,r.domain[l]);return ot(c)?null:r.scale(c)-i/2+a},zAe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},VAe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(fn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},qAe=function(t){return t.reduce(function(r,n){return[Vw(n.concat([r[0]]).filter(_e)),zw(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},Jq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=qAe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},bM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LS=function(t,r,n){if(Ye(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_e(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(bM.test(t[0])){var i=+bM.exec(t[0])[1];a[0]=r[0]-i}else Ye(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_e(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(wM.test(t[1])){var o=+wM.exec(t[1])[1];a[1]=r[1]+o}else Ye(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Sb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=_P(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},jM=function(t,r,n){return!t||!t.length||Ih(t,Ys(n,"type.defaultProps.domain"))?r:t},eW=function(t,r){var n=t.type.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ur(Ur({},We(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:YP(t),value:Hr(r,a),type:c,payload:r,chartType:u,hide:d})};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return t=WAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WAe(e){var t=HAe(e,"string");return ug(t)=="symbol"?t:t+""}function HAe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KAe(e,t){return QAe(e)||XAe(e,t)||YAe(e,t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(e,t){if(e){if(typeof e=="string")return NM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(e,t)}}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function QAe(e){if(Array.isArray(e))return e}var Cb=Math.PI/180,ZAe=function(t){return t*180/Math.PI},Yt=function(t,r,n,a){return{x:t+Math.cos(-Cb*a)*n,y:r+Math.sin(-Cb*a)*n}},rW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nW=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=es(t.cx,o,o/2),f=es(t.cy,l,l/2),h=rW(o,l,n),m=es(t.innerRadius,h,0),g=es(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,j;if(ot(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,g]),_&&(j=[j[1],j[0]]);else{j=x.range;var N=j,S=KAe(N,2);c=S[0],u=S[1]}var k=Xq(x,i),C=k.realScaleType,P=k.scale;P.domain(w).range(j),Qq(P);var A=Zq(P,eo(eo({},x),{},{realScaleType:C})),E=eo(eo(eo({},x),A),{},{range:j,radius:g,realScaleType:C,scale:P,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return eo(eo({},v),{},tW({},b,E))},{})},JAe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},e2e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=JAe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:ZAe(u),angleInRadian:u}},t2e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},r2e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},SM=function(t,r){var n=t.x,a=t.y,i=e2e({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=t2e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?eo(eo({},r),{},{radius:o,angle:r2e(m,r)}):null},sW=function(t){return!y.isValidElement(t)&&!Ye(t)&&typeof t!="boolean"?t.className:""};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}var n2e=["offset"];function s2e(e){return l2e(e)||o2e(e)||i2e(e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function o2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l2e(e){if(Array.isArray(e))return FS(e)}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c2e(e,t){if(e==null)return{};var r=u2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){d2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2e(e,t,r){return t=f2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2e(e){var t=h2e(e,"string");return dg(t)=="symbol"?t:t+""}function h2e(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}var m2e=function(t){var r=t.value,n=t.formatter,a=ot(t.children)?r:t.children;return Ye(n)?n(a):a},p2e=function(t,r){var n=Jn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},g2e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,b=p2e(m,g),x=b>=0?1:-1,w,_;a==="insideStart"?(w=m+x*o,_=p):a==="insideEnd"?(w=g-x*o,_=!p):a==="end"&&(w=g+x*o,_=p),_=b<=0?_:!_;var j=Yt(u,d,v,w),N=Yt(u,d,v,w+(_?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),k=ot(t.id)?Th("recharts-radial-line-"):t.id;return O.createElement("text",fg({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:k,d:S})),O.createElement("textPath",{xlinkHref:"#".concat(k)},r))},v2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Yt(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Yt(o,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},y2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return nn(nn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return nn(nn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return nn(nn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return nn(nn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?nn({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideRight"?nn({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideTop"?nn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},S):i==="insideBottom"?nn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):i==="insideTopLeft"?nn({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},S):i==="insideTopRight"?nn({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},S):i==="insideBottomLeft"?nn({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},S):i==="insideBottomRight"?nn({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},S):Eh(i)&&(_e(i.x)||Ic(i.x))&&(_e(i.y)||Ic(i.y))?nn({x:l+es(i.x,u),y:c+es(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):nn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},x2e=function(t){return"cx"in t&&_e(t.cx)};function bn(e){var t=e.offset,r=t===void 0?5:t,n=c2e(e,n2e),a=nn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||ot(l)&&ot(c)&&!y.isValidElement(u)&&!Ye(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(Ye(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=m2e(a);var g=x2e(i),p=We(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return g2e(a,m,p);var v=g?v2e(a):y2e(a);return O.createElement(Pu,fg({className:st("recharts-label",f)},p,v,{breakAll:h}),m)}bn.displayName="Label";var aW=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(_e(p)&&_e(v)){if(_e(f)&&_e(h))return{x:f,y:h,width:p,height:v};if(_e(m)&&_e(g))return{x:m,y:g,width:p,height:v}}return _e(f)&&_e(h)?{x:f,y:h,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},b2e=function(t,r){return t?t===!0?O.createElement(bn,{key:"label-implicit",viewBox:r}):fn(t)?O.createElement(bn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===bn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(bn,{key:"label-implicit",content:t,viewBox:r}):Ye(t)?O.createElement(bn,{key:"label-implicit",content:t,viewBox:r}):Eh(t)?O.createElement(bn,fg({viewBox:r},t,{key:"label-implicit"})):null:null},w2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=aW(t),o=Xs(a,bn).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=b2e(t.label,r||i);return[l].concat(s2e(o))};bn.parseViewBox=aW;bn.renderCallByParent=w2e;function j2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _2e=j2e;const iW=Xt(_2e);function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var N2e=["valueAccessor"],S2e=["data","dataKey","clockWise","id","textBreakAll"];function C2e(e){return A2e(e)||P2e(e)||E2e(e)||k2e()}function k2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return US(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return US(e,t)}}function P2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A2e(e){if(Array.isArray(e))return US(e)}function US(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){O2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O2e(e,t,r){return t=T2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2e(e){var t=D2e(e,"string");return hg(t)=="symbol"?t:t+""}function D2e(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PM(e,t){if(e==null)return{};var r=R2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M2e=function(t){return Array.isArray(t.value)?iW(t.value):t.value};function Pi(e){var t=e.valueAccessor,r=t===void 0?M2e:t,n=PM(e,N2e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=PM(n,S2e);return!a||!a.length?null:O.createElement($t,{className:"recharts-label-list"},a.map(function(d,f){var h=ot(i)?r(d,f):Hr(d&&d.payload,i),m=ot(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(bn,kb({},We(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:bn.parseViewBox(ot(o)?d:EM(EM({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Pi.displayName="LabelList";function $2e(e,t){return e?e===!0?O.createElement(Pi,{key:"labelList-implicit",data:t}):O.isValidElement(e)||Ye(e)?O.createElement(Pi,{key:"labelList-implicit",data:t,content:e}):Eh(e)?O.createElement(Pi,kb({data:t},e,{key:"labelList-implicit"})):null:null}function I2e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Xs(n,Pi).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=$2e(e.label,t);return[i].concat(C2e(a))}Pi.renderCallByParent=I2e;function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(this,arguments)}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){L2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L2e(e,t,r){return t=F2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F2e(e){var t=U2e(e,"string");return mg(t)=="symbol"?t:t+""}function U2e(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B2e=function(t,r){var n=Jn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},gy=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Cb,h=u?i:i+o*f,m=Yt(r,n,d,h),g=Yt(r,n,a,h),p=u?i-o*f:i,v=Yt(r,n,d*Math.cos(f*Cb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},oW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=B2e(o,l),u=o+c,d=Yt(r,n,i,o),f=Yt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Yt(r,n,a,o),g=Yt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},z2e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Jn(d-u),h=gy({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=gy({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):oW({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=gy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,P=gy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,E=P.lineTangency,R=P.theta,$=c?Math.abs(u-d):Math.abs(u-d)-C-R;if($<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},V2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lW=function(t){var r=OM(OM({},V2e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=st("recharts-sector",h),g=o-i,p=es(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=z2e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=oW({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),O.createElement("path",BS({},We(r,!0),{className:m,d:v,role:"img"}))};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){q2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q2e(e,t,r){return t=W2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2e(e){var t=H2e(e,"string");return pg(t)=="symbol"?t:t+""}function H2e(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RM={curveBasisClosed:Hye,curveBasisOpen:Kye,curveBasis:Wye,curveBumpX:Oye,curveBumpY:Tye,curveLinearClosed:Gye,curveLinear:Pw,curveMonotoneX:Yye,curveMonotoneY:Xye,curveNatural:Qye,curveStep:Zye,curveStepAfter:exe,curveStepBefore:Jye},vy=function(t){return t.x===+t.x&&t.y===+t.y},_m=function(t){return t.x},Nm=function(t){return t.y},K2e=function(t,r){if(Ye(t))return t;var n="curve".concat(kw(t));return(n==="curveMonotone"||n==="curveBump")&&r?RM["".concat(n).concat(r==="vertical"?"Y":"X")]:RM[n]||Pw},G2e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=K2e(n,l),f=u?i.filter(function(p){return vy(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return vy(p)}):o,g=f.map(function(p,v){return DM(DM({},p),{},{base:m[v]})});return l==="vertical"?h=oy().y(Nm).x1(_m).x0(function(p){return p.base.x}):h=oy().x(_m).y1(Nm).y0(function(p){return p.base.y}),h.defined(vy).curve(d),h(g)}return l==="vertical"&&_e(o)?h=oy().y(Nm).x1(_m).x0(o):_e(o)?h=oy().x(_m).y1(Nm).y0(o):h=eV().x(_m).y(Nm),h.defined(vy).curve(d),h(f)},Eb=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?G2e(t):a;return y.createElement("path",zS({},We(t,!1),Zx(t),{className:st("recharts-curve",r),d:o,ref:i}))},cW={exports:{}},Y2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",X2e=Y2e,Q2e=X2e;function uW(){}function dW(){}dW.resetWarningCache=uW;var Z2e=function(){function e(n,a,i,o,l,c){if(c!==Q2e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dW,resetWarningCache:uW};return r.PropTypes=r,r};cW.exports=Z2e();var J2e=cW.exports;const Qt=Xt(J2e);var eOe=Object.getOwnPropertyNames,tOe=Object.getOwnPropertySymbols,rOe=Object.prototype.hasOwnProperty;function MM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function yy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function $M(e){return eOe(e).concat(tOe(e))}var nOe=Object.hasOwn||function(e,t){return rOe.call(e,t)};function Ku(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var sOe="__v",aOe="__o",iOe="_owner",IM=Object.getOwnPropertyDescriptor,LM=Object.keys;function oOe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function lOe(e,t){return Ku(e.getTime(),t.getTime())}function cOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uOe(e,t){return e===t}function FM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var dOe=Ku;function fOe(e,t,r){var n=LM(e),a=n.length;if(LM(t).length!==a)return!1;for(;a-- >0;)if(!fW(e,t,r,n[a]))return!1;return!0}function Sm(e,t,r){var n=$M(e),a=n.length;if($M(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!fW(e,t,r,i)||(o=IM(e,i),l=IM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function hOe(e,t){return Ku(e.valueOf(),t.valueOf())}function mOe(e,t){return e.source===t.source&&e.flags===t.flags}function UM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function pOe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function gOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fW(e,t,r,n){return(n===iOe||n===aOe||n===sOe)&&(e.$$typeof||t.$$typeof)?!0:nOe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var vOe="[object Arguments]",yOe="[object Boolean]",xOe="[object Date]",bOe="[object Error]",wOe="[object Map]",jOe="[object Number]",_Oe="[object Object]",NOe="[object RegExp]",SOe="[object Set]",COe="[object String]",kOe="[object URL]",EOe=Array.isArray,BM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zM=Object.assign,POe=Object.prototype.toString.call.bind(Object.prototype.toString);function AOe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(g,p,v):b==="function"?a(g,p,v):!1;var x=g.constructor;if(x!==p.constructor)return!1;if(x===Object)return l(g,p,v);if(EOe(g))return t(g,p,v);if(BM!=null&&BM(g))return f(g,p,v);if(x===Date)return r(g,p,v);if(x===RegExp)return u(g,p,v);if(x===Map)return i(g,p,v);if(x===Set)return d(g,p,v);var w=POe(g);return w===xOe?r(g,p,v):w===NOe?u(g,p,v):w===wOe?i(g,p,v):w===SOe?d(g,p,v):w===_Oe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):w===kOe?h(g,p,v):w===bOe?n(g,p,v):w===vOe?l(g,p,v):w===yOe||w===jOe||w===COe?c(g,p,v):!1}}function OOe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Sm:oOe,areDatesEqual:lOe,areErrorsEqual:cOe,areFunctionsEqual:uOe,areMapsEqual:n?MM(FM,Sm):FM,areNumbersEqual:dOe,areObjectsEqual:n?Sm:fOe,arePrimitiveWrappersEqual:hOe,areRegExpsEqual:mOe,areSetsEqual:n?MM(UM,Sm):UM,areTypedArraysEqual:n?Sm:pOe,areUrlsEqual:gOe};if(r&&(a=zM({},a,r(a))),t){var i=yy(a.areArraysEqual),o=yy(a.areMapsEqual),l=yy(a.areObjectsEqual),c=yy(a.areSetsEqual);a=zM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function TOe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function DOe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var ROe=fc();fc({strict:!0});fc({circular:!0});fc({circular:!0,strict:!0});fc({createInternalComparator:function(){return Ku}});fc({strict:!0,createInternalComparator:function(){return Ku}});fc({circular:!0,createInternalComparator:function(){return Ku}});fc({circular:!0,createInternalComparator:function(){return Ku},strict:!0});function fc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=OOe(e),c=AOe(l),u=n?n(c):TOe(c);return DOe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function MOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function VM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):MOe(a)};requestAnimationFrame(n)}function VS(e){"@babel/helpers - typeof";return VS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VS(e)}function $Oe(e){return UOe(e)||FOe(e)||LOe(e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UOe(e){if(Array.isArray(e))return e}function BOe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=$Oe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){VM(a.bind(null,u),c);return}a(c),VM(a.bind(null,u));return}VS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOe(e){var t=VOe(e,"string");return gg(t)==="symbol"?t:String(t)}function VOe(e,t){if(gg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qOe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},WOe=function(t){return t},HOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},op=function(t,r){return Object.keys(r).reduce(function(n,a){return HM(HM({},n),{},hW({},a,t(a,r[a])))},{})},KM=function(t,r,n){return t.map(function(a){return"".concat(HOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function KOe(e,t){return XOe(e)||YOe(e,t)||mW(e,t)||GOe()}function GOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XOe(e){if(Array.isArray(e))return e}function QOe(e){return eTe(e)||JOe(e)||mW(e)||ZOe()}function ZOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(e,t){if(e){if(typeof e=="string")return qS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(e,t)}}function JOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eTe(e){if(Array.isArray(e))return qS(e)}function qS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pb=1e-4,pW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},gW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},GM=function(t,r){return function(n){var a=pW(t,r);return gW(a,n)}},tTe=function(t,r){return function(n){var a=pW(t,r),i=[].concat(QOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return gW(i,n)}},YM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=KOe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=GM(a,o),h=GM(i,l),m=tTe(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var j=f(w)-x,N=m(w);if(Math.abs(j-x)<Pb||N<Pb)return h(w);w=g(w-j/N)}return h(w)};return p.isStepper=!1,p},rTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Pb&&Math.abs(p)<Pb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},nTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YM(a);case"spring":return rTe();default:if(a.split("(")[0]==="cubic-bezier")return YM(a)}return typeof a=="function"?a:null};function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function XM(e){return iTe(e)||aTe(e)||vW(e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iTe(e){if(Array.isArray(e))return HS(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){WS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WS(e,t,r){return t=oTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oTe(e){var t=lTe(e,"string");return vg(t)==="symbol"?t:String(t)}function lTe(e,t){if(vg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cTe(e,t){return fTe(e)||dTe(e,t)||vW(e,t)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vW(e,t){if(e){if(typeof e=="string")return HS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HS(e,t)}}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fTe(e){if(Array.isArray(e))return e}var Ab=function(t,r,n){return t+(r-t)*n},KS=function(t){var r=t.from,n=t.to;return r!==n},hTe=function e(t,r,n){var a=op(function(i,o){if(KS(o)){var l=t(o.from,o.to,o.velocity),c=cTe(l,2),u=c[0],d=c[1];return kn(kn({},o),{},{from:u,velocity:d})}return o},r);return n<1?op(function(i,o){return KS(o)?kn(kn({},o),{},{velocity:Ab(o.velocity,a[i].velocity,n),from:Ab(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const mTe=function(e,t,r,n,a){var i=qOe(e,t),o=i.reduce(function(v,b){return kn(kn({},v),{},WS({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return kn(kn({},v),{},WS({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return op(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(KS).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=hTe(r,l,w),a(kn(kn(kn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=op(function(j,N){return Ab.apply(void 0,XM(N).concat([r(x)]))},o);if(a(kn(kn(kn({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=op(function(j,N){return Ab.apply(void 0,XM(N).concat([r(1)]))},o);a(kn(kn(kn({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}var pTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gTe(e,t){if(e==null)return{};var r=vTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function W_(e){return wTe(e)||bTe(e)||xTe(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xTe(e,t){if(e){if(typeof e=="string")return GS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(e,t)}}function bTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wTe(e){if(Array.isArray(e))return GS(e)}function GS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){Fm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fm(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yW(n.key),n)}}function NTe(e,t,r){return t&&_Te(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yW(e){var t=STe(e,"string");return Vf(t)==="symbol"?t:String(t)}function STe(e,t){if(Vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YS(e,t)}function YS(e,t){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YS(e,t)}function kTe(e){var t=ETe();return function(){var n=Ob(e),a;if(t){var i=Ob(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return XS(this,a)}}function XS(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QS(e)}function QS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ETe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}var ai=function(e){CTe(r,e);var t=kTe(r);function r(n,a){var i;jTe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(QS(i)),i.changeStyle=i.changeStyle.bind(QS(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),XS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},XS(i);i.state={style:c?Fm({},c,u):u}}else i.state={style:{}};return i}return NTe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Fm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(ROe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?Fm({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Ta(Ta({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=mTe(o,l,nTe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,j=v.style,N=v.properties,S=v.onAnimationEnd,k=b>0?o[b-1]:v,C=N||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(W_(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:x,easing:_}),x]);var P=KM(C,x,_),A=Ta(Ta(Ta({},k.style),j),{},{transition:P});return[].concat(W_(p),[A,x,S]).filter(WOe)};return this.manager.start([c].concat(W_(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BOe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Fm({},l,c):c,v=KM(Object.keys(p),o,u);g.start([d,i,Ta(Ta({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=gTe(a,pTe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,x=y.cloneElement(m,Ta(Ta({},c),{},{style:Ta(Ta({},v),d),className:b}));return x};return u===1?f(y.Children.only(i)):O.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);ai.displayName="Animate";ai.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ai.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function PTe(e,t){return DTe(e)||TTe(e,t)||OTe(e,t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OTe(e,t){if(e){if(typeof e=="string")return JM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JM(e,t)}}function JM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DTe(e){if(Array.isArray(e))return e}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){RTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RTe(e,t,r){return t=MTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MTe(e){var t=$Te(e,"string");return yg(t)=="symbol"?t:t+""}function $Te(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r4=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ITe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},LTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XP=function(t){var r=t4(t4({},LTe),t),n=y.useRef(),a=y.useState(-1),i=PTe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=st("recharts-rectangle",m);return x?O.createElement(ai,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(_){var j=_.width,N=_.height,S=_.x,k=_.y;return O.createElement(ai,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},O.createElement("path",Tb({},We(r,!0),{className:w,d:r4(S,k,j,N,h),ref:n})))}):O.createElement("path",Tb({},We(r,!0),{className:w,d:r4(c,u,d,f,h)}))},FTe=["points","className","baseLinePoints","connectNulls"];function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function UTe(e,t){if(e==null)return{};var r=BTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n4(e){return WTe(e)||qTe(e)||VTe(e)||zTe()}function zTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VTe(e,t){if(e){if(typeof e=="string")return ZS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(e,t)}}function qTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WTe(e){if(Array.isArray(e))return ZS(e)}function ZS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s4=function(t){return t&&t.x===+t.x&&t.y===+t.y},HTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){s4(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),s4(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lp=function(t,r){var n=HTe(t);r&&(n=[n.reduce(function(i,o){return[].concat(n4(i),n4(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},KTe=function(t,r,n){var a=lp(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(lp(r.reverse(),n).slice(1))},xW=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=UTe(t,FTe);if(!r||!r.length)return null;var l=st("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=KTe(r,a,i);return O.createElement("g",{className:l},O.createElement("path",Td({},We(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?O.createElement("path",Td({},We(o,!0),{fill:"none",d:lp(r,i)})):null,c?O.createElement("path",Td({},We(o,!0),{fill:"none",d:lp(a,i)})):null)}var d=lp(r,i);return O.createElement("path",Td({},We(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(this,arguments)}var yv=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=st("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",JS({},We(t,!1),Zx(t),{className:o,cx:r,cy:n,r:a})):null};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}var GTe=["x","y","top","left","width","height","className"];function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eC.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){XTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XTe(e,t,r){return t=QTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QTe(e){var t=ZTe(e,"string");return xg(t)=="symbol"?t:t+""}function ZTe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JTe(e,t){if(e==null)return{};var r=eDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tDe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},rDe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=JTe(t,GTe),v=YTe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!_e(n)||!_e(i)||!_e(f)||!_e(m)||!_e(l)||!_e(u)?null:O.createElement("path",eC({},We(v,!0),{className:st("recharts-cross",g),d:tDe(n,i,f,m,l,u)}))},nDe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function sDe(e,t){if(e==null)return{};var r=aDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){iDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iDe(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return bg(t)=="symbol"?t:t+""}function lDe(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cDe=function(t,r,n,a){var i="";return a.forEach(function(o,l){var c=Yt(r,n,t,o);l?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},uDe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.polarAngles,l=t.radialLines;if(!o||!o.length||!l)return null;var c=wg({stroke:"#ccc"},We(t,!1));return O.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(u){var d=Yt(r,n,a,u),f=Yt(r,n,i,u);return O.createElement("line",Po({},c,{key:"line-".concat(u),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},dDe=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.index,o=wg(wg({stroke:"#ccc"},We(t,!1)),{},{fill:"none"});return O.createElement("circle",Po({},o,{className:st("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:r,cy:n,r:a}))},fDe=function(t){var r=t.radius,n=t.index,a=wg(wg({stroke:"#ccc"},We(t,!1)),{},{fill:"none"});return O.createElement("path",Po({},a,{className:st("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:cDe(r,t.cx,t.cy,t.polarAngles)}))},hDe=function(t){var r=t.polarRadius,n=t.gridType;return!r||!r.length?null:O.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(a,i){var o=i;return n==="circle"?O.createElement(dDe,Po({key:o},t,{radius:a,index:i})):O.createElement(fDe,Po({key:o},t,{radius:a,index:i}))}))},bW=function(t){var r=t.cx,n=r===void 0?0:r,a=t.cy,i=a===void 0?0:a,o=t.innerRadius,l=o===void 0?0:o,c=t.outerRadius,u=c===void 0?0:c,d=t.gridType,f=d===void 0?"polygon":d,h=t.radialLines,m=h===void 0?!0:h,g=sDe(t,nDe);return u<=0?null:O.createElement("g",{className:"recharts-polar-grid"},O.createElement(uDe,Po({cx:n,cy:i,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},g)),O.createElement(hDe,Po({cx:n,cy:i,innerRadius:l,outerRadius:u,gridType:f,radialLines:m},g)))};bW.displayName="PolarGrid";var mDe=Bw,pDe=Eq,gDe=Hi;function vDe(e,t){return e&&e.length?mDe(e,gDe(t),pDe):void 0}var yDe=vDe;const xDe=Xt(yDe);var bDe=Bw,wDe=Hi,jDe=Pq;function _De(e,t){return e&&e.length?bDe(e,wDe(t),jDe):void 0}var NDe=_De;const SDe=Xt(NDe);var CDe=["cx","cy","angle","ticks","axisLine"],kDe=["ticks","tick","angle","tickFormatter","stroke"];function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){Hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4(e,t){if(e==null)return{};var r=EDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jW(n.key),n)}}function ADe(e,t,r){return t&&c4(e.prototype,t),r&&c4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ODe(e,t,r){return t=Db(t),TDe(e,wW()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function TDe(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DDe(e)}function DDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function RDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}function tC(e,t){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tC(e,t)}function Hw(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=MDe(e,"string");return qf(t)=="symbol"?t:t+""}function MDe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh=function(e){function t(){return PDe(this,t),ODe(this,t,arguments)}return RDe(t,e),ADe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Yt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xDe(l,function(d){return d.coordinate||0}),u=SDe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=l4(n,CDe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Yt(a,i,d[0],o),h=Yt(a,i,d[1],o),m=yc(yc(yc({},We(u,!1)),{},{fill:"none"},We(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return O.createElement("line",cp({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=l4(a,kDe),f=this.getTickTextAnchor(),h=We(d,!1),m=We(o,!1),g=i.map(function(p,v){var b=n.getTickValueCoord(p),x=yc(yc(yc(yc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},b),{},{payload:p});return O.createElement($t,cp({className:st("recharts-polar-radius-axis-tick",sW(o)),key:"tick-".concat(p.coordinate)},Eu(n.props,p,v)),t.renderTickItem(o,x,c?c(p.value,v):p.value))});return O.createElement($t,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:O.createElement($t,{className:st("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),bn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Ye(n)?o=n(a):o=O.createElement(Pu,cp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);Hw(Uh,"displayName","PolarRadiusAxis");Hw(Uh,"axisType","radiusAxis");Hw(Uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){Kw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NW(n.key),n)}}function IDe(e,t,r){return t&&d4(e.prototype,t),r&&d4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LDe(e,t,r){return t=Rb(t),FDe(e,_W()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function FDe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UDe(e)}function UDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function BDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rC(e,t)}function Kw(e,t,r){return t=NW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=zDe(e,"string");return Wf(t)=="symbol"?t:t+""}function zDe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VDe=Math.PI/180,f4=1e-5,Bh=function(e){function t(){return $De(this,t),LDe(this,t,arguments)}return BDe(t,e),IDe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Yt(i,o,l,n.coordinate),h=Yt(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*VDe),o;return i>f4?o=a==="outer"?"start":"end":i<-f4?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=xc(xc({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(c==="circle")return O.createElement(yv,Ac({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Yt(a,i,o,h.coordinate)});return O.createElement(xW,Ac({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=We(this.props,!1),f=We(o,!1),h=xc(xc({},d),{},{fill:"none"},We(l,!1)),m=i.map(function(g,p){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=xc(xc(xc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return O.createElement($t,Ac({className:st("recharts-polar-angle-axis-tick",sW(o)),key:"tick-".concat(g.coordinate)},Eu(n.props,g,p)),l&&O.createElement("line",Ac({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,c?c(g.value,p):g.value))});return O.createElement($t,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:O.createElement($t,{className:st("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Ye(n)?o=n(a):o=O.createElement(Pu,Ac({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);Kw(Bh,"displayName","PolarAngleAxis");Kw(Bh,"axisType","angleAxis");Kw(Bh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qDe=NV,WDe=qDe(Object.getPrototypeOf,Object),HDe=WDe,KDe=$o,GDe=HDe,YDe=Io,XDe="[object Object]",QDe=Function.prototype,ZDe=Object.prototype,SW=QDe.toString,JDe=ZDe.hasOwnProperty,eRe=SW.call(Object);function tRe(e){if(!YDe(e)||KDe(e)!=XDe)return!1;var t=GDe(e);if(t===null)return!0;var r=JDe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&SW.call(r)==eRe}var rRe=tRe;const nRe=Xt(rRe);var sRe=$o,aRe=Io,iRe="[object Boolean]";function oRe(e){return e===!0||e===!1||aRe(e)&&sRe(e)==iRe}var lRe=oRe;const cRe=Xt(lRe);function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function uRe(e,t){return mRe(e)||hRe(e,t)||fRe(e,t)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mRe(e){if(Array.isArray(e))return e}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){pRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pRe(e,t,r){return t=gRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gRe(e){var t=vRe(e,"string");return jg(t)=="symbol"?t:t+""}function vRe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},yRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xRe=function(t){var r=p4(p4({},yRe),t),n=y.useRef(),a=y.useState(-1),i=uRe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=st("recharts-trapezoid",m);return b?O.createElement(ai,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,N=w.height,S=w.x,k=w.y;return O.createElement(ai,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},O.createElement("path",Mb({},We(r,!0),{className:x,d:g4(S,k,_,j,N),ref:n})))}):O.createElement("g",null,O.createElement("path",Mb({},We(r,!0),{className:x,d:g4(c,u,d,f,h)})))},bRe=["option","shapeType","propTransformer","activeClassName","isActive"];function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function wRe(e,t){if(e==null)return{};var r=jRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){_Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Re(e,t,r){return t=NRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NRe(e){var t=SRe(e,"string");return _g(t)=="symbol"?t:t+""}function SRe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CRe(e,t){return $b($b({},t),e)}function kRe(e,t){return e==="symbols"}function y4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(XP,r);case"trapezoid":return O.createElement(xRe,r);case"sector":return O.createElement(lW,r);case"symbols":if(kRe(t))return O.createElement(pP,r);break;default:return null}}function ERe(e){return y.isValidElement(e)?e.props:e}function CW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?CRe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=wRe(e,bRe),u;if(y.isValidElement(t))u=y.cloneElement(t,$b($b({},c),ERe(t)));else if(Ye(t))u=t(c);else if(nRe(t)&&!cRe(t)){var d=a(t,c);u=O.createElement(y4,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(y4,{shapeType:r,elementProps:f})}return l?O.createElement($t,{className:o},u):u}function Gw(e,t){return t!=null&&"trapezoids"in e.props}function Yw(e,t){return t!=null&&"sectors"in e.props}function Ng(e,t){return t!=null&&"points"in e.props}function PRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ARe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ORe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function TRe(e,t){var r;return Gw(e,t)?r=PRe:Yw(e,t)?r=ARe:Ng(e,t)&&(r=ORe),r}function DRe(e,t){var r;return Gw(e,t)?r="trapezoids":Yw(e,t)?r="sectors":Ng(e,t)&&(r="points"),r}function RRe(e,t){if(Gw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ng(e,t)?t.payload:{}}function MRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=DRe(r,t),i=RRe(r,t),o=n.filter(function(c,u){var d=Ih(i,c),f=r.props[a].filter(function(g){var p=TRe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var qy;function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(this,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EW(n.key),n)}}function IRe(e,t,r){return t&&b4(e.prototype,t),r&&b4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e,t,r){return t=Ib(t),FRe(e,kW()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function FRe(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function BRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nC(e,t)}function ma(e,t,r){return t=EW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=zRe(e,"string");return Hf(t)=="symbol"?t:t+""}function zRe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fo=function(e){function t(r){var n;return $Re(this,t),n=LRe(this,t,[r]),ma(n,"pieRef",null),ma(n,"sectorRefs",[]),ma(n,"id",Th("recharts-pie-")),ma(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(a)&&a()}),ma(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return BRe(t,e),IRe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=We(this.props,!1),f=We(o,!1),h=We(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var b=(p.startAngle+p.endAngle)/2,x=Yt(p.cx,p.cy,p.outerRadius+m,b),w=dr(dr(dr(dr({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),_=dr(dr(dr(dr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Yt(p.cx,p.cy,p.outerRadius,b),x]}),j=c;return ot(c)&&ot(u)?j="value":ot(c)&&(j=u),O.createElement($t,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Hr(p,j)))});return O.createElement($t,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=dr(dr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement($t,Dd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Eu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),O.createElement(CW,Dd({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return O.createElement(ai,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(w,_){var j=h&&h[_],N=_>0?Ys(w,"paddingAngle",0):0;if(j){var S=Pn(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=dr(dr({},w),{},{startAngle:x+N,endAngle:x+S(p)+N});v.push(k),x=k.endAngle}else{var C=w.endAngle,P=w.startAngle,A=Pn(0,C-P),E=A(p),R=dr(dr({},w),{},{startAngle:x+N,endAngle:x+E+N});v.push(R),x=R.endAngle}}),O.createElement($t,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!_e(u)||!_e(d)||!_e(f)||!_e(h))return null;var p=st("recharts-pie",l);return O.createElement($t,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),bn.renderCallByParent(this.props,null,!1),(!m||g)&&Pi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);if(Ye(n))return n(a);var o=st("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(Eb,Dd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);var o=i;if(Ye(n)&&(o=n(a),O.isValidElement(o)))return o;var l=st("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return O.createElement(Pu,Dd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);qy=Fo;ma(Fo,"displayName","Pie");ma(Fo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ya.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ma(Fo,"parseDeltaAngle",function(e,t){var r=Jn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ma(Fo,"getRealPieData",function(e){var t=e.data,r=e.children,n=We(e,!1),a=Xs(r,Rw);return t&&t.length?t.map(function(i,o){return dr(dr(dr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return dr(dr({},n),i.props)}):[]});ma(Fo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=rW(a,i),l=n+es(e.cx,a,a/2),c=r+es(e.cy,i,i/2),u=es(e.innerRadius,o,0),d=es(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ma(Fo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?dr(dr({},t.type.defaultProps),t.props):t.props,a=qy.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=qy.parseCoordinateOfPie(n,r),p=qy.parseDeltaAngle(o,l),v=Math.abs(p),b=u;ot(u)&&ot(f)?(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ot(u)&&(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=a.filter(function(k){return Hr(k,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*m-w,j=a.reduce(function(k,C){var P=Hr(C,b,0);return k+(_e(P)?P:0)},0),N;if(j>0){var S;N=a.map(function(k,C){var P=Hr(k,b,0),A=Hr(k,d,C),E=(_e(P)?P:0)/j,R;C?R=S.endAngle+Jn(p)*c*(P!==0?1:0):R=o;var $=R+Jn(p)*((P!==0?m:0)+E*_),B=(R+$)/2,F=(g.innerRadius+g.outerRadius)/2,L=[{name:A,value:P,payload:k,dataKey:b,type:h}],D=Yt(g.cx,g.cy,F,B);return S=dr(dr(dr({percent:E,cornerRadius:i,name:A,tooltipPayload:L,midAngle:B,middleRadius:F,tooltipPosition:D},k),g),{},{value:Hr(k,b),startAngle:R,endAngle:$,payload:k,paddingAngle:Jn(p)*c}),S})}return dr(dr({},g),{},{sectors:N,data:a})});function VRe(e){return e&&e.length?e[0]:void 0}var qRe=VRe,WRe=qRe;const HRe=Xt(WRe);var KRe=["key"];function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function GRe(e,t){if(e==null)return{};var r=YRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(this,arguments)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AW(n.key),n)}}function QRe(e,t,r){return t&&j4(e.prototype,t),r&&j4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZRe(e,t,r){return t=Fb(t),JRe(e,PW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function JRe(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eMe(e)}function eMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function tMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sC(e,t)}function ao(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=rMe(e,"string");return Kf(t)=="symbol"?t:t+""}function rMe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xv=function(e){function t(){var r;XRe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZRe(this,t,[].concat(a)),ao(r,"state",{isAnimationFinished:!1}),ao(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(o)&&o()}),ao(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(o)&&o()}),ao(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),ao(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return tMe(t,e),QRe(t,[{key:"renderDots",value:function(n){var a=this.props,i=a.dot,o=a.dataKey,l=We(this.props,!1),c=We(i,!0),u=n.map(function(d,f){var h=Kn(Kn(Kn({key:"dot-".concat(f),r:3},l),c),{},{dataKey:o,cx:d.x,cy:d.y,index:f,payload:d});return t.renderDotItem(i,h)});return O.createElement($t,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(n){var a=this.props,i=a.shape,o=a.dot,l=a.isRange,c=a.baseLinePoints,u=a.connectNulls,d;return O.isValidElement(i)?d=O.cloneElement(i,Kn(Kn({},this.props),{},{points:n})):Ye(i)?d=i(Kn(Kn({},this.props),{},{points:n})):d=O.createElement(xW,Lb({},We(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?c:null,connectNulls:u})),O.createElement($t,{className:"recharts-radar-polygon"},d,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return O.createElement(ai,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=f&&f.length/i.length,p=i.map(function(v,b){var x=f&&f[Math.floor(b*g)];if(x){var w=Pn(x.x,v.x),_=Pn(x.y,v.y);return Kn(Kn({},v),{},{x:w(m),y:_(m)})}var j=Pn(v.cx,v.x),N=Pn(v.cy,v.y);return Kn(Kn({},v),{},{x:j(m),y:N(m)})});return n.renderPolygonStatically(p)})}},{key:"renderPolygon",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=n.isRange,l=this.state.prevPoints;return i&&a&&a.length&&!o&&(!l||!Ih(l,a))?this.renderPolygonWithAnimation():this.renderPolygonStatically(a)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.className,o=n.points,l=n.isAnimationActive;if(a||!o||!o.length)return null;var c=this.state.isAnimationFinished,u=st("recharts-radar",i);return O.createElement($t,{className:u},this.renderPolygon(),(!l||c)&&Pi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,a){var i;if(O.isValidElement(n))i=O.cloneElement(n,a);else if(Ye(n))i=n(a);else{var o=a.key,l=GRe(a,KRe);i=O.createElement(yv,Lb({},l,{key:o,className:st("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return i}}])}(y.PureComponent);ao(xv,"displayName","Radar");ao(xv,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ao(xv,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,n=e.displayedData,a=e.dataKey,i=e.bandSize,o=r.cx,l=r.cy,c=!1,u=[],d=r.type!=="number"?i??0:0;n.forEach(function(h,m){var g=Hr(h,r.dataKey,m),p=Hr(h,a),v=r.scale(g)+d,b=Array.isArray(p)?iW(p):p,x=ot(b)?void 0:t.scale(b);Array.isArray(p)&&p.length>=2&&(c=!0),u.push(Kn(Kn({},Yt(o,l,x,v)),{},{name:g,value:p,cx:o,cy:l,radius:x,angle:v,payload:h}))});var f=[];return c&&u.forEach(function(h){if(Array.isArray(h.value)){var m=HRe(h.value),g=ot(m)?void 0:t.scale(m);f.push(Kn(Kn({},h),{},{radius:g},Yt(o,l,g,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}});var nMe=Math.ceil,sMe=Math.max;function aMe(e,t,r,n){for(var a=-1,i=sMe(nMe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var iMe=aMe,oMe=VV,_4=1/0,lMe=17976931348623157e292;function cMe(e){if(!e)return e===0?e:0;if(e=oMe(e),e===_4||e===-_4){var t=e<0?-1:1;return t*lMe}return e===e?e:0}var OW=cMe,uMe=iMe,dMe=Dw,H_=OW;function fMe(e){return function(t,r,n){return n&&typeof n!="number"&&dMe(t,r,n)&&(r=n=void 0),t=H_(t),r===void 0?(r=t,t=0):r=H_(r),n=n===void 0?t<r?1:-1:H_(n),uMe(t,r,n,e)}}var hMe=fMe,mMe=hMe,pMe=mMe(),gMe=pMe;const Ub=Xt(gMe);function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function N4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return t=vMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vMe(e){var t=yMe(e,"string");return Sg(t)=="symbol"?t:t+""}function yMe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xMe=["Webkit","Moz","O","ms"],bMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=xMe.reduce(function(i,o){return S4(S4({},i),{},TW({},o+n,r))},{});return a[t]=r,a};function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(this,arguments)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){Ls(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RW(n.key),n)}}function jMe(e,t,r){return t&&k4(e.prototype,t),r&&k4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Me(e,t,r){return t=zb(t),NMe(e,DW()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function NMe(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SMe(e)}function SMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function CMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aC(e,t)}function Ls(e,t,r){return t=RW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=kMe(e,"string");return Gf(t)=="symbol"?t:t+""}function kMe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ap().domain(Ub(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},E4=function(t){return t.changedTouches&&!!t.changedTouches.length},Yf=function(e){function t(r){var n;return wMe(this,t),n=_Me(this,t,[r]),Ls(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ls(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ls(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ls(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ls(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ls(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ls(n,"handleSlideDragStart",function(a){var i=E4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return CMe(t,e),jMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Hr(i[n],l,n);return Ye(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=E4(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(Ls(Ls({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ls({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?O.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=K_(K_({},We(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return O.createElement($t,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return O.createElement($t,{className:"recharts-brush-texts"},O.createElement(Pu,Bb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),O.createElement(Pu,Bb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!_e(l)||!_e(c)||!_e(u)||!_e(d)||u<=0||d<=0)return null;var w=st("recharts-brush",i),_=O.Children.count(o)===1,j=bMe("userSelect","none");return O.createElement($t,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,a):Ye(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return K_({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?EMe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);Ls(Yf,"displayName","Brush");Ls(Yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PMe=jP;function AMe(e,t){var r;return PMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var OMe=AMe,TMe=gV,DMe=Hi,RMe=OMe,MMe=Os,$Me=Dw;function IMe(e,t,r){var n=MMe(e)?TMe:RMe;return r&&$Me(e,t,r)&&(t=void 0),n(e,DMe(t))}var LMe=IMe;const FMe=Xt(LMe);var Ai=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},P4=LV;function UMe(e,t,r){t=="__proto__"&&P4?P4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var BMe=UMe,zMe=BMe,VMe=$V,qMe=Hi;function WMe(e,t){var r={};return t=qMe(t),VMe(e,function(n,a,i){zMe(r,a,t(n,a,i))}),r}var HMe=WMe;const KMe=Xt(HMe);function GMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var YMe=GMe,XMe=jP;function QMe(e,t){var r=!0;return XMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var ZMe=QMe,JMe=YMe,e4e=ZMe,t4e=Hi,r4e=Os,n4e=Dw;function s4e(e,t,r){var n=r4e(e)?JMe:e4e;return r&&n4e(e,t,r)&&(t=void 0),n(e,t4e(t))}var a4e=s4e;const MW=Xt(a4e);var i4e=["x","y"];function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iC.apply(this,arguments)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){o4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4e(e,t,r){return t=l4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4e(e){var t=c4e(e,"string");return Cg(t)=="symbol"?t:t+""}function c4e(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u4e(e,t){if(e==null)return{};var r=d4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f4e(e,t){var r=e.x,n=e.y,a=u4e(e,i4e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Cm(Cm(Cm(Cm(Cm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function O4(e){return O.createElement(CW,iC({shapeType:"rectangle",propTransformer:f4e,activeClassName:"recharts-active-bar"},e))}var h4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=_e(n)||gve(n);return i?t(n,a):(i||Ou(),r)}},m4e=["value","background"],$W;function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function p4e(e,t){if(e==null)return{};var r=g4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LW(n.key),n)}}function y4e(e,t,r){return t&&D4(e.prototype,t),r&&D4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x4e(e,t,r){return t=qb(t),b4e(e,IW()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function b4e(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w4e(e)}function w4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function j4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oC(e,t)}function oC(e,t){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oC(e,t)}function Sl(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=_4e(e,"string");return Xf(t)=="symbol"?t:t+""}function _4e(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ql=function(e){function t(){var r;v4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=x4e(this,t,[].concat(a)),Sl(r,"state",{isAnimationFinished:!1}),Sl(r,"id",Th("recharts-bar-")),Sl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Sl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return j4e(t,e),y4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=We(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Xr(Xr(Xr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement($t,Vb({className:"recharts-bar-rectangle"},Eu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),O.createElement(O4,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return O.createElement(ai,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,b){var x=h&&h[b];if(x){var w=Pn(x.x,v.x),_=Pn(x.y,v.y),j=Pn(x.width,v.width),N=Pn(x.height,v.height);return Xr(Xr({},v),{},{x:w(g),y:_(g),width:j(g),height:N(g)})}if(o==="horizontal"){var S=Pn(0,v.height),k=S(g);return Xr(Xr({},v),{},{y:v.y+v.height-k,height:k})}var C=Pn(0,v.width),P=C(g);return Xr(Xr({},v),{},{width:P})});return O.createElement($t,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ih(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=We(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=p4e(u,m4e);if(!f)return null;var m=Xr(Xr(Xr(Xr(Xr({},h),{},{fill:"#eee"},f),c),Eu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(O4,Vb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Xs(d,vv);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Hr(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement($t,g,f.map(function(p){return O.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=st("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,j=ot(p)?this.id:p;return O.createElement($t,{className:b},x||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(j)},O.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,O.createElement($t,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||v)&&Pi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);$W=Ql;Sl(Ql,"displayName","Bar");Sl(Ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ya.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sl(Ql,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=MAe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Xr(Xr({},p),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,N=zAe({numericAxis:_}),S=Xs(x,Rw),k=f.map(function(C,P){var A,E,R,$,B,F;u?A=$Ae(u[d+P],j):(A=Hr(C,b),Array.isArray(A)||(A=[N,A]));var L=h4e(w,$W.defaultProps.minPointSize)(A[1],P);if(g==="horizontal"){var D,T=[o.scale(A[0]),o.scale(A[1])],U=T[0],Q=T[1];E=xM({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:C,index:P}),R=(D=Q??U)!==null&&D!==void 0?D:void 0,$=m.size;var K=U-Q;if(B=Number.isNaN(K)?0:K,F={x:E,y:o.y,width:$,height:o.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var oe=Jn(B||L)*(Math.abs(L)-Math.abs(B));R-=oe,B+=oe}}else{var W=[i.scale(A[0]),i.scale(A[1])],fe=W[0],Se=W[1];if(E=fe,R=xM({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:P}),$=Se-fe,B=m.size,F={x:i.x,y:R,width:i.width,height:B},Math.abs(L)>0&&Math.abs($)<Math.abs(L)){var ue=Jn($||L)*(Math.abs(L)-Math.abs($));$+=ue}}return Xr(Xr(Xr({},C),{},{x:E,y:R,width:$,height:B,value:u?A:A[1],payload:C,background:F},S&&S[P]&&S[P].props),{},{tooltipPayload:[eW(r,C)],tooltipPosition:{x:E+$/2,y:R+B/2}})});return Xr({data:k,layout:g},h)});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function N4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FW(n.key),n)}}function S4e(e,t,r){return t&&R4(e.prototype,t),r&&R4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){Xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xw(e,t,r){return t=FW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=C4e(e,"string");return kg(t)=="symbol"?t:t+""}function C4e(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UW=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Us(u,Ql);return d.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,_=p.mirror,j=p.reversed,N="".concat(v).concat(_?"Mirror":""),S,k,C,P,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=b[1]-b[0],R=1/0,$=p.categoricalDomain.sort(xve);if($.forEach(function(W,fe){fe>0&&(R=Math.min((W||0)-($[fe-1]||0),R))}),Number.isFinite(R)){var B=R/E,F=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=B*F/2),p.padding==="no-gap"){var L=es(t.barCategoryGap,B*F),D=B*F/2;S=D-L-(D-L)/F*L}}}a==="xAxis"?k=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:k=p.range,j&&(k=[k[1],k[0]]);var T=Xq(p,i,h),U=T.scale,Q=T.realScaleType;U.domain(b).range(k),Qq(U);var K=Zq(U,Ua(Ua({},p),{},{realScaleType:Q}));a==="xAxis"?(A=v==="top"&&!_||v==="bottom"&&_,C=n.left,P=f[N]-A*p.height):a==="yAxis"&&(A=v==="left"&&!_||v==="right"&&_,C=f[N]-A*p.width,P=n.top);var oe=Ua(Ua(Ua({},p),K),{},{realScaleType:Q,x:C,y:P,scale:U,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return oe.bandSize=Sb(oe,K),!p.hide&&a==="xAxis"?f[N]+=(A?-1:1)*oe.height:p.hide||(f[N]+=(A?-1:1)*oe.width),Ua(Ua({},m),{},Xw({},g,oe))},{})},BW=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},k4e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return BW({x:r,y:n},{x:a,y:i})},zW=function(){function e(t){N4e(this,e),this.scale=t}return S4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Xw(zW,"EPS",1e-4);var QP=function(t){var r=Object.keys(t).reduce(function(n,a){return Ua(Ua({},n),{},Xw({},a,zW.create(t[a])))},{});return Ua(Ua({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return KMe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return MW(a,function(i,o){return r[o].isInRange(i)})}})};function E4e(e){return(e%180+180)%180}var P4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=E4e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},A4e=Hi,O4e=fv,T4e=Ow;function D4e(e){return function(t,r,n){var a=Object(t);if(!O4e(t)){var i=A4e(r);t=T4e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var R4e=D4e,M4e=OW;function $4e(e){var t=M4e(e),r=t%1;return t===t?r?t-r:t:0}var I4e=$4e,L4e=AV,F4e=Hi,U4e=I4e,B4e=Math.max;function z4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:U4e(r);return a<0&&(a=B4e(n+a,0)),L4e(e,F4e(t),a)}var V4e=z4e,q4e=R4e,W4e=V4e,H4e=q4e(W4e),K4e=H4e;const G4e=Xt(K4e);var Y4e=bge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ZP=y.createContext(void 0),JP=y.createContext(void 0),VW=y.createContext(void 0),qW=y.createContext({}),WW=y.createContext(void 0),HW=y.createContext(0),KW=y.createContext(0),$4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Y4e(i);return O.createElement(ZP.Provider,{value:n},O.createElement(JP.Provider,{value:a},O.createElement(qW.Provider,{value:i},O.createElement(VW.Provider,{value:d},O.createElement(WW.Provider,{value:o},O.createElement(HW.Provider,{value:u},O.createElement(KW.Provider,{value:c},l)))))))},X4e=function(){return y.useContext(WW)},GW=function(t){var r=y.useContext(ZP);r==null&&Ou();var n=r[t];return n==null&&Ou(),n},Q4e=function(){var t=y.useContext(ZP);return dl(t)},Z4e=function(){var t=y.useContext(JP),r=G4e(t,function(n){return MW(n.domain,Number.isFinite)});return r||dl(t)},YW=function(t){var r=y.useContext(JP);r==null&&Ou();var n=r[t];return n==null&&Ou(),n},J4e=function(){var t=y.useContext(VW);return t},e$e=function(){return y.useContext(qW)},eA=function(){return y.useContext(KW)},tA=function(){return y.useContext(HW)};function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function t$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QW(n.key),n)}}function n$e(e,t,r){return t&&r$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s$e(e,t,r){return t=Wb(t),a$e(e,XW()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function a$e(e,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i$e(e)}function i$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function o$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lC(e,t)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){rA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rA(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=l$e(e,"string");return Qf(t)=="symbol"?t:t+""}function l$e(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$e(e,t){return h$e(e)||f$e(e,t)||d$e(e,t)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$e(e,t){if(e){if(typeof e=="string")return F4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function h$e(e){if(Array.isArray(e))return e}function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cC.apply(this,arguments)}var m$e=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):Ye(t)?n=t(r):n=O.createElement("line",cC({},r,{className:"recharts-reference-line-line"})),n},p$e=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ai(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(Ai(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,j=_.map(function(N){return t.apply(N,{position:o})});return Ai(u,"discard")&&FMe(j,function(N){return!t.isInRange(N)})?null:j}return null};function g$e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=X4e(),d=GW(a),f=YW(i),h=J4e();if(!u||!h)return null;Ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=QP({x:d.scale,y:f.scale}),g=fn(t),p=fn(r),v=n&&n.length===2,b=p$e(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=c$e(b,2),w=x[0],_=w.x,j=w.y,N=x[1],S=N.x,k=N.y,C=Ai(e,"hidden")?"url(#".concat(u,")"):void 0,P=L4(L4({clipPath:C},We(e,!0)),{},{x1:_,y1:j,x2:S,y2:k});return O.createElement($t,{className:st("recharts-reference-line",l)},m$e(o,P),bn.renderCallByParent(e,k4e({x1:_,y1:j,x2:S,y2:k})))}var nA=function(e){function t(){return t$e(this,t),s$e(this,t,arguments)}return o$e(t,e),n$e(t,[{key:"render",value:function(){return O.createElement(g$e,this.props)}}])}(O.Component);rA(nA,"displayName","ReferenceLine");rA(nA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){Qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JW(n.key),n)}}function x$e(e,t,r){return t&&y$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,r){return t=Hb(t),w$e(e,ZW()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function w$e(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j$e(e)}function j$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function _$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}function dC(e,t){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dC(e,t)}function Qw(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=N$e(e,"string");return Zf(t)=="symbol"?t:t+""}function N$e(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S$e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=QP({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ai(t,"discard")&&!o.isInRange(l)?null:l},Zw=function(e){function t(){return v$e(this,t),b$e(this,t,arguments)}return _$e(t,e),x$e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=fn(a),d=fn(i);if(Ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=S$e(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,b=Ai(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=B4(B4({clipPath:b},We(this.props,!0)),{},{cx:h,cy:m});return O.createElement($t,{className:st("recharts-reference-dot",v)},t.renderDot(p,x),bn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(O.Component);Qw(Zw,"displayName","ReferenceDot");Qw(Zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Qw(Zw,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Ye(e)?r=e(t):r=O.createElement(yv,uC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(r),!0).forEach(function(n){Jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function E$e(e,t,r){return t&&k$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P$e(e,t,r){return t=Kb(t),A$e(e,eH()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function A$e(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(e)}function O$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function T$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hC(e,t)}function hC(e,t){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hC(e,t)}function Jw(e,t,r){return t=tH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=D$e(e,"string");return Jf(t)=="symbol"?t:t+""}function D$e(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R$e=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=QP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ai(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:BW(m,g)},ej=function(e){function t(){return C$e(this,t),P$e(this,t,arguments)}return T$e(t,e),E$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ga(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fn(a),h=fn(i),m=fn(o),g=fn(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=R$e(f,h,m,g,this.props);if(!v&&!p)return null;var b=Ai(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement($t,{className:st("recharts-reference-area",c)},t.renderRect(p,V4(V4({clipPath:b},We(this.props,!0)),v)),bn.renderCallByParent(this.props,v))}}])}(O.Component);Jw(ej,"displayName","ReferenceArea");Jw(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Jw(ej,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Ye(e)?r=e(t):r=O.createElement(XP,fC({},t,{className:"recharts-reference-area-rect"})),r});function rH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function M$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return P4e(n,r)}function $$e(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Gb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function I$e(e,t){return rH(e,t+1)}function L$e(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:rH(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,w=c===0||Gb(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){F$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F$e(e,t,r){return t=U$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U$e(e){var t=B$e(e,"string");return Eg(t)=="symbol"?t:t+""}function B$e(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$e(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=In(In({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=In(In({},m),{},{tickCoord:m.coordinate});var b=Gb(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=In(In({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function V$e(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=In(In({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Gb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=In(In({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(x){var w=o[x],_,j=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var N=e*(w.coordinate-e*j()/2-c);o[x]=w=In(In({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[x]=w=In(In({},w),{},{tickCoord:w.coordinate});var S=Gb(e,w.tickCoord,j,c,u);S&&(c=w.tickCoord+e*(j()/2+a),o[x]=In(In({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function sA(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(_e(c)||Ya.isSsr)return I$e(a,typeof c=="number"&&_e(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?sp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=Ye(u)?u(w.value,_):w.value;return m==="width"?M$e(sp(j,{fontSize:t,letterSpacing:r}),g,f):sp(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Jn(a[1].coordinate-a[0].coordinate):1,b=$$e(i,v,m);return c==="equidistantPreserveStart"?L$e(v,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=V$e(v,b,p,a,o,c==="preserveStartEnd"):h=z$e(v,b,p,a,o),h.filter(function(x){return x.isShow}))}var q$e=["viewBox"],W$e=["viewBox"],H$e=["ticks"];function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){aA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_(e,t){if(e==null)return{};var r=K$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function Y$e(e,t,r){return t&&H4(e.prototype,t),r&&H4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X$e(e,t,r){return t=Yb(t),Q$e(e,nH()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function Q$e(e,t){if(t&&(eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$e(e)}function Z$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function J$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mC(e,t)}function aA(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=eIe(e,"string");return eh(t)=="symbol"?t:t+""}function eIe(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=function(e){function t(r){var n;return G$e(this,t),n=X$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return J$e(t,e),Y$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=G_(n,q$e),l=this.props,c=l.viewBox,u=G_(l,W$e);return!Xd(i,c)||!Xd(o,u)||!Xd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,b,x,w=f?-1:1,_=n.tickSize||d,j=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*_,x=p-w*h,b=j;break;case"left":p=v=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,x=j;break;case"right":p=v=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,x=j;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*_,x=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=rn(rn(rn({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=rn(rn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=rn(rn({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return O.createElement("line",Rd({},f,{className:st("recharts-cartesian-axis-line",Ys(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=sA(rn(rn({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=We(this.props,!1),b=We(d,!1),x=rn(rn({},v),{},{fill:"none"},We(c,!1)),w=m.map(function(_,j){var N=o.getTickLineCoord(_),S=N.line,k=N.tick,C=rn(rn(rn(rn({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return O.createElement($t,Rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Eu(o.props,_,j)),c&&O.createElement("line",Rd({},x,S,{className:st("recharts-cartesian-axis-tick-line",Ys(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Ye(f)?f(_.value,j):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=G_(f,H$e),g=h;return Ye(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:O.createElement($t,{className:st("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=st(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?o=O.cloneElement(n,rn(rn({},a),{},{className:l})):Ye(n)?o=n(rn(rn({},a),{},{className:l})):o=O.createElement(Pu,Rd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);aA(zh,"displayName","CartesianAxis");aA(zh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tIe=["x1","y1","x2","y2","key"],rIe=["offset"];function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){nIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nIe(e,t,r){return t=sIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sIe(e){var t=aIe(e,"string");return Tu(t)=="symbol"?t:t+""}function aIe(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uc.apply(this,arguments)}function G4(e,t){if(e==null)return{};var r=iIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oIe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function aH(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(Ye(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=G4(t,tIe),u=We(c,!1);u.offset;var d=G4(u,rIe);r=O.createElement("line",Uc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function lIe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Fn(Fn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return aH(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cIe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Fn(Fn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return aH(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uIe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dIe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return O.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fIe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Yq(sA(Fn(Fn(Fn({},zh.defaultProps),n),{},{ticks:fo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},hIe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Yq(sA(Fn(Fn(Fn({},zh.defaultProps),n),{},{ticks:fo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},dd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wy(e){var t,r,n,a,i,o,l=eA(),c=tA(),u=e$e(),d=Fn(Fn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:dd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:dd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:dd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:dd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:dd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:dd.verticalFill,x:_e(e.x)?e.x:u.left,y:_e(e.y)?e.y:u.top,width:_e(e.width)?e.width:u.width,height:_e(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=Q4e(),w=Z4e();if(!_e(m)||m<=0||!_e(g)||g<=0||!_e(f)||f!==+f||!_e(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||fIe,j=d.horizontalCoordinatesGenerator||hIe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Ye(j)){var k=v&&v.length,C=j({yAxis:w?Fn(Fn({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Ga(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Ye(_)){var P=b&&b.length,A=_({xAxis:x?Fn(Fn({},x),{},{ticks:P?b:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Ga(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(A),"]")),Array.isArray(A)&&(S=A)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(oIe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(lIe,Uc({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:w})),O.createElement(cIe,Uc({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:w})),O.createElement(uIe,Uc({},d,{horizontalPoints:N})),O.createElement(dIe,Uc({},d,{verticalPoints:S})))}Wy.displayName="CartesianGrid";var mIe=["type","layout","connectNulls","ref"],pIe=["key"];function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function Y4(e,t){if(e==null)return{};var r=gIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function X4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fd(e){return bIe(e)||xIe(e)||yIe(e)||vIe()}function vIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yIe(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function xIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bIe(e){if(Array.isArray(e))return pC(e)}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oH(n.key),n)}}function jIe(e,t,r){return t&&Q4(e.prototype,t),r&&Q4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ie(e,t,r){return t=Xb(t),NIe(e,iH()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function NIe(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SIe(e)}function SIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function CIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function Ba(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=kIe(e,"string");return th(t)=="symbol"?t:t+""}function kIe(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru=function(e){function t(){var r;wIe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_Ie(this,t,[].concat(a)),Ba(r,"state",{isAnimationFinished:!0,totalLength:0}),Ba(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ba(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(fd(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(fd(t.repeat(c,d)),fd(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ba(r,"id",Th("recharts-line-")),Ba(r,"pathRef",function(o){r.mainCurve=o}),Ba(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ba(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return CIe(t,e),jIe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Xs(d,vv);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Hr(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement($t,m,f.map(function(g){return O.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=We(this.props,!1),h=We(c,!0),m=u.map(function(p,v){var b=Is(Is(Is({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement($t,up({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Y4(l,mIe),h=Is(Is(Is({},We(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return O.createElement(Eb,up({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return O.createElement(ai,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var N=x.length/l.length,S=l.map(function(E,R){var $=Math.floor(R*N);if(x[$]){var B=x[$],F=Pn(B.x,E.x),L=Pn(B.y,E.y);return Is(Is({},E),{},{x:F(j),y:L(j)})}if(g){var D=Pn(p*2,E.x),T=Pn(v/2,E.y);return Is(Is({},E),{},{x:D(j),y:T(j)})}return Is(Is({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(S,n,a)}var k=Pn(0,w),C=k(j),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});P=i.getStrokeDasharray(C,w,A)}else P=i.generateSimpleStrokeDasharray(w,C);return i.renderCurveStatically(l,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Ih(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=st("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=_||j,S=ot(v)?this.id:v,k=(n=We(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,A=k.strokeWidth,E=A===void 0?2:A,R=Eve(o)?o:{},$=R.clipDot,B=$===void 0?!0:$,F=P*2+E;return O.createElement($t,{className:w},_||j?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(S)},O.createElement("rect",{x:_?h:h-m/2,y:j?f:f-g/2,width:_?m:m*2,height:j?g:g*2})),!B&&O.createElement("clipPath",{id:"clipPath-dots-".concat(S)},O.createElement("rect",{x:h-F/2,y:f-F/2,width:m+F,height:g+F}))):null,!x&&this.renderCurve(N,S),this.renderErrorBar(N,S),(x||o)&&this.renderDots(N,B,S),(!p||b)&&Pi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(fd(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(fd(o),fd(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(O.isValidElement(n))i=O.cloneElement(n,a);else if(Ye(n))i=n(a);else{var o=a.key,l=Y4(a,pIe),c=st("recharts-line-dot",typeof n!="boolean"?n.className:"");i=O.createElement(yv,up({key:o},l,{className:c}))}return i}}])}(y.PureComponent);Ba(ru,"displayName","Line");Ba(ru,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ya.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(ru,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=Hr(h,o);return d==="horizontal"?{x:yM({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:ot(g)?null:n.scale(g),value:g,payload:h}:{x:ot(g)?null:r.scale(g),y:yM({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Is({points:f,layout:d},u)});function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function EIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uH(n.key),n)}}function AIe(e,t,r){return t&&PIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OIe(e,t,r){return t=Qb(t),TIe(e,lH()?Reflect.construct(t,r||[],Qb(e).constructor):t.apply(e,r))}function TIe(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DIe(e)}function DIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(e)}function RIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function cH(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=MIe(e,"string");return rh(t)=="symbol"?t:t+""}function MIe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}function $Ie(e){var t=e.xAxisId,r=eA(),n=tA(),a=GW(t);return a==null?null:y.createElement(zh,yC({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return fo(o,!0)}}))}var nu=function(e){function t(){return EIe(this,t),OIe(this,t,arguments)}return RIe(t,e),AIe(t,[{key:"render",value:function(){return y.createElement($Ie,this.props)}}])}(y.Component);cH(nu,"displayName","XAxis");cH(nu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function IIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function FIe(e,t,r){return t&&LIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UIe(e,t,r){return t=Zb(t),BIe(e,dH()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function BIe(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zIe(e)}function zIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function VIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function fH(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=qIe(e,"string");return nh(t)=="symbol"?t:t+""}function qIe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}var WIe=function(t){var r=t.yAxisId,n=eA(),a=tA(),i=YW(r);return i==null?null:y.createElement(zh,bC({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return fo(l,!0)}}))},su=function(e){function t(){return IIe(this,t),UIe(this,t,arguments)}return VIe(t,e),FIe(t,[{key:"render",value:function(){return y.createElement(WIe,this.props)}}])}(y.Component);fH(su,"displayName","YAxis");fH(su,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z4(e){return YIe(e)||GIe(e)||KIe(e)||HIe()}function HIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KIe(e,t){if(e){if(typeof e=="string")return wC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(e,t)}}function GIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YIe(e){if(Array.isArray(e))return wC(e)}function wC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jC=function(t,r,n,a,i){var o=Xs(t,nA),l=Xs(t,Zw),c=[].concat(Z4(o),Z4(l)),u=Xs(t,ej),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Ai(v.props,"extendDomain")&&_e(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Ai(v.props,"extendDomain")&&_e(v.props[m])&&_e(v.props[g])){var b=v.props[m],x=v.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return _e(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},mH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,j;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(mH);var XIe=mH.exports;const QIe=Xt(XIe);var Y_=new QIe,X_="recharts.syncMouseEvents";function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function ZIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function eLe(e,t,r){return t&&JIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q_(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=tLe(e,"string");return Pg(t)=="symbol"?t:t+""}function tLe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rLe=function(){function e(){ZIe(this,e),Q_(this,"activeIndex",0),Q_(this,"coordinateList",[]),Q_(this,"layout","horizontal")}return eLe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function nLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&_e(n)&&_e(a))return!0}return!1}function sLe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Yt(t,r,n,a),l=Yt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function aLe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Yt(l,c,u,f),m=Yt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return gH(t);return[{x:n,y:a},{x:i,y:o}]}function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){iLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iLe(e,t,r){return t=oLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oLe(e){var t=lLe(e,"string");return Ag(t)=="symbol"?t:t+""}function lLe(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cLe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Eb;if(h==="ScatterChart")g=o,p=rDe;else if(h==="BarChart")g=sLe(f,o,c,d),p=XP;else if(f==="radial"){var v=gH(o),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,j=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=lW}else g={points:aLe(f,o,c)},p=Eb;var N=xy(xy(xy(xy({stroke:"#ccc",pointerEvents:"none"},c),g),We(m,!1)),{},{payload:l,payloadIndex:u,className:st("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(p,N)}var uLe=["item"],dLe=["children","className","width","height","style","compact","title","desc"];function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function e$(e,t){return mLe(e)||hLe(e,t)||yH(e,t)||fLe()}function fLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mLe(e){if(Array.isArray(e))return e}function t$(e,t){if(e==null)return{};var r=pLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function yLe(e,t,r){return t&&vLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xLe(e,t,r){return t=Jb(t),bLe(e,vH()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function bLe(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wLe(e)}function wLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function jLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function ah(e){return SLe(e)||NLe(e)||yH(e)||_Le()}function _Le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function NLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SLe(e){if(Array.isArray(e))return NC(e)}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(n){Qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=CLe(e,"string");return sh(t)=="symbol"?t:t+""}function CLe(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kLe={xAxis:["bottom","top"],yAxis:["left","right"]},ELe={width:"100%",height:"100%"},bH={x:0,y:0};function by(e){return e}var PLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ALe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ce(ce(ce({},a),Yt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ce(ce(ce({},a),Yt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return bH},tj=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ah(l),ah(u)):l},[]);return o.length>0?o:t&&t.length&&_e(a)&&_e(i)?t.slice(a,i+1):[]};function wH(e){return e==="number"?[0,"auto"]:void 0}var SC=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=tj(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Qx(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(ah(c),[eW(u,h)]):c},[])},n$=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=PLe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=PAe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=SC(t,r,d,f),m=ALe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},OLe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Gq(d,i);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,S=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var P=tj(t.data,{graphicalItems:a.filter(function(K){var oe,W=o in K.props?K.props[o]:(oe=K.type.defaultProps)===null||oe===void 0?void 0:oe[o];return W===C}),dataStartIndex:c,dataEndIndex:u}),A=P.length,E,R,$;nLe(b.domain,_,x)&&(E=LS(b.domain,null,_),m&&(x==="number"||N!=="auto")&&($=ip(P,w,"category")));var B=wH(x);if(!E||E.length===0){var F,L=(F=b.domain)!==null&&F!==void 0?F:B;if(w){if(E=ip(P,w,x),x==="category"&&m){var D=yve(E);j&&D?(R=E,E=Ub(0,A)):j||(E=jM(L,E,p).reduce(function(K,oe){return K.indexOf(oe)>=0?K:[].concat(ah(K),[oe])},[]))}else if(x==="category")j?E=E.filter(function(K){return K!==""&&!ot(K)}):E=jM(L,E,p).reduce(function(K,oe){return K.indexOf(oe)>=0||oe===""||ot(oe)?K:[].concat(ah(K),[oe])},[]);else if(x==="number"){var T=RAe(P,a.filter(function(K){var oe,W,fe=o in K.props?K.props[o]:(oe=K.type.defaultProps)===null||oe===void 0?void 0:oe[o],Se="hide"in K.props?K.props.hide:(W=K.type.defaultProps)===null||W===void 0?void 0:W.hide;return fe===C&&(k||!Se)}),w,i,d);T&&(E=T)}m&&(x==="number"||N!=="auto")&&($=ip(P,w,"category"))}else m?E=Ub(0,A):l&&l[C]&&l[C].hasStack&&x==="number"?E=h==="expand"?[0,1]:Jq(l[C].stackGroups,c,u):E=Kq(P,a.filter(function(K){var oe=o in K.props?K.props[o]:K.type.defaultProps[o],W="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return oe===C&&(k||!W)}),x,d,!0);if(x==="number")E=jC(f,E,C,i,S),L&&(E=LS(L,E,_));else if(x==="category"&&L){var U=L,Q=E.every(function(K){return U.indexOf(K)>=0});Q&&(E=U)}}return ce(ce({},g),{},Qe({},C,ce(ce({},b),{},{axisType:i,domain:E,categoricalDomain:$,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},TLe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=tj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=Gq(d,i),p=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?ce(ce({},b.type.defaultProps),b.props):b.props,w=x[o],_=wH("number");if(!v[w]){p++;var j;return g?j=Ub(0,m):l&&l[w]&&l[w].hasStack?(j=Jq(l[w].stackGroups,c,u),j=jC(f,j,w,i)):(j=LS(_,Kq(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!P}),"number",d),a.defaultProps.allowDataOverflow),j=jC(f,j,w,i)),ce(ce({},v),{},Qe({},w,ce(ce({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ys(kLe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},DLe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Xs(d,i),m={};return h&&h.length?m=OLe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=TLe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},RLe=function(t){var r=dl(t),n=fo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:_P(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Sb(r,n)}},s$=function(t){var r=t.children,n=t.defaultShowTooltip,a=Us(r,Yf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},MLe=function(t){return!t||!t.length?!1:t.some(function(r){var n=mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},a$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Le=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Us(f,Yf),g=Us(f,Jc),p=Object.keys(c).reduce(function(j,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?ce(ce({},j),{},Qe({},k,j[k]+S.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?ce(ce({},j),{},Qe({},k,Ys(j,"".concat(k))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=ce(ce({},v),p),x=b.bottom;m&&(b.bottom+=m.props.height||Yf.defaultProps.height),g&&r&&(b=TAe(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ce(ce({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},ILe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rj=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,j=x.offset,N=x.updateId,S=x.dataStartIndex,k=x.dataEndIndex,C=b.barSize,P=b.layout,A=b.barGap,E=b.barCategoryGap,R=b.maxBarSize,$=a$(P),B=$.numericAxisName,F=$.cateAxisName,L=MLe(w),D=[];return w.forEach(function(T,U){var Q=tj(b.data,{graphicalItems:[T],dataStartIndex:S,dataEndIndex:k}),K=T.type.defaultProps!==void 0?ce(ce({},T.type.defaultProps),T.props):T.props,oe=K.dataKey,W=K.maxBarSize,fe=K["".concat(B,"Id")],Se=K["".concat(F,"Id")],ue={},Oe=c.reduce(function(Y,ee){var be=x["".concat(ee.axisType,"Map")],Ne=K["".concat(ee.axisType,"Id")];be&&be[Ne]||ee.axisType==="zAxis"||Ou();var ve=be[Ne];return ce(ce({},Y),{},Qe(Qe({},ee.axisType,ve),"".concat(ee.axisType,"Ticks"),fo(ve)))},ue),se=Oe[F],ge=Oe["".concat(F,"Ticks")],je=_&&_[fe]&&_[fe].hasStack&&VAe(T,_[fe].stackGroups),J=mo(T.type).indexOf("Bar")>=0,at=Sb(se,ge),qe=[],Lt=L&&AAe({barSize:C,stackGroups:_,totalSize:ILe(Oe,F)});if(J){var vt,Ft,Vt=ot(W)?R:W,Rr=(vt=(Ft=Sb(se,ge,!0))!==null&&Ft!==void 0?Ft:Vt)!==null&&vt!==void 0?vt:0;qe=OAe({barGap:A,barCategoryGap:E,bandSize:Rr!==at?Rr:at,sizeList:Lt[Se],maxBarSize:Vt}),Rr!==at&&(qe=qe.map(function(Y){return ce(ce({},Y),{},{position:ce(ce({},Y.position),{},{offset:Y.position.offset-Rr/2})})}))}var z=T&&T.type&&T.type.getComposedData;z&&D.push({props:ce(ce({},z(ce(ce({},Oe),{},{displayedData:Q,props:b,dataKey:oe,item:T,bandSize:at,barPosition:qe,offset:j,stackedData:je,layout:P,dataStartIndex:S,dataEndIndex:k}))),{},Qe(Qe(Qe({key:T.key||"item-".concat(U)},B,Oe[B]),F,Oe[F]),"animationId",N)),childIndex:Ove(T,b.children),item:T})}),D},m=function(b,x){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,N=b.updateId;if(!pD({props:w}))return null;var S=w.children,k=w.layout,C=w.stackOffset,P=w.data,A=w.reverseStackOrder,E=a$(k),R=E.numericAxisName,$=E.cateAxisName,B=Xs(S,n),F=BAe(P,B,"".concat(R,"Id"),"".concat($,"Id"),C,A),L=c.reduce(function(K,oe){var W="".concat(oe.axisType,"Map");return ce(ce({},K),{},Qe({},W,DLe(w,ce(ce({},oe),{},{graphicalItems:B,stackGroups:oe.axisType===R&&F,dataStartIndex:_,dataEndIndex:j}))))},{}),D=$Le(ce(ce({},L),{},{props:w,graphicalItems:B}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(K){L[K]=d(w,L[K],D,K.replace("Map",""),r)});var T=L["".concat($,"Map")],U=RLe(T),Q=h(w,ce(ce({},L),{},{dataStartIndex:_,dataEndIndex:j,updateId:N,graphicalItems:B,stackGroups:F,offset:D}));return ce(ce({formattedGraphicalItems:Q,graphicalItems:B,offset:D,stackGroups:F},U),L)},g=function(v){function b(x){var w,_,j;return gLe(this,b),j=xLe(this,b,[x]),Qe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(j,"accessibilityManager",new rLe),Qe(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,k=S.dataStartIndex,C=S.dataEndIndex,P=S.updateId;j.setState(ce({legendBBox:N},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:P},ce(ce({},j.state),{},{legendBBox:N}))))}}),Qe(j,"handleReceiveSyncEvent",function(N,S,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Qe(j,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ce({dataStartIndex:S,dataEndIndex:k},m({props:j.props,dataStartIndex:S,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),Qe(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var k=ce(ce({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;Ye(C)&&C(k,N)}}),Qe(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),k=S?ce(ce({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;Ye(C)&&C(k,N)}),Qe(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Qe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Qe(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Qe(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var k=j.props.onMouseLeave;Ye(k)&&k(S,N)}),Qe(j,"handleOuterEvent",function(N){var S=Ave(N),k=Ys(j.props,"".concat(S));if(S&&Ye(k)){var C,P;/.*touch.*/i.test(S)?P=j.getMouseInfo(N.changedTouches[0]):P=j.getMouseInfo(N),k((C=P)!==null&&C!==void 0?C:{},N)}}),Qe(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var k=ce(ce({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;Ye(C)&&C(k,N)}}),Qe(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Ye(S)){var k=j.getMouseInfo(N);S(k,N)}}),Qe(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Ye(S)){var k=j.getMouseInfo(N);S(k,N)}}),Qe(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Qe(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Qe(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Qe(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(Ye(S)){var k=j.getMouseInfo(N);S(k,N)}}),Qe(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(Ye(S)){var k=j.getMouseInfo(N);S(k,N)}}),Qe(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Y_.emit(X_,j.props.syncId,N,j.eventEmitterSymbol)}),Qe(j,"applySyncEvent",function(N){var S=j.props,k=S.layout,C=S.syncMethod,P=j.state.updateId,A=N.dataStartIndex,E=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(ce({dataStartIndex:A,dataEndIndex:E},m({props:j.props,dataStartIndex:A,dataEndIndex:E,updateId:P},j.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,$=N.chartY,B=N.activeTooltipIndex,F=j.state,L=F.offset,D=F.tooltipTicks;if(!L)return;if(typeof C=="function")B=C(D,N);else if(C==="value"){B=-1;for(var T=0;T<D.length;T++)if(D[T].value===N.activeLabel){B=T;break}}var U=ce(ce({},L),{},{x:L.left,y:L.top}),Q=Math.min(R,U.x+U.width),K=Math.min($,U.y+U.height),oe=D[B]&&D[B].value,W=SC(j.state,j.props.data,B),fe=D[B]?{x:k==="horizontal"?D[B].coordinate:Q,y:k==="horizontal"?K:D[B].coordinate}:bH;j.setState(ce(ce({},N),{},{activeLabel:oe,activeCoordinate:fe,activePayload:W,activeTooltipIndex:B}))}else j.setState(N)}),Qe(j,"renderCursor",function(N){var S,k=j.state,C=k.isTooltipActive,P=k.activeCoordinate,A=k.activePayload,E=k.offset,R=k.activeTooltipIndex,$=k.tooltipAxisBandSize,B=j.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:C,L=j.props.layout,D=N.key||"_recharts-cursor";return O.createElement(cLe,{key:D,activeCoordinate:P,activePayload:A,activeTooltipIndex:R,chartName:r,element:N,isActive:F,layout:L,offset:E,tooltipAxisBandSize:$,tooltipEventType:B})}),Qe(j,"renderPolarAxis",function(N,S,k){var C=Ys(N,"type.axisType"),P=Ys(j.state,"".concat(C,"Map")),A=N.type.defaultProps,E=A!==void 0?ce(ce({},A),N.props):N.props,R=P&&P[E["".concat(C,"Id")]];return y.cloneElement(N,ce(ce({},R),{},{className:st(C,R.className),key:N.key||"".concat(S,"-").concat(k),ticks:fo(R,!0)}))}),Qe(j,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,P=S.polarRadius,A=j.state,E=A.radiusAxisMap,R=A.angleAxisMap,$=dl(E),B=dl(R),F=B.cx,L=B.cy,D=B.innerRadius,T=B.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(C)?C:fo(B,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(P)?P:fo($,!0).map(function(U){return U.coordinate}),cx:F,cy:L,innerRadius:D,outerRadius:T,key:N.key||"polar-grid",radialLines:k})}),Qe(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,k=S.children,C=S.width,P=S.height,A=j.props.margin||{},E=C-(A.left||0)-(A.right||0),R=Wq({children:k,formattedGraphicalItems:N,legendWidth:E,legendContent:u});if(!R)return null;var $=R.item,B=t$(R,uLe);return y.cloneElement($,ce(ce({},B),{},{chartWidth:C,chartHeight:P,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Qe(j,"renderTooltip",function(){var N,S=j.props,k=S.children,C=S.accessibilityLayer,P=Us(k,vs);if(!P)return null;var A=j.state,E=A.isTooltipActive,R=A.activeCoordinate,$=A.activePayload,B=A.activeLabel,F=A.offset,L=(N=P.props.active)!==null&&N!==void 0?N:E;return y.cloneElement(P,{viewBox:ce(ce({},F),{},{x:F.left,y:F.top}),active:L,label:B,payload:L?$:[],coordinate:R,accessibilityLayer:C})}),Qe(j,"renderBrush",function(N){var S=j.props,k=S.margin,C=S.data,P=j.state,A=P.offset,E=P.dataStartIndex,R=P.dataEndIndex,$=P.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:py(j.handleBrushChange,N.props.onChange),data:C,x:_e(N.props.x)?N.props.x:A.left,y:_e(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:_e(N.props.width)?N.props.width:A.width,startIndex:E,endIndex:R,updateId:"brush-".concat($)})}),Qe(j,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=j,P=C.clipPathId,A=j.state,E=A.xAxisMap,R=A.yAxisMap,$=A.offset,B=N.type.defaultProps||{},F=N.props,L=F.xAxisId,D=L===void 0?B.xAxisId:L,T=F.yAxisId,U=T===void 0?B.yAxisId:T;return y.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:E[D],yAxis:R[U],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),Qe(j,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,P=N.childIndex,A=N.isRange,E=[],R=S.props.key,$=S.item.type.defaultProps!==void 0?ce(ce({},S.item.type.defaultProps),S.item.props):S.item.props,B=$.activeDot,F=$.dataKey,L=ce(ce({index:P,dataKey:F,cx:k.x,cy:k.y,r:4,fill:YP(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},We(B,!1)),Zx(B));return E.push(b.renderActiveDot(B,L,"".concat(R,"-activePoint-").concat(P))),C?E.push(b.renderActiveDot(B,ce(ce({},L),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(P))):A&&E.push(null),E}),Qe(j,"renderGraphicChild",function(N,S,k){var C=j.filterFormatItem(N,S,k);if(!C)return null;var P=j.getTooltipEventType(),A=j.state,E=A.isTooltipActive,R=A.tooltipAxis,$=A.activeTooltipIndex,B=A.activeLabel,F=j.props.children,L=Us(F,vs),D=C.props,T=D.points,U=D.isRange,Q=D.baseLine,K=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,oe=K.activeDot,W=K.hide,fe=K.activeBar,Se=K.activeShape,ue=!!(!W&&E&&L&&(oe||fe||Se)),Oe={};P!=="axis"&&L&&L.props.trigger==="click"?Oe={onClick:py(j.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(Oe={onMouseLeave:py(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:py(j.handleItemMouseEnter,N.props.onMouseEnter)});var se=y.cloneElement(N,ce(ce({},C.props),Oe));function ge(ee){return typeof R.dataKey=="function"?R.dataKey(ee.payload):null}if(ue)if($>=0){var je,J;if(R.dataKey&&!R.allowDuplicatedCategory){var at=typeof R.dataKey=="function"?ge:"payload.".concat(R.dataKey.toString());je=Qx(T,at,B),J=U&&Q&&Qx(Q,at,B)}else je=T==null?void 0:T[$],J=U&&Q&&Q[$];if(Se||fe){var qe=N.props.activeIndex!==void 0?N.props.activeIndex:$;return[y.cloneElement(N,ce(ce(ce({},C.props),Oe),{},{activeIndex:qe})),null,null]}if(!ot(je))return[se].concat(ah(j.renderActivePoints({item:C,activePoint:je,basePoint:J,childIndex:$,isRange:U})))}else{var Lt,vt=(Lt=j.getItemByXY(j.state.activeCoordinate))!==null&&Lt!==void 0?Lt:{graphicalItem:se},Ft=vt.graphicalItem,Vt=Ft.item,Rr=Vt===void 0?N:Vt,z=Ft.childIndex,Y=ce(ce(ce({},C.props),Oe),{},{activeIndex:z});return[y.cloneElement(Rr,Y),null,null]}return U?[se,null,null]:[se,null]}),Qe(j,"renderCustomized",function(N,S,k){return y.cloneElement(N,ce(ce({key:"recharts-customized-".concat(k)},j.props),j.state))}),Qe(j,"renderMap",{CartesianGrid:{handler:by,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:by},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:by},YAxis:{handler:by},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Th("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=qV(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return jLe(b,v),yLe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,N=w.height,S=w.layout,k=Us(_,vs);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=SC(this.state,j,C,P),E=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+N)/2,$=S==="horizontal",B=$?{x:E,y:R}:{y:E,x:R},F=this.state.formattedGraphicalItems.find(function(D){var T=D.item;return T.type.name==="Scatter"});F&&(B=ce(ce({},B),F.props.points[C].tooltipPosition),A=F.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:B};this.setState(L),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){J1([Us(w.children,vs)],[Us(this.props.children,vs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Us(this.props.children,vs);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),N=nCe(j),S={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},k=j.width/_.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var P=this.state,A=P.xAxisMap,E=P.yAxisMap,R=this.getTooltipEventType(),$=n$(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&A&&E){var B=dl(A).scale,F=dl(E).scale,L=B&&B.invert?B.invert(S.chartX):null,D=F&&F.invert?F.invert(S.chartY):null;return ce(ce({},S),{},{xValue:L,yValue:D},$)}return $?ce(ce({},S),$):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=w/j,k=_/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,P=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:S,y:k}:null}var A=this.state,E=A.angleAxisMap,R=A.radiusAxisMap;if(E&&R){var $=dl(E);return SM({x:S,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=Us(w,vs),N={};j&&_==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Zx(this.props,this.handleOuterEvent);return ce(ce({},S),N)}},{key:"addListener",value:function(){Y_.on(X_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Y_.removeListener(X_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===w||C.props.key===w.key||_===mo(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,N=_.top,S=_.height,k=_.width;return O.createElement("defs",null,O.createElement("clipPath",{id:w},O.createElement("rect",{x:j,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=e$(j,2),S=N[0],k=N[1];return ce(ce({},_),{},Qe({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=e$(j,2),S=N[0],k=N[1];return ce(ce({},_),{},Qe({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,N=_.activeItem;if(j&&j.length)for(var S=0,k=j.length;S<k;S++){var C=j[S],P=C.props,A=C.item,E=A.type.defaultProps!==void 0?ce(ce({},A.type.defaultProps),A.props):A.props,R=mo(A.type);if(R==="Bar"){var $=(P.data||[]).find(function(D){return ITe(w,D)});if($)return{graphicalItem:C,payload:$}}else if(R==="RadialBar"){var B=(P.data||[]).find(function(D){return SM(w,D)});if(B)return{graphicalItem:C,payload:B}}else if(Gw(C,N)||Yw(C,N)||Ng(C,N)){var F=MRe({graphicalItem:C,activeTooltipItem:N,itemData:E.data}),L=E.activeIndex===void 0?F:E.activeIndex;return{graphicalItem:ce(ce({},C),{},{childIndex:L}),payload:Ng(C,N)?E.data[F]:C.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!pD(this))return null;var _=this.props,j=_.children,N=_.className,S=_.width,k=_.height,C=_.style,P=_.compact,A=_.title,E=_.desc,R=t$(_,dLe),$=We(R,!1);if(P)return O.createElement($4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(tS,Md({},$,{width:S,height:k,title:A,desc:E}),this.renderClipPath(),vD(j,this.renderMap)));if(this.props.accessibilityLayer){var B,F;$.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,$.role=(F=this.props.role)!==null&&F!==void 0?F:"application",$.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){w.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return O.createElement($4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Md({className:st("recharts-wrapper",N),style:ce({position:"relative",cursor:"default",width:S,height:k},C)},L,{ref:function(T){w.container=T}}),O.createElement(tS,Md({},$,{width:S,height:k,title:A,desc:E,style:ELe}),this.renderClipPath(),vD(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Qe(g,"displayName",r),Qe(g,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qe(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,j=v.width,N=v.height,S=v.layout,k=v.stackOffset,C=v.margin,P=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var E=s$(v);return ce(ce(ce({},E),{},{updateId:0},m(ce(ce({props:v},E),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||S!==b.prevLayout||k!==b.prevStackOffset||!Xd(C,b.prevMargin)){var R=s$(v),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=ce(ce({},n$(b,w,S)),{},{updateId:b.updateId+1}),F=ce(ce(ce({},R),$),B);return ce(ce(ce({},F),m(ce({props:v},F),b)),{},{prevDataKey:x,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!J1(_,b.prevChildren)){var L,D,T,U,Q=Us(_,Yf),K=Q&&(L=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&L!==void 0?L:P,oe=Q&&(T=(U=Q.props)===null||U===void 0?void 0:U.endIndex)!==null&&T!==void 0?T:A,W=K!==P||oe!==A,fe=!ot(w),Se=fe&&!W?b.updateId:b.updateId+1;return ce(ce({updateId:Se},m(ce(ce({props:v},b),{},{updateId:Se,dataStartIndex:K,dataEndIndex:oe}),b)),{},{prevChildren:_,dataStartIndex:K,dataEndIndex:oe})}return null}),Qe(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):Ye(v)?w=v(b):w=O.createElement(yv,b),O.createElement($t,{className:"recharts-active-dot",key:x},w)});var p=y.forwardRef(function(b,x){return O.createElement(g,Md({},b,{ref:x}))});return p.displayName=g.displayName,p},LLe=rj({chartName:"LineChart",GraphicalChild:ru,axisComponents:[{axisType:"xAxis",AxisComp:nu},{axisType:"yAxis",AxisComp:su}],formatAxisMap:UW}),i$=rj({chartName:"BarChart",GraphicalChild:Ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:nu},{axisType:"yAxis",AxisComp:su}],formatAxisMap:UW}),FLe=rj({chartName:"PieChart",GraphicalChild:Fo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Bh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:nW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ULe=rj({chartName:"RadarChart",GraphicalChild:xv,axisComponents:[{axisType:"angleAxis",AxisComp:Bh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:nW,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const BLe={draft:"hsl(var(--muted-foreground))",in_progress:"hsl(var(--info))",pending_approval:"hsl(var(--warning))",completed:"hsl(var(--success))"},o$=["hsl(var(--primary))","hsl(var(--info))","hsl(var(--success))","hsl(var(--warning))"],zLe={draft:"Draft",in_progress:"In Progress",pending_approval:"Pending Approval",completed:"Completed"},VLe={performance:"Performance",annual:"Annual",probation:"Probation"};function qLe(){var g;const{competencyScores:e,reviewStatusCounts:t,reviewTypeCounts:r,monthlyTrends:n,departmentPerformance:a,loading:i}=Ihe();if(i)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>s.jsx(It,{className:"h-28"},p))}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(p=>s.jsx(It,{className:"h-80"},p))})]});const o=t.reduce((p,v)=>p+v.count,0),l=((g=t.find(p=>p.status==="completed"))==null?void 0:g.count)||0,c=o>0?Math.round(l/o*100):0,u=e.length>0?(e.reduce((p,v)=>p+v.average_rating,0)/e.filter(p=>p.average_rating>0).length||0).toFixed(1):"0",d=e.reduce((p,v)=>p+v.total_ratings,0),f=e.filter(p=>p.average_rating>0).map(p=>({competency:p.competency_name.length>15?p.competency_name.substring(0,15)+"...":p.competency_name,fullName:p.competency_name,score:p.average_rating,fullMark:5})),h=t.map(p=>({name:zLe[p.status]||p.status,value:p.count,status:p.status})),m=r.map(p=>({name:VLe[p.review_type]||p.review_type,count:p.count}));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Total Reviews",value:o,description:"All time reviews",icon:Zs,variant:"default"}),s.jsx(Bt,{title:"Completion Rate",value:`${c}%`,description:`${l} of ${o} completed`,icon:bt,variant:"success"}),s.jsx(Bt,{title:"Avg Competency Score",value:u,description:"Out of 5.0",icon:Js,variant:"info"}),s.jsx(Bt,{title:"Total Ratings",value:d,description:"Competency assessments",icon:Er,variant:"default"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Review Status Distribution"}),s.jsx(Fe,{children:"Current status of all performance reviews"})]}),s.jsx(X,{children:h.length>0?s.jsx("div",{className:"h-64",children:s.jsx(ym,{width:"100%",height:"100%",children:s.jsxs(FLe,{children:[s.jsx(Fo,{data:h,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:p,percent:v})=>`${p} (${(v*100).toFixed(0)}%)`,children:h.map((p,v)=>s.jsx(Rw,{fill:BLe[p.status]||o$[v%o$.length]},`cell-${v}`))}),s.jsx(vs,{})]})})}):s.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No review data available"})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Monthly Review Trends"}),s.jsx(Fe,{children:"Review activity over the last 6 months"})]}),s.jsx(X,{children:s.jsx("div",{className:"h-64",children:s.jsx(ym,{width:"100%",height:"100%",children:s.jsxs(LLe,{data:n,children:[s.jsx(Wy,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(nu,{dataKey:"month",className:"text-xs fill-muted-foreground",tick:{fontSize:12}}),s.jsx(su,{className:"text-xs fill-muted-foreground",tick:{fontSize:12},allowDecimals:!1}),s.jsx(vs,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Jc,{}),s.jsx(ru,{type:"monotone",dataKey:"completed",stroke:"hsl(var(--success))",name:"Completed",strokeWidth:2,dot:{r:4}}),s.jsx(ru,{type:"monotone",dataKey:"in_progress",stroke:"hsl(var(--info))",name:"In Progress",strokeWidth:2,dot:{r:4}}),s.jsx(ru,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",name:"Pending/Draft",strokeWidth:2,dot:{r:4}})]})})})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Team Competency Scores"}),s.jsx(Fe,{children:"Average ratings across all competencies"})]}),s.jsx(X,{children:f.length>0?s.jsx("div",{className:"h-72",children:s.jsx(ym,{width:"100%",height:"100%",children:s.jsxs(ULe,{cx:"50%",cy:"50%",outerRadius:"70%",data:f,children:[s.jsx(bW,{className:"stroke-border"}),s.jsx(Bh,{dataKey:"competency",className:"text-xs fill-muted-foreground",tick:{fontSize:10}}),s.jsx(Uh,{angle:30,domain:[0,5],className:"text-xs fill-muted-foreground",tick:{fontSize:10}}),s.jsx(xv,{name:"Score",dataKey:"score",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,strokeWidth:2}),s.jsx(vs,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(p,v,b)=>[`${p.toFixed(2)} / 5.0`,b.payload.fullName]})]})})}):s.jsx("div",{className:"h-72 flex items-center justify-center text-muted-foreground",children:"No competency ratings available yet"})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Reviews by Type"}),s.jsx(Fe,{children:"Distribution of review types"})]}),s.jsx(X,{children:m.length>0?s.jsx("div",{className:"h-72",children:s.jsx(ym,{width:"100%",height:"100%",children:s.jsxs(i$,{data:m,layout:"vertical",children:[s.jsx(Wy,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(nu,{type:"number",className:"text-xs fill-muted-foreground",allowDecimals:!1}),s.jsx(su,{type:"category",dataKey:"name",className:"text-xs fill-muted-foreground",width:100}),s.jsx(vs,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Ql,{dataKey:"count",fill:"hsl(var(--primary))",radius:[0,4,4,0],name:"Reviews"})]})})}):s.jsx("div",{className:"h-72 flex items-center justify-center text-muted-foreground",children:"No review data available"})})]})]}),a.length>0&&s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Department Performance"}),s.jsx(Fe,{children:"Average ratings by department"})]}),s.jsx(X,{children:s.jsx("div",{className:"h-64",children:s.jsx(ym,{width:"100%",height:"100%",children:s.jsxs(i$,{data:a,children:[s.jsx(Wy,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(nu,{dataKey:"department",className:"text-xs fill-muted-foreground",tick:{fontSize:11}}),s.jsx(su,{domain:[0,5],className:"text-xs fill-muted-foreground"}),s.jsx(vs,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:p=>[`${p.toFixed(2)} / 5.0`,"Avg Rating"]}),s.jsx(Ql,{dataKey:"average_rating",fill:"hsl(var(--info))",radius:[4,4,0,0],name:"Average Rating"})]})})})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Competency Breakdown"}),s.jsx(Fe,{children:"Detailed scores for each competency"})]}),s.jsx(X,{children:e.length>0?s.jsx("div",{className:"space-y-3",children:e.map(p=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:p.competency_name}),p.category&&s.jsx("p",{className:"text-xs text-muted-foreground",children:p.category})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-32 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${p.average_rating/5*100}%`}})}),s.jsx("span",{className:"text-sm font-medium w-12 text-right",children:p.average_rating>0?p.average_rating.toFixed(1):""}),s.jsxs("span",{className:"text-xs text-muted-foreground w-16",children:["(",p.total_ratings," ratings)"]})]})]},p.competency_id))}):s.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No competency data available yet. Start creating performance reviews with competency ratings."})})]})]})}function WLe(){const[e,t]=y.useState("analytics"),[r,n]=y.useState(""),{supervisions:a,loading:i}=QE(),{reviews:o,loading:l}=uw();ZE();const c=a.filter(h=>h.is_active).length,u=o.filter(h=>h.status==="in_progress"||h.status==="pending_approval").length,d=o.filter(h=>h.status==="completed").length,f=o.filter(h=>h.overall_rating).length>0?(o.filter(h=>h.overall_rating).reduce((h,m)=>h+(m.overall_rating||0),0)/o.filter(h=>h.overall_rating).length).toFixed(1):"N/A";return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Performance Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage supervisions, performance reviews, and competency assessments"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Active Supervisions",value:c,description:"Current assignments",icon:Er,variant:"default"}),s.jsx(Bt,{title:"Pending Reviews",value:u,description:"Awaiting completion",icon:du,variant:"info"}),s.jsx(Bt,{title:"Completed Reviews",value:d,description:"This year",icon:Zs,variant:"success"}),s.jsx(Bt,{title:"Average Rating",value:f,description:"Out of 5.0",icon:Hs,variant:"default"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search supervisions, reviews, or competencies...",value:r,onChange:h=>n(h.target.value),className:"pl-10"})]})}),s.jsxs(jn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(mn,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[s.jsxs(Be,{value:"analytics",className:"flex items-center gap-2",children:[s.jsx(Pk,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),s.jsxs(Be,{value:"supervisions",className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Supervisions"})]}),s.jsxs(Be,{value:"reviews",className:"flex items-center gap-2",children:[s.jsx(du,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Reviews"})]}),s.jsxs(Be,{value:"competencies",className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Competencies"})]})]}),s.jsx(et,{value:"analytics",children:s.jsx(qLe,{})}),s.jsx(et,{value:"supervisions",children:s.jsx(jhe,{searchQuery:r})}),s.jsx(et,{value:"reviews",children:s.jsx(Dhe,{searchQuery:r})}),s.jsx(et,{value:"competencies",children:s.jsx($he,{searchQuery:r})})]})]})}function HLe(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[a,i]=y.useState([]),[o,l]=y.useState(!0),c=async()=>{const{data:_,error:j}=await M.from("departments").select("*").order("name");if(j){re({title:"Error",description:"Failed to load departments",variant:"destructive"});return}t(_||[])},u=async()=>{const{data:_,error:j}=await M.from("positions").select("*").order("name");if(j){re({title:"Error",description:"Failed to load positions",variant:"destructive"});return}n(_||[])},d=async()=>{const{data:_,error:j}=await M.from("award_classifications").select("*").order("name");if(j){re({title:"Error",description:"Failed to load award classifications",variant:"destructive"});return}i(_||[])};return y.useEffect(()=>{(async()=>{l(!0),await Promise.all([c(),u(),d()]),l(!1)})()},[]),{departments:e,positions:r,awardClassifications:a,loading:o,addDepartment:async(_,j)=>{const{data:N,error:S}=await M.from("departments").insert({name:_,description:j||null}).select().single();return S?(S.code==="23505"?re({title:"Error",description:"A department with this name already exists",variant:"destructive"}):re({title:"Error",description:"Failed to add department",variant:"destructive"}),null):(t(k=>[...k,N].sort((C,P)=>C.name.localeCompare(P.name))),re({title:"Success",description:"Department added successfully"}),N)},updateDepartment:async(_,j,N)=>{const{data:S,error:k}=await M.from("departments").update({name:j,description:N||null}).eq("id",_).select().single();return k?(re({title:"Error",description:"Failed to update department",variant:"destructive"}),null):(t(C=>C.map(P=>P.id===_?S:P).sort((P,A)=>P.name.localeCompare(A.name))),re({title:"Success",description:"Department updated successfully"}),S)},deleteDepartment:async _=>{const{error:j}=await M.from("departments").delete().eq("id",_);return j?(re({title:"Error",description:"Failed to delete department",variant:"destructive"}),!1):(t(N=>N.filter(S=>S.id!==_)),re({title:"Success",description:"Department deleted successfully"}),!0)},addPosition:async(_,j,N)=>{const{data:S,error:k}=await M.from("positions").insert({name:_,department_id:j||null,description:N||null}).select().single();return k?(k.code==="23505"?re({title:"Error",description:"A position with this name already exists",variant:"destructive"}):re({title:"Error",description:"Failed to add position",variant:"destructive"}),null):(n(C=>[...C,S].sort((P,A)=>P.name.localeCompare(A.name))),re({title:"Success",description:"Position added successfully"}),S)},updatePosition:async(_,j,N,S)=>{const{data:k,error:C}=await M.from("positions").update({name:j,department_id:N||null,description:S||null}).eq("id",_).select().single();return C?(re({title:"Error",description:"Failed to update position",variant:"destructive"}),null):(n(P=>P.map(A=>A.id===_?k:A).sort((A,E)=>A.name.localeCompare(E.name))),re({title:"Success",description:"Position updated successfully"}),k)},deletePosition:async _=>{const{error:j}=await M.from("positions").delete().eq("id",_);return j?(re({title:"Error",description:"Failed to delete position",variant:"destructive"}),!1):(n(N=>N.filter(S=>S.id!==_)),re({title:"Success",description:"Position deleted successfully"}),!0)},addAwardClassification:async _=>{const{data:j,error:N}=await M.from("award_classifications").insert({name:_.name,description:_.description||null,base_hourly_rate:_.base_hourly_rate,saturday_multiplier:_.saturday_multiplier??1.5,sunday_multiplier:_.sunday_multiplier??2,public_holiday_multiplier:_.public_holiday_multiplier??2.5,evening_multiplier:_.evening_multiplier??1.15,night_multiplier:_.night_multiplier??1.25,overtime_multiplier:_.overtime_multiplier??1.5}).select().single();return N?(N.code==="23505"?re({title:"Error",description:"An award classification with this name already exists",variant:"destructive"}):re({title:"Error",description:"Failed to add award classification",variant:"destructive"}),null):(i(S=>[...S,j].sort((k,C)=>k.name.localeCompare(C.name))),re({title:"Success",description:"Award classification added successfully"}),j)},updateAwardClassification:async(_,j)=>{const{data:N,error:S}=await M.from("award_classifications").update({name:j.name,description:j.description||null,base_hourly_rate:j.base_hourly_rate,saturday_multiplier:j.saturday_multiplier,sunday_multiplier:j.sunday_multiplier,public_holiday_multiplier:j.public_holiday_multiplier,evening_multiplier:j.evening_multiplier,night_multiplier:j.night_multiplier,overtime_multiplier:j.overtime_multiplier}).eq("id",_).select().single();return S?(re({title:"Error",description:"Failed to update award classification",variant:"destructive"}),null):(i(k=>k.map(C=>C.id===_?N:C).sort((C,P)=>C.name.localeCompare(P.name))),re({title:"Success",description:"Award classification updated successfully"}),N)},deleteAwardClassification:async _=>{const{error:j}=await M.from("award_classifications").delete().eq("id",_);return j?(re({title:"Error",description:"Failed to delete award classification",variant:"destructive"}),!1):(i(N=>N.filter(S=>S.id!==_)),re({title:"Success",description:"Award classification deleted successfully"}),!0)},refetch:async()=>{await Promise.all([c(),u(),d()])}}}function KLe(){const{settings:e,loading:t,updateVisibility:r}=d5(),n=async a=>{await r(a.module_key,!a.is_visible)};return t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-lg",children:"Navigation Visibility"}),s.jsx(Fe,{children:"Control which modules appear in the sidebar navigation. Hidden modules are still accessible via direct URL."})]}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(EF,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No sidebar settings configured"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Module"}),s.jsx(ie,{children:"Order"}),s.jsx(ie,{className:"text-right",children:"Visible"})]})}),s.jsx(gr,{children:e.map(a=>s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:a.module_label}),s.jsx(te,{className:"text-muted-foreground",children:a.display_order}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(V,{htmlFor:`toggle-${a.module_key}`,className:"sr-only",children:["Toggle ",a.module_label," visibility"]}),s.jsx(An,{id:`toggle-${a.module_key}`,checked:a.is_visible,onCheckedChange:()=>n(a)})]})})]},a.id))})]})})]})}const GLe=As({email:Je().min(1,"Email is required").email("Please enter a valid email address").max(255,"Email must be less than 255 characters").trim(),password:Je().min(6,"Password must be at least 6 characters").max(72,"Password must be less than 72 characters"),display_name:Je().min(2,"Display name must be at least 2 characters").max(50,"Display name must be less than 50 characters").trim(),role:zu(["admin","manager","employee"],{errorMap:()=>({message:"Please select a valid role"})})}),l$={email:"",password:"",display_name:"",role:"employee"};function YLe({open:e,onOpenChange:t,onUserCreated:r}){const[n,a]=y.useState(l$),[i,o]=y.useState({}),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=()=>{const p=GLe.safeParse(n);if(!p.success){const v={};return p.error.errors.forEach(b=>{const x=b.path[0];v[x]||(v[x]=b.message)}),o(v),!1}return o({}),!0},h=async()=>{if(!f()){re({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}c(!0);try{const{data:p,error:v}=await M.functions.invoke("create-user",{body:{email:n.email.trim(),password:n.password,display_name:n.display_name.trim(),role:n.role}});if(v)throw new Error(v.message||"Failed to create user");if(p!=null&&p.error)throw new Error(p.error);re({title:"User Created",description:`${n.display_name} has been added with ${n.role} role.`}),a(l$),o({}),t(!1),r==null||r()}catch(p){console.error("Failed to create user:",p),re({title:"Error",description:p instanceof Error?p.message:"Failed to create user",variant:"destructive"})}finally{c(!1)}},m=(p,v)=>{a({...n,[p]:v}),i[p]&&o({...i,[p]:void 0})},g=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let v="";for(let b=0;b<16;b++)v+=p.charAt(Math.floor(Math.random()*p.length));m("password",v),d(!0)};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-md",children:[s.jsxs(Ot,{children:[s.jsxs(Tt,{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"h-5 w-5 text-primary"}),"Create User Account"]}),s.jsx(Dt,{children:"Create a new user account with specific role permissions"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"display_name",children:"Display Name *"}),s.jsx(Z,{id:"display_name",value:n.display_name,onChange:p=>m("display_name",p.target.value),placeholder:"John Smith",className:i.display_name?"border-destructive":"",maxLength:50,disabled:l}),i.display_name&&s.jsx("p",{className:"text-xs text-destructive",children:i.display_name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"email",children:"Email Address *"}),s.jsx(Z,{id:"email",type:"email",value:n.email,onChange:p=>m("email",p.target.value),placeholder:"john@company.com",className:i.email?"border-destructive":"",maxLength:255,disabled:l}),i.email&&s.jsx("p",{className:"text-xs text-destructive",children:i.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(V,{htmlFor:"password",children:"Password *"}),s.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-primary hover:text-primary/80",onClick:g,disabled:l,children:"Generate Strong Password"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Z,{id:"password",type:u?"text":"password",value:n.password,onChange:p=>m("password",p.target.value),placeholder:"Minimum 6 characters",className:`pr-10 ${i.password?"border-destructive":""}`,maxLength:72,disabled:l}),s.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>d(!u),disabled:l,children:u?s.jsx(DG,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"})})]}),i.password&&s.jsx("p",{className:"text-xs text-destructive",children:i.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"role",children:"Role *"}),s.jsxs($e,{value:n.role,onValueChange:p=>m("role",p),disabled:l,children:[s.jsx(De,{className:i.role?"border-destructive":"",children:s.jsx(Ie,{placeholder:"Select a role"})}),s.jsxs(Re,{className:"bg-popover",children:[s.jsx(H,{value:"employee",children:"Employee"}),s.jsx(H,{value:"manager",children:"Manager"}),s.jsx(H,{value:"admin",children:"Administrator"})]})]}),i.role&&s.jsx("p",{className:"text-xs text-destructive",children:i.role}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.role==="admin"&&"Full access to all features and user management",n.role==="manager"&&"Can manage employees, contracts, and view reports",n.role==="employee"&&"Can view own contracts and profile information"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(I,{variant:"outline",onClick:()=>t(!1),className:"flex-1",disabled:l,children:"Cancel"}),s.jsx(I,{className:"flex-1 gradient-primary",onClick:h,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})]})})}function jH(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),a=y.useCallback(async()=>{n(!0);const{data:c,error:u}=await M.from("organisations").select("*").order("created_at",{ascending:!0});u?console.error("Error fetching organisations:",u):t(c||[]),n(!1)},[]);return y.useEffect(()=>{a()},[a]),{organisations:e,loading:r,addOrganisation:async c=>{const{data:u,error:d}=await M.from("organisations").insert([c]).select().single();return d?(console.error("Error adding organisation:",d),{success:!1,error:d}):(t(f=>[...f,u]),{success:!0,data:u})},updateOrganisation:async(c,u)=>{const{data:d,error:f}=await M.from("organisations").update(u).eq("id",c).select().single();return f?(console.error("Error updating organisation:",f),{success:!1,error:f}):(t(h=>h.map(m=>m.id===c?d:m)),{success:!0,data:d})},deleteOrganisation:async c=>{const{error:u}=await M.from("organisations").delete().eq("id",c);return u?(console.error("Error deleting organisation:",u),{success:!1,error:u}):(t(d=>d.filter(f=>f.id!==c)),{success:!0})}}}const c$={admin:{label:"Admin",icon:mu,variant:"default"},manager:{label:"Manager",icon:dn,variant:"secondary"},employee:{label:"Employee",icon:ns,variant:"outline"}};function XLe(){const{departments:e,positions:t,awardClassifications:r,loading:n,addDepartment:a,updateDepartment:i,deleteDepartment:o,addPosition:l,updatePosition:c,deletePosition:u,addAwardClassification:d,updateAwardClassification:f,deleteAwardClassification:h}=HLe(),{isAdmin:m,loading:g}=tw(),{users:p,loading:v,updateUserRole:b,deleteUserRole:x,fetchUsersWithRoles:w}=Kue(),{organisations:_,loading:j,addOrganisation:N,updateOrganisation:S,deleteOrganisation:k}=jH(),[C,P]=y.useState(!1),[A,E]=y.useState(!1),[R,$]=y.useState(null),[B,F]=y.useState(null),[L,D]=y.useState(""),[T,U]=y.useState(""),[Q,K]=y.useState("Australia/Sydney"),[oe,W]=y.useState(!1),fe=ae=>{ae?($(ae),D(ae.legal_name),U(ae.trading_name||""),K(ae.timezone||"")):($(null),D(""),U(""),K("Australia/Sydney")),P(!0)},Se=async()=>{if(!L.trim())return;if(W(!0),!(R?await S(R.id,{legal_name:L.trim(),trading_name:T.trim()||null,timezone:Q.trim()||null}):await N({legal_name:L.trim(),trading_name:T.trim()||null,timezone:Q.trim()||null})).success){re({title:"Error",description:"Failed to save organisation",variant:"destructive"}),W(!1);return}W(!1),P(!1)},ue=async()=>{B&&(await k(B.id),E(!1),F(null))},[Oe,se]=y.useState(!1),[ge,je]=y.useState(!1),[J,at]=y.useState(null),[qe,Lt]=y.useState(null),[vt,Ft]=y.useState(""),[Vt,Rr]=y.useState(""),[z,Y]=y.useState(!1),[ee,be]=y.useState(!1),[Ne,ve]=y.useState(!1),[ke,ut]=y.useState(null),[kt,Nn]=y.useState(null),[qn,cs]=y.useState(""),[Uo,Ea]=y.useState(""),[us,Bo]=y.useState(""),[na,Gu]=y.useState(!1),[Yu,hc]=y.useState(!1),[bv,Wh]=y.useState(!1),[sa,fi]=y.useState(null),[Pa,it]=y.useState(null),[qt,ar]=y.useState("employee"),[ds,fs]=y.useState(!1),[aa,hi]=y.useState(!1),[Ts,Ds]=y.useState(!1),[WH,sj]=y.useState(!1),[Hh,oA]=y.useState(null),[Kh,lA]=y.useState(null),[wv,aj]=y.useState(""),[cA,ij]=y.useState(""),[jv,oj]=y.useState(""),[uA,lj]=y.useState("1.5"),[dA,cj]=y.useState("2.0"),[fA,uj]=y.useState("2.5"),[hA,dj]=y.useState("1.15"),[mA,fj]=y.useState("1.25"),[pA,hj]=y.useState("1.5"),[gA,vA]=y.useState(!1),[HH,yA]=y.useState(!1),[Gh,xA]=y.useState(""),[mj,KH]=y.useState("all"),Xu=p.filter(ae=>{var mc;const Rs=Gh===""||((mc=ae.display_name)==null?void 0:mc.toLowerCase().includes(Gh.toLowerCase()))||ae.email.toLowerCase().includes(Gh.toLowerCase()),ia=mj==="all"||ae.role===mj;return Rs&&ia}),bA=ae=>{ae?(at(ae),Ft(ae.name),Rr(ae.description||"")):(at(null),Ft(""),Rr("")),se(!0)},GH=async()=>{vt.trim()&&(Y(!0),J?await i(J.id,vt.trim(),Vt.trim()):await a(vt.trim(),Vt.trim()),Y(!1),se(!1))},YH=async()=>{qe&&(await o(qe.id),je(!1),Lt(null))},wA=ae=>{ae?(ut(ae),cs(ae.name),Ea(ae.department_id||""),Bo(ae.description||"")):(ut(null),cs(""),Ea(""),Bo("")),be(!0)},XH=async()=>{qn.trim()&&(Gu(!0),ke?await c(ke.id,qn.trim(),Uo||void 0,us.trim()):await l(qn.trim(),Uo||void 0,us.trim()),Gu(!1),be(!1))},QH=async()=>{kt&&(await u(kt.id),ve(!1),Nn(null))},ZH=ae=>{fi(ae),ar(ae.role),hc(!0)},JH=async()=>{if(!sa)return;fs(!0),(await b(sa.user_id,qt)).success?re({title:"Role Updated",description:`Successfully updated role to ${c$[qt].label}`}):re({title:"Error",description:"Failed to update user role. You may not have admin permissions.",variant:"destructive"}),fs(!1),hc(!1)},e9=async()=>{if(!Pa)return;hi(!0),(await x(Pa.user_id)).success?re({title:"User Deleted",description:`Successfully removed ${Pa.display_name||"user"} from the system`}):re({title:"Error",description:"Failed to delete user. You may not have admin permissions.",variant:"destructive"}),hi(!1),Wh(!1),it(null)},jA=ae=>{ae?(oA(ae),aj(ae.name),ij(ae.description||""),oj(ae.base_hourly_rate.toString()),lj(ae.saturday_multiplier.toString()),cj(ae.sunday_multiplier.toString()),uj(ae.public_holiday_multiplier.toString()),dj(ae.evening_multiplier.toString()),fj(ae.night_multiplier.toString()),hj(ae.overtime_multiplier.toString())):(oA(null),aj(""),ij(""),oj(""),lj("1.5"),cj("2.0"),uj("2.5"),dj("1.15"),fj("1.25"),hj("1.5")),Ds(!0)},t9=async()=>{if(!wv.trim()||!jv)return;const ae={name:wv.trim(),description:cA.trim(),base_hourly_rate:parseFloat(jv),saturday_multiplier:parseFloat(uA),sunday_multiplier:parseFloat(dA),public_holiday_multiplier:parseFloat(fA),evening_multiplier:parseFloat(hA),night_multiplier:parseFloat(mA),overtime_multiplier:parseFloat(pA)};vA(!0),Hh?await f(Hh.id,ae):await d(ae),vA(!1),Ds(!1)},r9=async()=>{Kh&&(await h(Kh.id),sj(!1),lA(null))},_A=ae=>{if(!ae)return null;const Rs=e.find(ia=>ia.id===ae);return(Rs==null?void 0:Rs.name)||null},n9=ae=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(ae);return n||g?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your organization's departments, positions, award classifications, user roles and organisation settings"})]}),s.jsxs(jn,{defaultValue:"departments",className:"space-y-4",children:[s.jsxs(mn,{className:"flex-wrap",children:[s.jsxs(Be,{value:"departments",className:"flex items-center gap-2",children:[s.jsx(vx,{className:"h-4 w-4"}),"Departments"]}),s.jsxs(Be,{value:"positions",className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-4 w-4"}),"Positions"]}),s.jsxs(Be,{value:"awards",className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Award Classifications"]}),s.jsxs(Be,{value:"organisation",className:"flex items-center gap-2",children:[s.jsx(Xm,{className:"h-4 w-4"}),"Organisation"]}),m&&s.jsxs(Be,{value:"roles",className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-4 w-4"}),"User Roles"]}),m&&s.jsxs(Be,{value:"navigation",className:"flex items-center gap-2",children:[s.jsx(EF,{className:"h-4 w-4"}),"Navigation"]})]}),s.jsx(et,{value:"departments",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Departments"}),s.jsx(Fe,{children:"Manage the departments in your organization"})]}),s.jsxs(I,{onClick:()=>bA(),size:"sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Department"]})]}),s.jsx(X,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(vx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No departments yet"}),s.jsx("p",{className:"text-sm",children:"Add your first department to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Name"}),s.jsx(ie,{children:"Description"}),s.jsx(ie,{children:"Positions"}),s.jsx(ie,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(gr,{children:e.map(ae=>{const Rs=t.filter(ia=>ia.department_id===ae.id).length;return s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:ae.name}),s.jsx(te,{className:"text-muted-foreground",children:ae.description||""}),s.jsx(te,{children:s.jsxs(de,{variant:"secondary",children:[Rs," positions"]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>bA(ae),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{Lt(ae),je(!0)},children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id)})})]})})]})}),s.jsx(et,{value:"positions",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Positions"}),s.jsx(Fe,{children:"Manage the job positions in your organization"})]}),s.jsxs(I,{onClick:()=>wA(),size:"sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Position"]})]}),s.jsx(X,{children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Hl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No positions yet"}),s.jsx("p",{className:"text-sm",children:"Add your first position to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Name"}),s.jsx(ie,{children:"Department"}),s.jsx(ie,{children:"Description"}),s.jsx(ie,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(gr,{children:t.map(ae=>s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:ae.name}),s.jsx(te,{children:_A(ae.department_id)?s.jsx(de,{variant:"outline",children:_A(ae.department_id)}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(te,{className:"text-muted-foreground",children:ae.description||""}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>wA(ae),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{Nn(ae),ve(!0)},children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id))})]})})]})}),s.jsx(et,{value:"awards",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(zd,{className:"h-5 w-5"}),"Award Classifications"]}),s.jsx(Fe,{children:"Configure pay rates and penalty multipliers for different award levels"})]}),s.jsxs(I,{onClick:()=>jA(),size:"sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Classification"]})]}),s.jsx(X,{children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(zd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No award classifications yet"}),s.jsx("p",{className:"text-sm",children:"Add your first award classification to configure pay rates"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Name"}),s.jsx(ie,{children:"Base Rate"}),s.jsx(ie,{children:"Sat"}),s.jsx(ie,{children:"Sun"}),s.jsx(ie,{children:"PH"}),s.jsx(ie,{children:"Eve"}),s.jsx(ie,{children:"Night"}),s.jsx(ie,{children:"OT"}),s.jsx(ie,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(gr,{children:r.map(ae=>s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:s.jsxs("div",{children:[ae.name,ae.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.description})]})}),s.jsxs(te,{className:"font-mono",children:[n9(ae.base_hourly_rate),"/hr"]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.saturday_multiplier]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.sunday_multiplier]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.public_holiday_multiplier]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.evening_multiplier]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.night_multiplier]}),s.jsxs(te,{className:"font-mono text-muted-foreground",children:["",ae.overtime_multiplier]}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>jA(ae),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{lA(ae),sj(!0)},children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id))})]})})})]})}),s.jsx(et,{value:"organisation",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:"Organisation"}),s.jsx(Fe,{children:"Manage your organisation settings"})]}),s.jsxs(I,{onClick:()=>fe(),size:"sm",children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),_.length===0?"Add Organisation":"Edit Organisation"]})]}),s.jsx(X,{children:j?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Xe,{className:"h-6 w-6 animate-spin text-primary"})}):_.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Xm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No organisation yet"}),s.jsx("p",{className:"text-sm",children:"Add your organisation to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Legal Name"}),s.jsx(ie,{children:"Trading Name"}),s.jsx(ie,{children:"Timezone"}),s.jsx(ie,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(gr,{children:_.map(ae=>s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:ae.legal_name}),s.jsx(te,{className:"text-muted-foreground",children:ae.trading_name||""}),s.jsx(te,{className:"text-muted-foreground",children:ae.timezone||""}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>fe(ae),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{F(ae),E(!0)},children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id))})]})})]})}),m&&s.jsx(et,{value:"roles",children:s.jsxs(G,{children:[s.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(mu,{className:"h-5 w-5"}),"User Management"]}),s.jsx(Fe,{children:"Create user accounts and manage roles. Open signup is disabled for security."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{const ae=[["Name","Email","Role","Joined Date"].join(","),...Xu.map(mc=>[`"${(mc.display_name||"").replace(/"/g,'""')}"`,`"${mc.email.replace(/"/g,'""')}"`,mc.role,new Date(mc.created_at).toLocaleDateString()].join(","))].join(`
`),Rs=new Blob([ae],{type:"text/csv;charset=utf-8;"}),ia=document.createElement("a");ia.href=URL.createObjectURL(Rs),ia.download=`users_export_${new Date().toISOString().split("T")[0]}.csv`,ia.click(),URL.revokeObjectURL(ia.href),re({title:"Export Complete",description:`Exported ${Xu.length} users to CSV`})},disabled:Xu.length===0,children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),s.jsxs(I,{onClick:()=>yA(!0),size:"sm",children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]}),s.jsx(X,{children:v?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Xe,{className:"h-6 w-6 animate-spin text-primary"})}):p.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No users found"}),s.jsx("p",{className:"text-sm",children:"Users will appear here after they sign up"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by name or email...",value:Gh,onChange:ae=>xA(ae.target.value),className:"pl-9 pr-9"}),Gh&&s.jsx(I,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>xA(""),children:s.jsx(Un,{className:"h-4 w-4"})})]}),s.jsxs($e,{value:mj,onValueChange:ae=>KH(ae),children:[s.jsx(De,{className:"w-full sm:w-[180px]",children:s.jsx(Ie,{placeholder:"Filter by role"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Roles"}),s.jsx(H,{value:"admin",children:"Admin"}),s.jsx(H,{value:"manager",children:"Manager"}),s.jsx(H,{value:"employee",children:"Employee"})]})]})]}),Xu.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(hn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No users match your search"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Showing ",Xu.length," of ",p.length," ","users"]}),s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"User"}),s.jsx(ie,{children:"Role"}),s.jsx(ie,{children:"Joined"}),s.jsx(ie,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(gr,{children:Xu.map(ae=>{const Rs=c$[ae.role],ia=Rs.icon;return s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:ae.display_name||ae.email}),s.jsx(te,{children:s.jsxs(de,{variant:Rs.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(ia,{className:"h-3 w-3"}),Rs.label]})}),s.jsx(te,{className:"text-muted-foreground",children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>ZH(ae),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{it(ae),Wh(!0)},children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},ae.id)})})]})]})]})})]})}),m&&s.jsx(et,{value:"navigation",children:s.jsx(KLe,{})})]}),s.jsx(Mt,{open:C,onOpenChange:P,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:R?"Edit Organisation":"Add Organisation"}),s.jsx(Dt,{children:R?"Update the organisation details below":"Enter the details for the new organisation"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"org-legal-name",children:"Legal Name *"}),s.jsx(Z,{id:"org-legal-name",value:L,onChange:ae=>D(ae.target.value),placeholder:"e.g., TeamStride Pty Ltd"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"org-trading-name",children:"Trading Name"}),s.jsx(Z,{id:"org-trading-name",value:T,onChange:ae=>U(ae.target.value),placeholder:"(optional)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"org-timezone",children:"Timezone"}),s.jsx(Z,{id:"org-timezone",value:Q,onChange:ae=>K(ae.target.value),placeholder:"e.g., Australia/Sydney"})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),s.jsx(I,{onClick:Se,disabled:!L.trim()||oe,children:oe?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):R?"Update":"Add"})]})]})}),s.jsx(Pc,{open:A,onOpenChange:E,children:s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete Organisation"}),s.jsxs(ll,{children:['Are you sure you want to delete "',B==null?void 0:B.legal_name,'"? This action cannot be undone.']})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:ue,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Mt,{open:Oe,onOpenChange:se,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:J?"Edit Department":"Add Department"}),s.jsx(Dt,{children:J?"Update the department details below":"Enter the details for the new department"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"dept-name",children:"Name *"}),s.jsx(Z,{id:"dept-name",value:vt,onChange:ae=>Ft(ae.target.value),placeholder:"e.g., Human Resources"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"dept-description",children:"Description"}),s.jsx(_t,{id:"dept-description",value:Vt,onChange:ae=>Rr(ae.target.value),placeholder:"Brief description of the department...",rows:3})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),s.jsx(I,{onClick:GH,disabled:!vt.trim()||z,children:z?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):J?"Update":"Add"})]})]})}),s.jsx(Pc,{open:ge,onOpenChange:je,children:s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete Department"}),s.jsxs(ll,{children:['Are you sure you want to delete "',qe==null?void 0:qe.name,'"? This action cannot be undone. Positions linked to this department will have their department unset.']})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:YH,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Mt,{open:ee,onOpenChange:be,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:ke?"Edit Position":"Add Position"}),s.jsx(Dt,{children:ke?"Update the position details below":"Enter the details for the new position"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pos-name",children:"Name *"}),s.jsx(Z,{id:"pos-name",value:qn,onChange:ae=>cs(ae.target.value),placeholder:"e.g., Support Worker"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pos-department",children:"Department"}),s.jsxs($e,{value:Uo||"none",onValueChange:ae=>Ea(ae==="none"?"":ae),children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select a department (optional)"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"none",children:"No department"}),e.map(ae=>s.jsx(H,{value:ae.id,children:ae.name},ae.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"pos-description",children:"Description"}),s.jsx(_t,{id:"pos-description",value:us,onChange:ae=>Bo(ae.target.value),placeholder:"Brief description of the position...",rows:3})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>be(!1),children:"Cancel"}),s.jsx(I,{onClick:XH,disabled:!qn.trim()||na,children:na?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):ke?"Update":"Add"})]})]})}),s.jsx(Pc,{open:Ne,onOpenChange:ve,children:s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete Position"}),s.jsxs(ll,{children:['Are you sure you want to delete "',kt==null?void 0:kt.name,'"? This action cannot be undone.']})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:QH,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Mt,{open:Yu,onOpenChange:hc,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Edit User Role"}),s.jsxs(Dt,{children:["Change the role for ",(sa==null?void 0:sa.display_name)||(sa==null?void 0:sa.email)]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Role"}),s.jsxs($e,{value:qt,onValueChange:ae=>ar(ae),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"admin",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"h-4 w-4"}),"Admin - Full access to all features"]})}),s.jsx(H,{value:"manager",children:s.jsxs("div",{className:"flex itemsers gap-2",children:[s.jsx(dn,{className:"h-4 w-4"}),"Manager - Manage employees and operations"]})}),s.jsx(H,{value:"employee",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Employee - Basic access"]})})]})]})]})}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>hc(!1),children:"Cancel"}),s.jsx(I,{onClick:JH,disabled:ds,children:ds?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Update Role"})]})]})}),s.jsx(Mt,{open:Ts,onOpenChange:Ds,children:s.jsxs(At,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:Hh?"Edit Award Classification":"Add Award Classification"}),s.jsx(Dt,{children:Hh?"Update the award classification details and pay rates":"Enter the details for the new award classification"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-name",children:"Name *"}),s.jsx(Z,{id:"award-name",value:wv,onChange:ae=>aj(ae.target.value),placeholder:"e.g., Level 1 Support Worker"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-base-rate",children:"Base Hourly Rate (AUD) *"}),s.jsx(Z,{id:"award-base-rate",type:"number",step:"0.01",min:"0",value:jv,onChange:ae=>oj(ae.target.value),placeholder:"e.g., 28.50"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-description",children:"Description"}),s.jsx(_t,{id:"award-description",value:cA,onChange:ae=>ij(ae.target.value),placeholder:"Brief description of this award level...",rows:2})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(V,{className:"text-base font-semibold",children:"Penalty Rate Multipliers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"These multipliers are applied to the base hourly rate for different work conditions"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-sat",children:"Saturday"}),s.jsx(Z,{id:"award-sat",type:"number",step:"0.01",min:"1",value:uA,onChange:ae=>lj(ae.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-sun",children:"Sunday"}),s.jsx(Z,{id:"award-sun",type:"number",step:"0.01",min:"1",value:dA,onChange:ae=>cj(ae.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-ph",children:"Public Holiday"}),s.jsx(Z,{id:"award-ph",type:"number",step:"0.01",min:"1",value:fA,onChange:ae=>uj(ae.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-eve",children:"Evening"}),s.jsx(Z,{id:"award-eve",type:"number",step:"0.01",min:"1",value:hA,onChange:ae=>dj(ae.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-night",children:"Night"}),s.jsx(Z,{id:"award-night",type:"number",step:"0.01",min:"1",value:mA,onChange:ae=>fj(ae.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"award-ot",children:"Overtime"}),s.jsx(Z,{id:"award-ot",type:"number",step:"0.01",min:"1",value:pA,onChange:ae=>hj(ae.target.value)})]})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>Ds(!1),children:"Cancel"}),s.jsx(I,{onClick:t9,disabled:!wv.trim()||!jv||gA,children:gA?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):Hh?"Update":"Add"})]})]})}),s.jsx(Pc,{open:WH,onOpenChange:sj,children:s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete Award Classification"}),s.jsxs(ll,{children:['Are you sure you want to delete "',Kh==null?void 0:Kh.name,'"? This action cannot be undone.']})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:r9,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),s.jsx(Pc,{open:bv,onOpenChange:Wh,children:s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete User"}),s.jsxs(ll,{children:['Are you sure you want to delete "',(Pa==null?void 0:Pa.display_name)||(Pa==null?void 0:Pa.email),'"? This will remove their role and access to the system. This action cannot be undone.']})]}),s.jsxs(il,{children:[s.jsx(ul,{disabled:aa,children:"Cancel"}),s.jsx(cl,{onClick:e9,disabled:aa,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:aa?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),s.jsx(YLe,{open:HH,onOpenChange:yA,onUserCreated:w})]})}const QLe=()=>{const e=Lu();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};class ZLe{async getCurrentUser(){const{data:{user:t}}=await M.auth.getUser();if(!t)return null;const{data:r}=await M.from("profiles").select("display_name").eq("user_id",t.id).maybeSingle();return{id:t.id,email:t.email,name:(r==null?void 0:r.display_name)||t.email}}async getCases(t){let r=M.from("hr_cases").select(`
        *,
        employee:employees(id, first_name, last_name, email, position, department)
      `).order("created_at",{ascending:!1});t!=null&&t.status&&(r=r.eq("status",t.status)),t!=null&&t.case_type&&(r=r.eq("case_type",t.case_type)),t!=null&&t.severity&&(r=r.eq("severity",t.severity)),t!=null&&t.assigned_investigator_user_id&&(r=r.eq("assigned_investigator_user_id",t.assigned_investigator_user_id)),t!=null&&t.safeguarding_only&&(r=r.eq("safeguarding_flag",!0));const{data:n,error:a}=await r;if(a)throw console.error("[HRCasesService] Error fetching cases:",a),a;return n||[]}async getCaseById(t){const{data:r,error:n}=await M.from("hr_cases").select(`
        *,
        employee:employees(id, first_name, last_name, email, position, department)
      `).eq("id",t).maybeSingle();if(n)throw console.error("[HRCasesService] Error fetching case:",n),n;return r&&await Nr.log({action:"document.upload",entityType:"setting",entityId:t,afterState:{action:"case_accessed"}}),r}async createCase(t){const r=await this.getCurrentUser(),n={organisation_id:t.organisation_id,employee_id:t.employee_id||null,case_number:"TEMP",case_type:t.case_type,reported_by:t.reported_by,reporter_name:t.reporter_name||null,reporter_contact:t.reporter_contact||null,date_reported:t.date_reported||new Date().toISOString().split("T")[0],summary:t.summary,detailed_description:t.detailed_description||null,severity:t.severity||"medium",safeguarding_flag:t.safeguarding_flag||!1,confidentiality_level:t.confidentiality_level||"standard",assigned_investigator_user_id:t.assigned_investigator_user_id||null,created_by_user_id:(r==null?void 0:r.id)||null},{data:a,error:i}=await M.from("hr_cases").insert(n).select(`
        *,
        employee:employees(id, first_name, last_name, email, position, department)
      `).single();if(i)throw console.error("[HRCasesService] Error creating case:",i),i;return await Nr.log({action:"document.upload",entityType:"setting",entityId:a.id,organisationId:t.organisation_id,afterState:{action:"hr_case_created",case_number:a.case_number,case_type:t.case_type,severity:t.severity||"medium"}}),a}async updateCase(t,r){const{data:n}=await M.from("hr_cases").select("*").eq("id",t).single(),a={...r};r.status==="closed"&&(n==null?void 0:n.status)!=="closed"&&(a.closed_at=new Date().toISOString());const{data:i,error:o}=await M.from("hr_cases").update(a).eq("id",t).select(`
        *,
        employee:employees(id, first_name, last_name, email, position, department)
      `).single();if(o)throw console.error("[HRCasesService] Error updating case:",o),o;return await Nr.log({action:"document.upload",entityType:"setting",entityId:t,beforeState:n?{...n,action:"hr_case_updated"}:void 0,afterState:{...i,action:"hr_case_updated"}}),i}async closeCase(t,r){const{data:n}=await M.from("hr_case_findings").select("id").eq("hr_case_id",t).limit(1);if(!n||n.length===0)throw new Error("Cannot close case without findings. Please record findings first.");return this.updateCase(t,{status:"closed",closure_notes:r})}async getTriage(t){const{data:r,error:n}=await M.from("hr_case_triage").select("*").eq("hr_case_id",t).maybeSingle();if(n)throw console.error("[HRCasesService] Error fetching triage:",n),n;return r}async createTriage(t){const r=await this.getCurrentUser(),{data:n,error:a}=await M.from("hr_case_triage").insert({...t,triaged_by_user_id:(r==null?void 0:r.id)||""}).select().single();if(a)throw console.error("[HRCasesService] Error creating triage:",a),a;return await M.from("hr_cases").update({status:"triaged"}).eq("id",t.hr_case_id),await Nr.log({action:"document.upload",entityType:"setting",entityId:n.id,afterState:{action:"hr_case_triaged",hr_case_id:t.hr_case_id,escalation_required:t.escalation_required}}),n}async getNotes(t){const{data:r,error:n}=await M.from("hr_case_notes").select("*").eq("hr_case_id",t).order("created_at",{ascending:!1});if(n)throw console.error("[HRCasesService] Error fetching notes:",n),n;return r||[]}async createNote(t){const r=await this.getCurrentUser(),{data:n,error:a}=await M.from("hr_case_notes").insert({...t,created_by_user_id:(r==null?void 0:r.id)||"",created_by_name:r==null?void 0:r.name}).select().single();if(a)throw console.error("[HRCasesService] Error creating note:",a),a;return await Nr.log({action:"document.upload",entityType:"setting",entityId:n.id,afterState:{action:"hr_case_note_added",hr_case_id:t.hr_case_id,visibility:t.visibility||"standard"}}),n}async getEvidence(t){const{data:r,error:n}=await M.from("hr_case_evidence").select("*").eq("hr_case_id",t).order("uploaded_at",{ascending:!1});if(n)throw console.error("[HRCasesService] Error fetching evidence:",n),n;return r||[]}async uploadEvidence(t,r,n,a="normal"){const i=await this.getCurrentUser(),o=`${t}/${Date.now()}_${r.name}`,{error:l}=await M.storage.from("hr-case-evidence").upload(o,r);if(l)throw console.error("[HRCasesService] Error uploading file:",l),l;const{data:c}=M.storage.from("hr-case-evidence").getPublicUrl(o),{data:u,error:d}=await M.from("hr_case_evidence").insert({hr_case_id:t,file_url:c.publicUrl,file_name:r.name,description:n,uploaded_by_user_id:(i==null?void 0:i.id)||"",uploaded_by_name:i==null?void 0:i.name,access_level:a}).select().single();if(d)throw console.error("[HRCasesService] Error creating evidence record:",d),d;return await Nr.log({action:"document.upload",entityType:"document",entityId:u.id,afterState:{action:"hr_case_evidence_uploaded",hr_case_id:t,file_name:r.name,access_level:a}}),u}async getFindings(t){const{data:r,error:n}=await M.from("hr_case_findings").select("*").eq("hr_case_id",t).maybeSingle();if(n)throw console.error("[HRCasesService] Error fetching findings:",n),n;return r}async createFindings(t){const r=await this.getCurrentUser(),{data:n,error:a}=await M.from("hr_case_findings").insert({...t,decision_maker_user_id:(r==null?void 0:r.id)||"",decision_maker_name:r==null?void 0:r.name}).select().single();if(a)throw console.error("[HRCasesService] Error creating findings:",a),a;return await M.from("hr_cases").update({status:"decision_made"}).eq("id",t.hr_case_id),await Nr.log({action:"document.upload",entityType:"setting",entityId:n.id,afterState:{action:"hr_case_findings_recorded",hr_case_id:t.hr_case_id,substantiated:t.substantiated}}),n}async getActions(t){const{data:r,error:n}=await M.from("hr_case_actions").select("*").eq("hr_case_id",t).order("created_at",{ascending:!1});if(n)throw console.error("[HRCasesService] Error fetching actions:",n),n;return r||[]}async createAction(t){const r=await this.getCurrentUser(),{data:n,error:a}=await M.from("hr_case_actions").insert({...t,created_by_user_id:(r==null?void 0:r.id)||"",created_by_name:r==null?void 0:r.name}).select().single();if(a)throw console.error("[HRCasesService] Error creating action:",a),a;return await Nr.log({action:"document.upload",entityType:"setting",entityId:n.id,afterState:{action:"hr_case_action_created",hr_case_id:t.hr_case_id,action_type:t.action_type,effective_date:t.effective_date,expiry_date:t.expiry_date}}),n}async updateAction(t,r){const{data:n}=await M.from("hr_case_actions").select("*").eq("id",t).single(),{data:a,error:i}=await M.from("hr_case_actions").update(r).eq("id",t).select().single();if(i)throw console.error("[HRCasesService] Error updating action:",i),i;return await Nr.log({action:"document.upload",entityType:"setting",entityId:t,beforeState:n?{...n,action:"hr_case_action_updated"}:void 0,afterState:{...a,action:"hr_case_action_updated"}}),a}async getStats(){const{data:t,error:r}=await M.from("hr_cases").select("status, case_type, severity, safeguarding_flag");if(r)throw console.error("[HRCasesService] Error fetching stats:",r),r;const{data:n}=await M.from("hr_case_actions").select("id").in("action_type",["verbal_warning","written_warning","final_warning"]).eq("status","active").gte("expiry_date",new Date().toISOString().split("T")[0]),a={total:(t==null?void 0:t.length)||0,byStatus:{new:0,triaged:0,investigating:0,awaiting_response:0,decision_made:0,closed:0},byType:{incident:0,misconduct:0,grievance:0,performance:0,complaint:0},bySeverity:{low:0,medium:0,high:0,critical:0},openCases:0,closedCases:0,safeguardingCases:0,activeWarnings:(n==null?void 0:n.length)||0};return t==null||t.forEach(i=>{a.byStatus[i.status]++,a.byType[i.case_type]++,a.bySeverity[i.severity]++,i.status==="closed"?a.closedCases++:a.openCases++,i.safeguarding_flag&&a.safeguardingCases++}),a}async getCaseAuditLog(t){const{data:r,error:n}=await M.from("audit_logs").select("*").eq("entity_id",t).order("created_at",{ascending:!1});if(n)throw console.error("[HRCasesService] Error fetching audit log:",n),n;return r||[]}}const gn=new ZLe;function JLe(e){const[t,r]=y.useState([]),[n,a]=y.useState(null),[i,o]=y.useState(!0),{toast:l}=cr(),c=y.useCallback(async()=>{o(!0);try{const[h,m]=await Promise.all([gn.getCases(e),gn.getStats()]);r(h),a(m)}catch(h){console.error("Error fetching HR cases:",h),l({title:"Error",description:"Failed to load HR cases",variant:"destructive"})}finally{o(!1)}},[e,l]);return y.useEffect(()=>{c()},[c]),{cases:t,stats:n,loading:i,refetch:c,createCase:async h=>{try{const m=await gn.createCase(h);return l({title:"Case Created",description:`Case ${m.case_number} has been created`}),await c(),m}catch(m){return console.error("Error creating case:",m),l({title:"Error",description:"Failed to create case",variant:"destructive"}),null}},updateCase:async(h,m)=>{try{return await gn.updateCase(h,m),l({title:"Case Updated",description:"Case has been updated successfully"}),await c(),!0}catch(g){return console.error("Error updating case:",g),l({title:"Error",description:"Failed to update case",variant:"destructive"}),!1}},closeCase:async(h,m)=>{try{return await gn.closeCase(h,m),l({title:"Case Closed",description:"Case has been closed successfully"}),await c(),!0}catch(g){console.error("Error closing case:",g);const p=g instanceof Error?g.message:"Failed to close case";return l({title:"Error",description:p,variant:"destructive"}),!1}}}}function eFe(e){const[t,r]=y.useState(null),[n,a]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState(null),[f,h]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState(!1),{toast:b}=cr(),x=y.useCallback(async()=>{if(e){v(!0);try{const[C,P,A,E,R,$,B]=await Promise.all([gn.getCaseById(e),gn.getTriage(e),gn.getNotes(e),gn.getEvidence(e),gn.getFindings(e),gn.getActions(e),gn.getCaseAuditLog(e)]);r(C),a(P),o(A),c(E),d(R),h($),g(B)}catch(C){console.error("Error fetching case detail:",C),b({title:"Error",description:"Failed to load case details",variant:"destructive"})}finally{v(!1)}}},[e,b]);return y.useEffect(()=>{x()},[x]),{hrCase:t,triage:n,notes:i,evidence:l,findings:u,actions:f,auditLog:m,loading:p,refetch:x,createTriage:async C=>{if(!e)return!1;try{return await gn.createTriage({...C,hr_case_id:e}),b({title:"Triage Complete",description:"Case has been triaged successfully"}),await x(),!0}catch(P){return console.error("Error creating triage:",P),b({title:"Error",description:"Failed to save triage",variant:"destructive"}),!1}},addNote:async C=>{if(!e)return!1;try{return await gn.createNote({...C,hr_case_id:e}),b({title:"Note Added",description:"Note has been added to the case"}),await x(),!0}catch(P){return console.error("Error adding note:",P),b({title:"Error",description:"Failed to add note",variant:"destructive"}),!1}},uploadEvidence:async(C,P,A)=>{if(!e)return!1;try{return await gn.uploadEvidence(e,C,P,A),b({title:"Evidence Uploaded",description:"Evidence has been uploaded successfully"}),await x(),!0}catch(E){return console.error("Error uploading evidence:",E),b({title:"Error",description:"Failed to upload evidence",variant:"destructive"}),!1}},recordFindings:async C=>{if(!e)return!1;try{return await gn.createFindings({...C,hr_case_id:e}),b({title:"Findings Recorded",description:"Case findings have been recorded"}),await x(),!0}catch(P){return console.error("Error recording findings:",P),b({title:"Error",description:"Failed to record findings",variant:"destructive"}),!1}},addAction:async C=>{if(!e)return!1;try{return await gn.createAction({...C,hr_case_id:e}),b({title:"Action Added",description:"Disciplinary action has been recorded"}),await x(),!0}catch(P){return console.error("Error adding action:",P),b({title:"Error",description:"Failed to add action",variant:"destructive"}),!1}},updateAction:async(C,P)=>{try{return await gn.updateAction(C,P),b({title:"Action Updated",description:"Action has been updated"}),await x(),!0}catch(A){return console.error("Error updating action:",A),b({title:"Error",description:"Failed to update action",variant:"destructive"}),!1}}}}const tFe=[{value:"incident",label:"Incident"},{value:"misconduct",label:"Misconduct"},{value:"grievance",label:"Grievance"},{value:"performance",label:"Performance"},{value:"complaint",label:"Complaint"}],rFe=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],nFe=[{value:"manager",label:"Manager"},{value:"employee",label:"Employee"},{value:"external",label:"External"},{value:"anonymous",label:"Anonymous"}];function sFe({open:e,onOpenChange:t,onSubmit:r,organisationId:n}){const[a,i]=y.useState(!1),{employees:o}=JE(),{toast:l}=cr(),{register:c,handleSubmit:u,watch:d,setValue:f,reset:h,formState:{errors:m}}=as({defaultValues:{organisation_id:n,case_type:"incident",reported_by:"manager",severity:"medium",safeguarding_flag:!1,confidentiality_level:"standard"}}),g=d("reported_by"),p=d("safeguarding_flag"),v=async b=>{i(!0);try{await r(b),h(),t(!1)}catch(x){console.error("Error creating case:",x),l({title:"Error",description:"Failed to create case",variant:"destructive"})}finally{i(!1)}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create HR Case"}),s.jsx(Dt,{children:"Record a new incident, misconduct, grievance, or disciplinary matter."})]}),s.jsxs("form",{onSubmit:u(v),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"case_type",children:"Case Type *"}),s.jsxs($e,{value:d("case_type"),onValueChange:b=>f("case_type",b),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsx(Re,{children:tFe.map(b=>s.jsx(H,{value:b.value,children:b.label},b.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"severity",children:"Severity *"}),s.jsxs($e,{value:d("severity"),onValueChange:b=>f("severity",b),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsx(Re,{children:rFe.map(b=>s.jsx(H,{value:b.value,children:b.label},b.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"employee_id",children:"Employee Involved"}),s.jsxs($e,{value:d("employee_id")||"__none__",onValueChange:b=>f("employee_id",b==="__none__"?void 0:b),children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select employee (optional)"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"__none__",children:"No specific employee"}),o.filter(b=>b.id&&b.id.trim()!=="").map(b=>s.jsxs(H,{value:b.id,children:[b.firstName," ",b.lastName]},b.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"summary",children:"Summary *"}),s.jsx(Z,{id:"summary",...c("summary",{required:"Summary is required"}),placeholder:"Brief description of the case"}),m.summary&&s.jsx("p",{className:"text-sm text-destructive",children:m.summary.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"detailed_description",children:"Detailed Description"}),s.jsx(_t,{id:"detailed_description",...c("detailed_description"),placeholder:"Provide full details of the incident or matter...",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"reported_by",children:"Reported By *"}),s.jsxs($e,{value:g,onValueChange:b=>f("reported_by",b),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsx(Re,{children:nFe.map(b=>s.jsx(H,{value:b.value,children:b.label},b.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"date_reported",children:"Date Reported"}),s.jsx(Z,{id:"date_reported",type:"date",...c("date_reported"),defaultValue:new Date().toISOString().split("T")[0]})]})]}),g!=="anonymous"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"reporter_name",children:"Reporter Name"}),s.jsx(Z,{id:"reporter_name",...c("reporter_name"),placeholder:"Name of reporter"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"reporter_contact",children:"Reporter Contact"}),s.jsx(Z,{id:"reporter_contact",...c("reporter_contact"),placeholder:"Phone or email"})]})]}),s.jsx("div",{className:"space-y-4 rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"safeguarding_flag",className:"text-destructive font-medium",children:"Safeguarding Concern"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Flag if this case involves child safety or vulnerable persons"})]}),s.jsx(An,{id:"safeguarding_flag",checked:p,onCheckedChange:b=>f("safeguarding_flag",b)})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"confidentiality_level",children:"Confidentiality Level"}),s.jsxs($e,{value:d("confidentiality_level"),onValueChange:b=>f("confidentiality_level",b),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"standard",children:"Standard"}),s.jsx(H,{value:"restricted",children:"Restricted (Admin Only)"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:a,children:a?"Creating...":"Create Case"})]})]})]})})}const aFe={incident:"Incident",misconduct:"Misconduct",grievance:"Grievance",performance:"Performance",complaint:"Complaint"},iFe={low:"Low",medium:"Medium",high:"High",critical:"Critical"},oFe={new:"New",triaged:"Triaged",investigating:"Investigating",awaiting_response:"Awaiting Response",decision_made:"Decision Made",closed:"Closed"},lFe={manager:"Manager",employee:"Employee",external:"External",anonymous:"Anonymous"};function cFe({hrCase:e}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Case Details"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Case Type"}),s.jsx("p",{className:"font-medium",children:aFe[e.case_type]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date Reported"}),s.jsxs("p",{className:"font-medium flex items-center gap-1",children:[s.jsx(Ht,{className:"h-4 w-4"}),le(new Date(e.date_reported),"dd MMM yyyy")]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reported By"}),s.jsx("p",{className:"font-medium",children:lFe[e.reported_by]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),s.jsxs("p",{className:"font-medium flex items-center gap-1",children:[s.jsx(wt,{className:"h-4 w-4"}),le(new Date(e.created_at),"dd MMM yyyy HH:mm")]})]})]}),(e.reporter_name||e.reporter_contact)&&s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.reporter_name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reporter Name"}),s.jsx("p",{className:"font-medium",children:e.reporter_name})]}),e.reporter_contact&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reporter Contact"}),s.jsx("p",{className:"font-medium",children:e.reporter_contact})]})]})]})]})]}),e.employee&&s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Employee Involved"]})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"font-medium",children:[e.employee.first_name," ",e.employee.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:e.employee.email})]}),e.employee.position&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Position"}),s.jsx("p",{className:"font-medium",children:e.employee.position})]}),e.employee.department&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium",children:e.employee.department})]})]})})]}),s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Summary"})}),s.jsx(X,{children:s.jsx("p",{className:"text-sm",children:e.summary})})]}),e.detailed_description&&s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Detailed Description"})}),s.jsx(X,{children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.detailed_description})})]}),e.status==="closed"&&s.jsxs(G,{className:"border-green-200 bg-green-50",children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base text-green-800",children:"Case Closed"})}),s.jsxs(X,{className:"space-y-2",children:[e.closed_at&&s.jsxs("p",{className:"text-sm text-green-700",children:["Closed on ",le(new Date(e.closed_at),"dd MMM yyyy HH:mm")]}),e.closure_notes&&s.jsx("p",{className:"text-sm text-green-800",children:e.closure_notes})]})]})]})}function uFe({hrCase:e,triage:t,onCreateTriage:r}){const[n,a]=y.useState(!1),[i,o]=y.useState(!1),{register:l,handleSubmit:c,watch:u,setValue:d,reset:f}=as({defaultValues:{initial_risk_assessment:"",immediate_actions_taken:"",escalation_required:!1,escalated_to:""}}),h=u("escalation_required"),m=e.case_type==="misconduct"||e.severity==="high"||e.severity==="critical",g=async p=>{o(!0);try{await r(p)&&(a(!1),f())}finally{o(!1)}};return t?s.jsx("div",{className:"space-y-4",children:s.jsxs(G,{className:"border-green-200 bg-green-50",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-base flex items-center gap-2 text-green-800",children:[s.jsx(bt,{className:"h-4 w-4"}),"Triage Complete"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Triaged At"}),s.jsx("p",{className:"text-sm font-medium",children:le(new Date(t.triaged_at),"dd MMM yyyy HH:mm")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Risk Assessment"}),s.jsx("p",{className:"text-sm",children:t.initial_risk_assessment})]}),t.immediate_actions_taken&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate Actions Taken"}),s.jsx("p",{className:"text-sm",children:t.immediate_actions_taken})]}),t.escalation_required&&s.jsxs("div",{className:"rounded-lg border border-orange-200 bg-orange-50 p-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Escalation Required"})]}),t.escalated_to&&s.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["Escalated to: ",t.escalated_to]})]})]})]})}):n?s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Complete Triage"})}),s.jsx(X,{children:s.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"initial_risk_assessment",children:"Initial Risk Assessment *"}),s.jsx(_t,{id:"initial_risk_assessment",...l("initial_risk_assessment",{required:!0}),placeholder:"Assess the immediate risks and potential impacts...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"immediate_actions_taken",children:"Immediate Actions Taken"}),s.jsx(_t,{id:"immediate_actions_taken",...l("immediate_actions_taken"),placeholder:"Document any immediate actions taken to address the situation...",rows:3})]}),s.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{htmlFor:"escalation_required",children:"Escalation Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Does this case need to be escalated to external bodies or senior leadership?"})]}),s.jsx(An,{id:"escalation_required",checked:h,onCheckedChange:p=>d("escalation_required",p)})]}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"escalated_to",children:"Escalated To"}),s.jsx(Z,{id:"escalated_to",...l("escalated_to"),placeholder:"e.g., NDIS Quality & Safeguards Commission, Police, etc."})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:i,children:i?"Saving...":"Complete Triage"})]})]})})]}):s.jsxs("div",{className:"space-y-4",children:[m&&s.jsx(G,{className:"border-amber-200 bg-amber-50",children:s.jsxs(X,{className:"flex items-center gap-3 py-4",children:[s.jsx(lr,{className:"h-5 w-5 text-amber-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-amber-800",children:"Triage Required"}),s.jsx("p",{className:"text-sm text-amber-700",children:"This case requires triage due to its type or severity."})]}),s.jsx(I,{onClick:()=>a(!0),children:"Begin Triage"})]})}),!m&&s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-3 py-4",children:[s.jsx(wt,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"No Triage Required"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This case does not require mandatory triage, but you can still complete one if needed."})]}),s.jsx(I,{variant:"outline",onClick:()=>a(!0),children:"Add Triage"})]})})]})}function dFe({notes:e,onAddNote:t}){const[r,n]=y.useState(!1),[a,i]=y.useState(!1),{register:o,handleSubmit:l,watch:c,setValue:u,reset:d}=as({defaultValues:{note_text:"",visibility:"standard"}}),f=async h=>{i(!0);try{await t(h)&&(n(!1),d())}finally{i(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium",children:"Case Notes"}),!r&&s.jsxs(I,{size:"sm",onClick:()=>n(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-1"}),"Add Note"]})]}),r&&s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Add Note"})}),s.jsx(X,{children:s.jsxs("form",{onSubmit:l(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"note_text",children:"Note *"}),s.jsx(_t,{id:"note_text",...o("note_text",{required:!0}),placeholder:"Enter your note...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"visibility",children:"Visibility"}),s.jsxs($e,{value:c("visibility"),onValueChange:h=>u("visibility",h),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"standard",children:"Standard (All Case Viewers)"}),s.jsx(H,{value:"restricted",children:"Restricted (Admin Only)"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:a,children:a?"Adding...":"Add Note"})]})]})})]}),e.length===0&&!r&&s.jsx(G,{children:s.jsxs(X,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(Bg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No notes added yet"})]})}),e.map(h=>s.jsx(G,{className:h.visibility==="restricted"?"border-red-200":"",children:s.jsx(X,{className:"py-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:h.created_by_name||"Unknown User"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:le(new Date(h.created_at),"dd MMM yyyy HH:mm")}),h.visibility==="restricted"&&s.jsxs(de,{variant:"outline",className:"border-red-500 text-red-500",children:[s.jsx(fu,{className:"h-3 w-3 mr-1"}),"Restricted"]})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.note_text})]})})})},h.id))]})}function fFe({evidence:e,onUploadEvidence:t}){const[r,n]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState("normal"),[d,f]=y.useState(null),h=y.useRef(null),m=p=>{var b;const v=(b=p.target.files)==null?void 0:b[0];v&&f(v)},g=async()=>{if(d){i(!0);try{await t(d,o,c)&&(n(!1),f(null),l(""),u("normal"),h.current&&(h.current.value=""))}finally{i(!1)}}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium",children:"Evidence & Documents"}),!r&&s.jsxs(I,{size:"sm",onClick:()=>n(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-1"}),"Upload Evidence"]})]}),r&&s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Upload Evidence"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"file",children:"File *"}),s.jsx(Z,{id:"file",type:"file",ref:h,onChange:m}),d&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",d.name," (",(d.size/1024).toFixed(1)," KB)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(_t,{id:"description",value:o,onChange:p=>l(p.target.value),placeholder:"Describe this evidence...",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"access_level",children:"Access Level"}),s.jsxs($e,{value:c,onValueChange:p=>u(p),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"normal",children:"Normal (All Case Viewers)"}),s.jsx(H,{value:"restricted",children:"Restricted (Admin Only)"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>{n(!1),f(null),l("")},children:"Cancel"}),s.jsx(I,{onClick:g,disabled:!d||a,children:a?"Uploading...":"Upload"})]})]})]}),e.length===0&&!r&&s.jsx(G,{children:s.jsxs(X,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(dt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No evidence uploaded yet"})]})}),e.map(p=>s.jsx(G,{className:p.access_level==="restricted"?"border-red-200":"",children:s.jsx(X,{className:"py-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:p.file_name}),p.access_level==="restricted"&&s.jsxs(de,{variant:"outline",className:"border-red-500 text-red-500",children:[s.jsx(fu,{className:"h-3 w-3 mr-1"}),"Restricted"]})]}),p.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-3 w-3"}),p.uploaded_by_name||"Unknown"]}),s.jsx("span",{children:le(new Date(p.uploaded_at),"dd MMM yyyy HH:mm")})]})]}),s.jsx(I,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:p.file_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(_F,{className:"h-4 w-4 mr-1"}),"View"]})})]})})},p.id))]})}const u$=[{value:"yes",label:"Substantiated",icon:bt},{value:"no",label:"Not Substantiated",icon:Bn},{value:"partially",label:"Partially Substantiated",icon:lr}];function hFe({hrCase:e,findings:t,onRecordFindings:r}){var g;const[n,a]=y.useState(!1),[i,o]=y.useState(!1),{register:l,handleSubmit:c,watch:u,setValue:d,reset:f}=as({defaultValues:{findings_summary:"",substantiated:"no",contributing_factors:""}}),h=async p=>{o(!0);try{await r(p)&&(a(!1),f())}finally{o(!1)}},m=p=>{switch(p){case"yes":return"bg-red-500 text-white";case"no":return"bg-green-500 text-white";case"partially":return"bg-amber-500 text-black"}};return t?s.jsx("div",{className:"space-y-4",children:s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(xx,{className:"h-4 w-4"}),"Case Findings"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Outcome:"}),s.jsx(de,{className:m(t.substantiated),children:(g=u$.find(p=>p.value===t.substantiated))==null?void 0:g.label})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Decision Date"}),s.jsx("p",{className:"text-sm font-medium",children:le(new Date(t.decision_date),"dd MMM yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Decision Maker"}),s.jsx("p",{className:"text-sm font-medium",children:t.decision_maker_name||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Findings Summary"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.findings_summary})]}),t.contributing_factors&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Contributing Factors"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.contributing_factors})]})]})]})}):n?s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Record Findings"})}),s.jsx(X,{children:s.jsxs("form",{onSubmit:c(h),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"substantiated",children:"Outcome *"}),s.jsxs($e,{value:u("substantiated"),onValueChange:p=>d("substantiated",p),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsx(Re,{children:u$.map(p=>s.jsx(H,{value:p.value,children:p.label},p.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"findings_summary",children:"Findings Summary *"}),s.jsx(_t,{id:"findings_summary",...l("findings_summary",{required:!0}),placeholder:"Summarize the findings of the investigation...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"contributing_factors",children:"Contributing Factors"}),s.jsx(_t,{id:"contributing_factors",...l("contributing_factors"),placeholder:"Identify any contributing factors or systemic issues...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:i,children:i?"Saving...":"Record Findings"})]})]})})]}):s.jsx("div",{className:"space-y-4",children:e.status==="closed"?s.jsx(G,{className:"border-amber-200 bg-amber-50",children:s.jsx(X,{className:"py-4",children:s.jsx("p",{className:"text-amber-800",children:"Case was closed without findings recorded. This is unusual for a closed case."})})}):s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-3 py-6",children:[s.jsx(xx,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:"No Findings Recorded"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record findings once the investigation is complete."})]}),s.jsx(I,{onClick:()=>a(!0),children:"Record Findings"})]})})})}const d$=[{value:"verbal_warning",label:"Verbal Warning"},{value:"written_warning",label:"Written Warning"},{value:"final_warning",label:"Final Warning"},{value:"training",label:"Training Required"},{value:"supervision",label:"Increased Supervision"},{value:"termination",label:"Termination"},{value:"no_action",label:"No Action"},{value:"other",label:"Other"}],mFe=["verbal_warning","written_warning","final_warning"];function pFe({actions:e,onAddAction:t,onUpdateAction:r}){const[n,a]=y.useState(!1),[i,o]=y.useState(!1),{register:l,handleSubmit:c,watch:u,setValue:d,reset:f,formState:{errors:h}}=as({defaultValues:{action_type:"no_action",description:"",effective_date:new Date().toISOString().split("T")[0]}}),m=u("action_type"),g=mFe.includes(m),p=async w=>{o(!0);try{await t(w)&&(a(!1),f())}finally{o(!1)}},v=async(w,_)=>{await r(w,{status:_})},b=w=>{switch(w){case"termination":return"bg-red-500 text-white";case"final_warning":return"bg-orange-500 text-white";case"written_warning":return"bg-amber-500 text-black";case"verbal_warning":return"bg-yellow-400 text-black";case"training":return"bg-blue-500 text-white";case"supervision":return"bg-purple-500 text-white";case"no_action":return"bg-green-500 text-white";default:return"bg-muted"}},x=w=>{switch(w){case"planned":return s.jsx(wt,{className:"h-3 w-3"});case"active":return s.jsx(lr,{className:"h-3 w-3"});case"completed":return s.jsx(bt,{className:"h-3 w-3"});case"withdrawn":return s.jsx(Bn,{className:"h-3 w-3"})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium",children:"Disciplinary Actions"}),!n&&s.jsxs(I,{size:"sm",onClick:()=>a(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-1"}),"Add Action"]})]}),n&&s.jsxs(G,{children:[s.jsx(he,{children:s.jsx(pe,{className:"text-base",children:"Add Disciplinary Action"})}),s.jsx(X,{children:s.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"action_type",children:"Action Type *"}),s.jsxs($e,{value:m,onValueChange:w=>d("action_type",w),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsx(Re,{children:d$.map(w=>s.jsx(H,{value:w.value,children:w.label},w.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description *"}),s.jsx(_t,{id:"description",...l("description",{required:"Description is required"}),placeholder:"Describe the action and expectations...",rows:3}),h.description&&s.jsx("p",{className:"text-sm text-destructive",children:h.description.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"effective_date",children:"Effective Date *"}),s.jsx(Z,{id:"effective_date",type:"date",...l("effective_date",{required:!0})})]}),g&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"expiry_date",children:"Expiry Date *"}),s.jsx(Z,{id:"expiry_date",type:"date",...l("expiry_date",{required:g?"Warnings must have an expiry date":!1})}),h.expiry_date&&s.jsx("p",{className:"text-sm text-destructive",children:h.expiry_date.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"assigned_to_name",children:"Assigned To"}),s.jsx(Z,{id:"assigned_to_name",...l("assigned_to_name"),placeholder:"Name of person responsible for follow-up"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:i,children:i?"Adding...":"Add Action"})]})]})})]}),e.length===0&&!n&&s.jsx(G,{children:s.jsxs(X,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(CF,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No actions recorded yet"})]})}),e.map(w=>{var _;return s.jsx(G,{children:s.jsx(X,{className:"py-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(de,{className:b(w.action_type),children:(_=d$.find(j=>j.value===w.action_type))==null?void 0:_.label}),s.jsxs(de,{variant:"outline",className:"flex items-center gap-1",children:[x(w.status),w.status.charAt(0).toUpperCase()+w.status.slice(1)]})]}),s.jsx("p",{className:"text-sm mb-2",children:w.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Effective: ",le(new Date(w.effective_date),"dd MMM yyyy")]}),w.expiry_date&&s.jsxs("span",{children:["Expires: ",le(new Date(w.expiry_date),"dd MMM yyyy")]}),w.assigned_to_name&&s.jsxs("span",{children:["Assigned to: ",w.assigned_to_name]})]})]}),w.status!=="completed"&&w.status!=="withdrawn"&&s.jsxs($e,{value:w.status,onValueChange:j=>v(w.id,j),children:[s.jsx(De,{className:"w-32",children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"planned",children:"Planned"}),s.jsx(H,{value:"active",children:"Active"}),s.jsx(H,{value:"completed",children:"Completed"}),s.jsx(H,{value:"withdrawn",children:"Withdrawn"})]})]})]})})},w.id)})]})}function gFe({auditLog:e}){const t=e;if(t.length===0)return s.jsx(G,{children:s.jsxs(X,{className:"py-8 text-center text-muted-foreground",children:[s.jsx(Qa,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No audit history available"})]})});const r=n=>{const a=n.split(".");return a.length===2?`${a[0].charAt(0).toUpperCase()+a[0].slice(1)} ${a[1].replace(/_/g," ")}`:n.replace(/_/g," ")};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Audit Trail"]}),s.jsx("div",{className:"space-y-2",children:t.map(n=>s.jsx(G,{children:s.jsx(X,{className:"py-3",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(de,{variant:"outline",children:r(n.action)}),s.jsx("span",{className:"text-xs text-muted-foreground",children:le(new Date(n.created_at),"dd MMM yyyy HH:mm:ss")})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(ns,{className:"h-3 w-3"}),s.jsx("span",{children:n.user_name||n.user_email||"System"})]}),n.new_values&&Object.keys(n.new_values).length>0&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:s.jsxs("details",{children:[s.jsx("summary",{className:"cursor-pointer hover:text-foreground",children:"View details"}),s.jsx("pre",{className:"mt-1 p-2 bg-muted rounded text-xs overflow-x-auto",children:JSON.stringify(n.new_values,null,2)})]})})]})})})},n.id))})]})}function vFe({caseId:e,open:t,onOpenChange:r,onUpdate:n}){const[a,i]=y.useState("overview"),{hrCase:o,triage:l,notes:c,evidence:u,findings:d,actions:f,auditLog:h,loading:m,createTriage:g,addNote:p,uploadEvidence:v,recordFindings:b,addAction:x,updateAction:w}=eFe(t?e:null);if(!o)return null;const _=N=>{switch(N){case"critical":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"medium":return"bg-yellow-500 text-black";case"low":return"bg-green-500 text-white";default:return"bg-muted"}},j=N=>{switch(N){case"new":return"bg-blue-500 text-white";case"triaged":return"bg-purple-500 text-white";case"investigating":return"bg-amber-500 text-black";case"awaiting_response":return"bg-cyan-500 text-white";case"decision_made":return"bg-indigo-500 text-white";case"closed":return"bg-gray-500 text-white";default:return"bg-muted"}};return s.jsx(Do,{open:t,onOpenChange:r,children:s.jsxs(Bi,{className:"w-full sm:max-w-3xl p-0 flex flex-col h-full",children:[s.jsxs(zi,{className:"px-6 py-4 border-b",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vi,{className:"text-lg font-semibold",children:o.case_number}),o.confidentiality_level==="restricted"&&s.jsxs(de,{variant:"outline",className:"border-red-500 text-red-500",children:[s.jsx(fu,{className:"h-3 w-3 mr-1"}),"Restricted"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:o.summary})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o.safeguarding_flag&&s.jsxs(de,{className:"bg-red-600 text-white",children:[s.jsx(dn,{className:"h-3 w-3 mr-1"}),"Safeguarding"]}),s.jsx(de,{className:_(o.severity),children:iFe[o.severity]}),s.jsx(de,{className:j(o.status),children:oFe[o.status]})]})]}),o.employee&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsxs("span",{children:[o.employee.first_name," ",o.employee.last_name,o.employee.position&&`  ${o.employee.position}`]})]})]}),s.jsxs(jn,{value:a,onValueChange:i,className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(mn,{className:"px-6 py-2 justify-start border-b rounded-none bg-transparent h-auto",children:[s.jsxs(Be,{value:"overview",className:"gap-1.5",children:[s.jsx(dt,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(Be,{value:"triage",className:"gap-1.5",children:[s.jsx(lr,{className:"h-4 w-4"}),"Triage"]}),s.jsxs(Be,{value:"notes",className:"gap-1.5",children:[s.jsx(Bg,{className:"h-4 w-4"}),"Notes",c.length>0&&s.jsx(de,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:c.length})]}),s.jsxs(Be,{value:"evidence",className:"gap-1.5",children:[s.jsx(dt,{className:"h-4 w-4"}),"Evidence",u.length>0&&s.jsx(de,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:u.length})]}),s.jsxs(Be,{value:"findings",className:"gap-1.5",children:[s.jsx(xx,{className:"h-4 w-4"}),"Findings"]}),s.jsxs(Be,{value:"actions",className:"gap-1.5",children:[s.jsx(CF,{className:"h-4 w-4"}),"Actions",f.length>0&&s.jsx(de,{variant:"secondary",className:"ml-1 h-5 px-1.5",children:f.length})]}),s.jsxs(Be,{value:"audit",className:"gap-1.5",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Audit"]})]}),s.jsx(Vu,{className:"flex-1",children:s.jsxs("div",{className:"p-6",children:[s.jsx(et,{value:"overview",className:"mt-0",children:s.jsx(cFe,{hrCase:o})}),s.jsx(et,{value:"triage",className:"mt-0",children:s.jsx(uFe,{hrCase:o,triage:l,onCreateTriage:g})}),s.jsx(et,{value:"notes",className:"mt-0",children:s.jsx(dFe,{notes:c,onAddNote:p})}),s.jsx(et,{value:"evidence",className:"mt-0",children:s.jsx(fFe,{evidence:u,onUploadEvidence:v})}),s.jsx(et,{value:"findings",className:"mt-0",children:s.jsx(hFe,{hrCase:o,findings:d,onRecordFindings:b})}),s.jsx(et,{value:"actions",className:"mt-0",children:s.jsx(pFe,{actions:f,onAddAction:x,onUpdateAction:w})}),s.jsx(et,{value:"audit",className:"mt-0",children:s.jsx(gFe,{auditLog:h})})]})})]})]})})}const yFe="00000000-0000-0000-0000-000000000000";function xFe(){const{isAdmin:e,isManager:t,loading:r}=tw(),[n,a]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState("all"),[f,h]=y.useState(!1),[m,g]=y.useState(null),p={...i!=="all"&&{status:i},...l!=="all"&&{case_type:l},...u!=="all"&&{severity:u}},{cases:v,stats:b,loading:x,refetch:w,createCase:_}=JLe(Object.keys(p).length>0?p:void 0),j=v.filter(C=>{var A,E,R,$;if(!n)return!0;const P=n.toLowerCase();return C.case_number.toLowerCase().includes(P)||C.summary.toLowerCase().includes(P)||((E=(A=C.employee)==null?void 0:A.first_name)==null?void 0:E.toLowerCase().includes(P))||(($=(R=C.employee)==null?void 0:R.last_name)==null?void 0:$.toLowerCase().includes(P))});if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading..."})});if(!e&&!t)return s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(G,{className:"max-w-md",children:s.jsxs(X,{className:"py-8 text-center",children:[s.jsx(fu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Access Restricted"}),s.jsx("p",{className:"text-muted-foreground",children:"This module is only accessible to administrators and managers."})]})})});const N=C=>{switch(C){case"critical":return"destructive";case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"default"}},S=C=>{switch(C){case"closed":return"outline";case"new":return"default";default:return"secondary"}},k=()=>{const C=["Case Number","Type","Status","Severity","Employee","Summary","Date Reported","Created At"],P=j.map(B=>[B.case_number,B.case_type,B.status,B.severity,B.employee?`${B.employee.first_name} ${B.employee.last_name}`:"",B.summary,B.date_reported,B.created_at]),A=[C,...P].map(B=>B.map(F=>`"${F}"`).join(",")).join(`
`),E=new Blob([A],{type:"text/csv"}),R=URL.createObjectURL(E),$=document.createElement("a");$.href=R,$.download=`hr-cases-${le(new Date,"yyyy-MM-dd")}.csv`,$.click(),URL.revokeObjectURL(R)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"HR Cases"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage incidents, misconduct, grievances, and disciplinary matters"})]}),s.jsxs(I,{onClick:()=>h(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"New Case"]})]}),b&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsx(Bt,{title:"Total Cases",value:b.total,icon:dt}),s.jsx(Bt,{title:"Open Cases",value:b.openCases,icon:wt}),s.jsx(Bt,{title:"Closed Cases",value:b.closedCases,icon:bt}),s.jsx(Bt,{title:"Safeguarding",value:b.safeguardingCases,icon:dn,className:b.safeguardingCases>0?"border-destructive":""}),s.jsx(Bt,{title:"Active Warnings",value:b.activeWarnings,icon:lr})]}),s.jsxs(G,{children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(w0,{className:"h-4 w-4"}),"Filters"]})}),s.jsx(X,{children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search cases...",value:n,onChange:C=>a(C.target.value),className:"pl-9"})]})}),s.jsxs($e,{value:i,onValueChange:C=>o(C),children:[s.jsx(De,{className:"w-[150px]",children:s.jsx(Ie,{placeholder:"Status"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Statuses"}),s.jsx(H,{value:"new",children:"New"}),s.jsx(H,{value:"triaged",children:"Triaged"}),s.jsx(H,{value:"investigating",children:"Investigating"}),s.jsx(H,{value:"awaiting_response",children:"Awaiting Response"}),s.jsx(H,{value:"decision_made",children:"Decision Made"}),s.jsx(H,{value:"closed",children:"Closed"})]})]}),s.jsxs($e,{value:l,onValueChange:C=>c(C),children:[s.jsx(De,{className:"w-[150px]",children:s.jsx(Ie,{placeholder:"Type"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Types"}),s.jsx(H,{value:"incident",children:"Incident"}),s.jsx(H,{value:"misconduct",children:"Misconduct"}),s.jsx(H,{value:"grievance",children:"Grievance"}),s.jsx(H,{value:"performance",children:"Performance"}),s.jsx(H,{value:"complaint",children:"Complaint"})]})]}),s.jsxs($e,{value:u,onValueChange:C=>d(C),children:[s.jsx(De,{className:"w-[150px]",children:s.jsx(Ie,{placeholder:"Severity"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Severities"}),s.jsx(H,{value:"low",children:"Low"}),s.jsx(H,{value:"medium",children:"Medium"}),s.jsx(H,{value:"high",children:"High"}),s.jsx(H,{value:"critical",children:"Critical"})]})]}),s.jsxs(I,{variant:"outline",onClick:k,children:[s.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{className:"text-base",children:"Case Register"}),s.jsxs(Fe,{children:[j.length," case",j.length!==1?"s":""," found"]})]}),s.jsx(X,{children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Case #"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Employee"}),s.jsx(ie,{children:"Summary"}),s.jsx(ie,{children:"Severity"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Reported"}),s.jsx(ie,{})]})}),s.jsx(gr,{children:x?s.jsx(Ve,{children:s.jsx(te,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):j.length===0?s.jsx(Ve,{children:s.jsx(te,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No cases found"})}):j.map(C=>s.jsxs(Ve,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>g(C.id),children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:C.case_number}),C.safeguarding_flag&&s.jsx(dn,{className:"h-4 w-4 text-destructive"}),C.confidentiality_level==="restricted"&&s.jsx(fu,{className:"h-4 w-4 text-muted-foreground"})]})}),s.jsx(te,{children:s.jsx(de,{variant:"outline",children:C.case_type.charAt(0).toUpperCase()+C.case_type.slice(1)})}),s.jsx(te,{children:C.employee?`${C.employee.first_name} ${C.employee.last_name}`:s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(te,{className:"max-w-[200px] truncate",children:C.summary}),s.jsx(te,{children:s.jsx(de,{variant:N(C.severity),children:C.severity.charAt(0).toUpperCase()+C.severity.slice(1)})}),s.jsx(te,{children:s.jsx(de,{variant:S(C.status),children:C.status.replace(/_/g," ").replace(/\b\w/g,P=>P.toUpperCase())})}),s.jsx(te,{className:"text-muted-foreground",children:le(new Date(C.date_reported),"dd MMM yyyy")}),s.jsx(te,{children:s.jsx(I,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),g(C.id)},children:s.jsx(xx,{className:"h-4 w-4"})})})]},C.id))})]})})]}),s.jsx(sFe,{open:f,onOpenChange:h,onSubmit:_,organisationId:yFe}),s.jsx(vFe,{caseId:m,open:!!m,onOpenChange:C=>!C&&g(null),onUpdate:w})]})}function _H(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:u,error:d}=await M.from("document_types").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(d)throw d;t(u||[])}catch(u){a({title:"Error fetching document types",description:u.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async u=>{try{const{data:d,error:f}=await M.from("document_types").insert(u).select().single();if(f)throw f;return t(h=>[...h,d].sort((m,g)=>m.display_order-g.display_order)),a({title:"Document type created"}),d}catch(d){return a({title:"Error creating document type",description:d.message,variant:"destructive"}),null}},l=async(u,d)=>{try{const{data:f,error:h}=await M.from("document_types").update(d).eq("id",u).select().single();if(h)throw h;return t(m=>m.map(g=>g.id===u?f:g).sort((g,p)=>g.display_order-p.display_order)),a({title:"Document type updated"}),f}catch(f){return a({title:"Error updating document type",description:f.message,variant:"destructive"}),null}},c=async u=>{try{const{error:d}=await M.from("document_types").update({is_active:!1}).eq("id",u);if(d)throw d;return t(f=>f.filter(h=>h.id!==u)),a({title:"Document type removed"}),!0}catch(d){return a({title:"Error removing document type",description:d.message,variant:"destructive"}),!1}};return y.useEffect(()=>{i()},[i]),{documentTypes:e,loading:r,fetchDocumentTypes:i,createDocumentType:o,updateDocumentType:l,deleteDocumentType:c}}function NH(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{try{a(!0);let f=M.from("employee_documents").select(`
          *,
          document_type:document_types(*)
        `).order("created_at",{ascending:!1});const{data:h,error:m}=await f;if(m)throw m;r(h||[])}catch(f){i({title:"Error fetching documents",description:f.message,variant:"destructive"})}finally{a(!1)}},[e,i]),l=async(f,h,m,g)=>{try{const{data:{user:p}}=await M.auth.getUser();if(!p)throw new Error("Not authenticated");const v=f.name.split(".").pop(),b=`${p.id}/${h}/${Date.now()}.${v}`,{error:x}=await M.storage.from("employee-documents").upload(b,f);if(x)throw x;const{data:{publicUrl:w}}=M.storage.from("employee-documents").getPublicUrl(b),{data:_,error:j}=await M.from("employee_documents").insert({user_id:p.id,document_type_id:h,file_url:w,file_name:f.name,issue_date:m||null,expiry_date:g||null,status:"pending"}).select("*, document_type:document_types(*)").single();if(j)throw j;return await M.from("document_versions").insert({document_id:_.id,version_number:1,file_url:w,file_name:f.name,uploaded_by:p.id}),r(N=>[_,...N]),i({title:"Document uploaded successfully"}),_}catch(p){return i({title:"Error uploading document",description:p.message,variant:"destructive"}),null}},c=async(f,h)=>{try{const{data:{user:m}}=await M.auth.getUser();if(!m)throw new Error("Not authenticated");const g=t.find(N=>N.id===f);if(!g)throw new Error("Document not found");const p=h.name.split(".").pop(),v=`${m.id}/${g.document_type_id}/${Date.now()}.${p}`,{error:b}=await M.storage.from("employee-documents").upload(v,h);if(b)throw b;const{data:{publicUrl:x}}=M.storage.from("employee-documents").getPublicUrl(v),w=g.current_version+1,{data:_,error:j}=await M.from("employee_documents").update({file_url:x,file_name:h.name,current_version:w,status:"pending"}).eq("id",f).select("*, document_type:document_types(*)").single();if(j)throw j;return await M.from("document_versions").insert({document_id:f,version_number:w,file_url:x,file_name:h.name,uploaded_by:m.id}),r(N=>N.map(S=>S.id===f?_:S)),i({title:"Document replaced successfully"}),_}catch(m){return i({title:"Error replacing document",description:m.message,variant:"destructive"}),null}},u=async f=>{try{const{error:h}=await M.from("employee_documents").delete().eq("id",f);if(h)throw h;return r(m=>m.filter(g=>g.id!==f)),i({title:"Document deleted"}),!0}catch(h){return i({title:"Error deleting document",description:h.message,variant:"destructive"}),!1}},d=async(f,h,m)=>{var g;try{const{data:{user:p}}=await M.auth.getUser();if(!p)throw new Error("Not authenticated");const{data:v,error:b}=await M.from("employee_documents").update({status:h}).eq("id",f).select("*, document_type:document_types(*)").single();if(b)throw b;return await M.from("document_reviews").insert({document_id:f,reviewer_id:p.id,reviewer_name:((g=p.user_metadata)==null?void 0:g.display_name)||p.email||"Unknown",reviewer_email:p.email||"",action:h,comments:m}),r(x=>x.map(w=>w.id===f?v:w)),i({title:`Document ${h}`}),v}catch(p){return i({title:"Error reviewing document",description:p.message,variant:"destructive"}),null}};return y.useEffect(()=>{o()},[o]),{documents:t,loading:n,fetchDocuments:o,uploadDocument:l,replaceDocument:c,deleteDocument:u,reviewDocument:d}}function SH(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:d,error:f}=await M.from("courses").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){a({title:"Error fetching courses",description:d.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async d=>{try{const{data:{user:f}}=await M.auth.getUser(),{data:h,error:m}=await M.from("courses").insert({...d,created_by:f==null?void 0:f.id}).select().single();if(m)throw m;return t(g=>[h,...g]),a({title:"Course created"}),h}catch(f){return a({title:"Error creating course",description:f.message,variant:"destructive"}),null}},l=async(d,f)=>{try{const{data:h,error:m}=await M.from("courses").update(f).eq("id",d).select().single();if(m)throw m;return t(g=>g.map(p=>p.id===d?h:p)),a({title:"Course updated"}),h}catch(h){return a({title:"Error updating course",description:h.message,variant:"destructive"}),null}},c=async d=>{try{const{error:f}=await M.from("courses").update({is_active:!1}).eq("id",d);if(f)throw f;return t(h=>h.filter(m=>m.id!==d)),a({title:"Course deleted"}),!0}catch(f){return a({title:"Error deleting course",description:f.message,variant:"destructive"}),!1}},u=async(d,f)=>l(d,{is_published:f});return y.useEffect(()=>{i()},[i]),{courses:e,loading:r,fetchCourses:i,createCourse:o,updateCourse:l,deleteCourse:c,publishCourse:u}}function bFe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{if(!e){a(!1);return}try{a(!0);const{data:d,error:f}=await M.from("course_modules").select("*").eq("course_id",e).order("display_order",{ascending:!0});if(f)throw f;r(d||[])}catch(d){i({title:"Error fetching modules",description:d.message,variant:"destructive"})}finally{a(!1)}},[e,i]),l=async d=>{try{const{data:f,error:h}=await M.from("course_modules").insert(d).select().single();if(h)throw h;return r(m=>[...m,f].sort((g,p)=>g.display_order-p.display_order)),i({title:"Module created"}),f}catch(f){return i({title:"Error creating module",description:f.message,variant:"destructive"}),null}},c=async(d,f)=>{try{const{data:h,error:m}=await M.from("course_modules").update(f).eq("id",d).select().single();if(m)throw m;return r(g=>g.map(p=>p.id===d?h:p).sort((p,v)=>p.display_order-v.display_order)),i({title:"Module updated"}),h}catch(h){return i({title:"Error updating module",description:h.message,variant:"destructive"}),null}},u=async d=>{try{const{error:f}=await M.from("course_modules").delete().eq("id",d);if(f)throw f;return r(h=>h.filter(m=>m.id!==d)),i({title:"Module deleted"}),!0}catch(f){return i({title:"Error deleting module",description:f.message,variant:"destructive"}),!1}};return y.useEffect(()=>{o()},[o]),{modules:t,loading:n,fetchModules:o,createModule:l,updateModule:c,deleteModule:u}}function wFe(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:c,error:u}=await M.from("course_assignments").select(`
          *,
          course:courses(*)
        `).order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){a({title:"Error fetching assignments",description:c.message,variant:"destructive"})}finally{n(!1)}},[a]),o=async c=>{var u;try{const{data:{user:d}}=await M.auth.getUser(),{data:f,error:h}=await M.from("course_assignments").insert({...c,assigned_by:d==null?void 0:d.id,assigned_by_name:((u=d==null?void 0:d.user_metadata)==null?void 0:u.display_name)||(d==null?void 0:d.email)}).select("*, course:courses(*)").single();if(h)throw h;return t(m=>[f,...m]),a({title:"Assignment created"}),f}catch(d){return a({title:"Error creating assignment",description:d.message,variant:"destructive"}),null}},l=async c=>{try{const{error:u}=await M.from("course_assignments").delete().eq("id",c);if(u)throw u;return t(d=>d.filter(f=>f.id!==c)),a({title:"Assignment deleted"}),!0}catch(u){return a({title:"Error deleting assignment",description:u.message,variant:"destructive"}),!1}};return y.useEffect(()=>{i()},[i]),{assignments:e,loading:r,fetchAssignments:i,createAssignment:o,deleteAssignment:l}}function CH(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),{toast:i}=cr(),o=y.useCallback(async()=>{try{a(!0);let u=e;if(!u){const{data:{user:h}}=await M.auth.getUser();u=h==null?void 0:h.id}if(!u){a(!1);return}const{data:d,error:f}=await M.from("user_course_assignments").select(`
          *,
          course:courses(*)
        `).eq("user_id",u).order("created_at",{ascending:!1});if(f)throw f;r(d||[])}catch(u){i({title:"Error fetching your training",description:u.message,variant:"destructive"})}finally{a(!1)}},[e,i]),l=async u=>{try{const{data:d,error:f}=await M.from("user_course_assignments").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",u).select("*, course:courses(*)").single();if(f)throw f;return r(h=>h.map(m=>m.id===u?d:m)),i({title:"Course started"}),d}catch(d){return i({title:"Error starting course",description:d.message,variant:"destructive"}),null}},c=async(u,d)=>{try{const f={progress_percentage:d};d>=100&&(f.status="completed",f.completed_at=new Date().toISOString());const{data:h,error:m}=await M.from("user_course_assignments").update(f).eq("id",u).select("*, course:courses(*)").single();if(m)throw m;return r(g=>g.map(p=>p.id===u?h:p)),h}catch(f){return i({title:"Error updating progress",description:f.message,variant:"destructive"}),null}};return y.useEffect(()=>{o()},[o]),{assignments:t,loading:n,fetchAssignments:o,startCourse:l,updateProgress:c}}function jFe(){const{documents:e,loading:t}=NH(),{documentTypes:r}=_H(),{assignments:n,loading:a}=CH(),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{var A,E;const{data:{user:P}}=await M.auth.getUser();P&&o(((A=P.user_metadata)==null?void 0:A.display_name)||((E=P.email)==null?void 0:E.split("@")[0])||"User")})()},[]);const l=t||a,c=e.filter(C=>C.status==="approved").length,u=e.filter(C=>C.status==="pending").length,d=e.filter(C=>C.status==="expired"||C.expiry_date&&Jm(new Date(C.expiry_date))).length,f=e.filter(C=>{if(!C.expiry_date||C.status==="expired")return!1;const P=ti(new Date(C.expiry_date),new Date);return P<=30&&P>0}),h=r.filter(C=>C.is_required),m=h.filter(C=>!e.some(P=>P.document_type_id===C.id&&(P.status==="approved"||P.status==="pending"))),g=n.filter(C=>C.status==="completed").length,p=n.filter(C=>C.status==="in_progress").length,v=n.filter(C=>C.status==="assigned").length,b=n.filter(C=>C.status==="completed"||!C.due_date?!1:Jm(new Date(C.due_date))),x=h.length,w=h.filter(C=>e.some(P=>P.document_type_id===C.id&&P.status==="approved"&&(!P.expiry_date||!Jm(new Date(P.expiry_date))))).length,_=x>0?Math.round(w/x*100):100,j=n.length,N=j>0?Math.round(g/j*100):100,S=Math.round((_+N)/2),k=[...m.map(C=>({type:"error",message:`Missing required document: ${C.name}`,link:"/portal/documents"})),...d>0?[{type:"error",message:`${d} document(s) have expired`,link:"/portal/documents"}]:[],...f.map(C=>{var P;return{type:"warning",message:`${((P=C.document_type)==null?void 0:P.name)||"Document"} expires ${le(new Date(C.expiry_date),"dd MMM yyyy")}`,link:"/portal/documents"}}),...b.map(C=>{var P;return{type:"error",message:`Overdue training: ${(P=C.course)==null?void 0:P.title}`,link:"/portal/training"}}),...u>0?[{type:"info",message:`${u} document(s) awaiting review`,link:"/portal/documents"}]:[]].slice(0,5);return l?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-20 w-full"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(C=>s.jsx(It,{className:"h-28"},C))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(It,{className:"h-64"}),s.jsx(It,{className:"h-64"})]})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",i]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Your self-service portal for documents and training"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(de,{variant:S>=80?"default":S>=50?"secondary":"destructive",className:S>=80?"bg-success/10 text-success":"",children:[S,"% Compliant"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Bt,{title:"Documents",value:c,description:`${u} pending review`,icon:Oi,variant:m.length>0||d>0?"warning":"success"}),s.jsx(Bt,{title:"Training Completed",value:g,description:`${v+p} remaining`,icon:bf,variant:b.length>0?"warning":"success"}),s.jsx(Bt,{title:"Expiring Soon",value:f.length,description:"Within 30 days",icon:wt,variant:f.length>0?"warning":"default"}),s.jsx(Bt,{title:"Action Required",value:m.length+b.length+d,description:"Items need attention",icon:lr,variant:m.length+b.length+d>0?"warning":"success"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(G,{children:[s.jsx(he,{className:"flex flex-row items-center justify-between pb-2",children:s.jsxs("div",{children:[s.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[s.jsx(wF,{className:"h-5 w-5 text-primary"}),"Priority Alerts"]}),s.jsx(Fe,{children:"Items requiring your attention"})]})}),s.jsx(X,{children:k.length>0?s.jsx("div",{className:"space-y-3",children:k.map((C,P)=>s.jsxs(On,{to:C.link,className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[C.type==="error"?s.jsx(lr,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}):C.type==="warning"?s.jsx(MG,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}):s.jsx(wt,{className:"h-5 w-5 text-info shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm flex-1",children:C.message}),s.jsx(YN,{className:"h-4 w-4 text-muted-foreground"})]},P))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(bt,{className:"h-12 w-12 text-success mb-3"}),s.jsx("p",{className:"font-medium",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No urgent items require your attention"})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{className:"pb-2",children:[s.jsx(pe,{className:"text-lg",children:"Compliance Overview"}),s.jsx(Fe,{children:"Your current compliance status"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Document Compliance"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[_,"%"]})]}),s.jsx(Gs,{value:_,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[w," of ",x," required documents uploaded"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Training Compliance"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[N,"%"]})]}),s.jsx(Gs,{value:N,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[g," of ",j," assigned training completed"]})]}),s.jsxs("div",{className:"pt-4 flex gap-2",children:[s.jsx(I,{asChild:!0,variant:"outline",className:"flex-1",children:s.jsxs(On,{to:"/portal/documents",children:[s.jsx(Oi,{className:"h-4 w-4 mr-2"}),"My Documents"]})}),s.jsx(I,{asChild:!0,variant:"outline",className:"flex-1",children:s.jsxs(On,{to:"/portal/training",children:[s.jsx(bf,{className:"h-4 w-4 mr-2"}),"My Training"]})})]})]})]})]}),n.filter(C=>C.status==="in_progress").length>0&&s.jsxs(G,{children:[s.jsxs(he,{className:"pb-2",children:[s.jsx(pe,{className:"text-lg",children:"Continue Training"}),s.jsx(Fe,{children:"Pick up where you left off"})]}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:n.filter(C=>C.status==="in_progress").slice(0,3).map(C=>{var P;return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:(P=C.course)==null?void 0:P.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Gs,{value:C.progress_percentage,className:"h-1.5 flex-1"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[C.progress_percentage,"%"]})]})]}),s.jsx(I,{asChild:!0,size:"sm",children:s.jsx(On,{to:`/portal/training/${C.id}`,children:"Resume"})})]},C.id)})})})]})]})}const _Fe={pending:{label:"Pending Review",icon:wt,className:"bg-warning/10 text-warning"},approved:{label:"Approved",icon:bt,className:"bg-success/10 text-success"},rejected:{label:"Rejected",icon:Bn,className:"bg-destructive/10 text-destructive"},expired:{label:"Expired",icon:lr,className:"bg-destructive/10 text-destructive"}};function NFe(){var D,T;const{documents:e,loading:t,uploadDocument:r,replaceDocument:n,deleteDocument:a}=NH(),{documentTypes:i,loading:o}=_H(),[l,c]=y.useState(!1),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(!1),[b,x]=y.useState(""),[w,_]=y.useState("all"),[j,N]=y.useState(null),S=y.useRef(null),k=y.useRef(null),C=async()=>{var K,oe;const U=(oe=(K=S.current)==null?void 0:K.files)==null?void 0:oe[0];if(!U||!u)return;v(!0);const Q=await r(U,u,f||void 0,m||void 0);v(!1),Q&&(c(!1),d(""),h(""),g(""),S.current&&(S.current.value=""))},P=async U=>{var K;const Q=(K=U.target.files)==null?void 0:K[0];!Q||!j||(v(!0),await n(j,Q),v(!1),N(null),k.current&&(k.current.value=""))},A=async U=>{confirm("Are you sure you want to delete this document?")&&await a(U)},E=U=>U.status==="approved"&&U.expiry_date&&Jm(new Date(U.expiry_date))?"expired":U.status,R=U=>{if(!U.expiry_date)return null;const Q=ti(new Date(U.expiry_date),new Date);return Q<0?{text:"Expired",className:"text-destructive"}:Q<=30?{text:`Expires in ${Q} days`,className:"text-warning"}:{text:le(new Date(U.expiry_date),"dd MMM yyyy"),className:"text-muted-foreground"}},$=e.filter(U=>{var W;const Q=U.file_name.toLowerCase().includes(b.toLowerCase())||((W=U.document_type)==null?void 0:W.name.toLowerCase().includes(b.toLowerCase())),K=E(U);return Q&&(w==="all"||K===w)}),B=i.filter(U=>U.is_required),F=e.map(U=>U.document_type_id),L=B.filter(U=>!F.includes(U.id));return t||o?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-10 w-full max-w-md"}),s.jsx(It,{className:"h-96"})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Documents"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload and manage your compliance documents"})]}),s.jsxs(I,{onClick:()=>c(!0),className:"gap-2",children:[s.jsx(jo,{className:"h-4 w-4"}),"Upload Document"]})]}),L.length>0&&s.jsx(G,{className:"border-warning bg-warning/5",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(lr,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Missing Required Documents"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Please upload the following: ",L.map(U=>U.name).join(", ")]})]})]})})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search documents...",value:b,onChange:U=>x(U.target.value),className:"pl-10"})]}),s.jsxs($e,{value:w,onValueChange:_,children:[s.jsxs(De,{className:"w-[180px]",children:[s.jsx(w0,{className:"h-4 w-4 mr-2"}),s.jsx(Ie,{placeholder:"Filter by status"})]}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"pending",children:"Pending"}),s.jsx(H,{value:"approved",children:"Approved"}),s.jsx(H,{value:"rejected",children:"Rejected"}),s.jsx(H,{value:"expired",children:"Expired"})]})]})]}),s.jsx(G,{children:s.jsx(X,{className:"p-0",children:$.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No documents found"}),s.jsx("p",{className:"text-sm mt-1",children:"Upload your first document to get started"})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Document"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Expiry"}),s.jsx(ie,{children:"Version"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:$.map(U=>{var Se;const Q=E(U),K=_Fe[Q],oe=R(U),W=U.status==="pending",fe=U.status!=="approved"||Q==="expired";return s.jsxs(Ve,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oi,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium truncate max-w-[200px]",children:U.file_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uploaded ",le(new Date(U.created_at),"dd MMM yyyy")]})]})]})}),s.jsx(te,{children:s.jsx(de,{variant:"outline",children:((Se=U.document_type)==null?void 0:Se.name)||"Unknown"})}),s.jsx(te,{children:s.jsxs(de,{className:K.className,children:[s.jsx(K.icon,{className:"h-3 w-3 mr-1"}),K.label]})}),s.jsx(te,{children:oe?s.jsx("span",{className:`text-sm ${oe.className}`,children:oe.text}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No expiry"})}),s.jsx(te,{children:s.jsxs("span",{className:"text-sm",children:["v",U.current_version]})}),s.jsx(te,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx("a",{href:U.file_url,target:"_blank",rel:"noopener noreferrer",children:s.jsx(Fi,{className:"h-4 w-4"})})}),s.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx("a",{href:U.file_url,download:U.file_name,children:s.jsx(Ps,{className:"h-4 w-4"})})}),fe&&s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>{var ue;N(U.id),(ue=k.current)==null||ue.click()},children:s.jsx(OF,{className:"h-4 w-4"})}),W&&s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>A(U.id),children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})})]},U.id)})})]})})}),s.jsx("input",{ref:k,type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:P}),s.jsx(Mt,{open:l,onOpenChange:c,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Upload Document"}),s.jsx(Dt,{children:"Upload a new compliance document. Accepted formats: PDF, JPG, PNG, DOC, DOCX"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Document Type *"}),s.jsxs($e,{value:u,onValueChange:d,children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select document type"})}),s.jsx(Re,{children:i.map(U=>s.jsxs(H,{value:U.id,children:[U.name,U.is_required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]},U.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Document File *"}),s.jsx(Z,{ref:S,type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Issue Date"}),s.jsx(Z,{type:"date",value:f,onChange:U=>h(U.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Expiry Date"}),s.jsx(Z,{type:"date",value:m,onChange:U=>g(U.target.value)})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(I,{onClick:C,disabled:!u||!((T=(D=S.current)==null?void 0:D.files)!=null&&T[0])||p,children:p?"Uploading...":"Upload"})]})]})})]})}const SFe={assigned:{label:"Not Started",icon:Ek,className:"bg-muted text-muted-foreground"},in_progress:{label:"In Progress",icon:Ap,className:"bg-info/10 text-info"},completed:{label:"Completed",icon:bt,className:"bg-success/10 text-success"},overdue:{label:"Overdue",icon:lr,className:"bg-destructive/10 text-destructive"}};function CFe(){const{assignments:e,loading:t,startCourse:r}=CH(),[n,a]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState("all"),u=v=>v.status==="completed"?"completed":v.due_date&&Jm(new Date(v.due_date))?"overdue":v.status,d=v=>{if(!v.due_date||v.status==="completed")return null;const b=ti(new Date(v.due_date),new Date);return b<0?{text:`${Math.abs(b)} days overdue`,className:"text-destructive"}:b===0?{text:"Due today",className:"text-warning"}:b<=7?{text:`Due in ${b} days`,className:"text-warning"}:{text:`Due ${le(new Date(v.due_date),"dd MMM yyyy")}`,className:"text-muted-foreground"}},f=e.filter(v=>{var j,N,S;const b=((j=v.course)==null?void 0:j.title.toLowerCase().includes(n.toLowerCase()))||((S=(N=v.course)==null?void 0:N.description)==null?void 0:S.toLowerCase().includes(n.toLowerCase())),x=u(v);return b&&(i==="all"||x===i)&&(l==="all"||l==="active"&&(x==="assigned"||x==="in_progress"||x==="overdue")||l==="completed"&&x==="completed")}),h=async v=>{await r(v.id)};if(t)return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-10 w-full max-w-md"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(v=>s.jsx(It,{className:"h-48"},v))})]});const m=e.filter(v=>{const b=u(v);return b==="assigned"||b==="in_progress"||b==="overdue"}).length,g=e.filter(v=>v.status==="completed").length,p=e.filter(v=>u(v)==="overdue").length;return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Training"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Complete your assigned courses and track your progress"})]}),s.jsx("div",{className:"flex items-center gap-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(de,{variant:"outline",children:[m," Active"]}),s.jsxs(de,{className:"bg-success/10 text-success",children:[g," Completed"]}),p>0&&s.jsxs(de,{className:"bg-destructive/10 text-destructive",children:[p," Overdue"]})]})})]}),s.jsxs(jn,{value:l,onValueChange:c,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs(mn,{children:[s.jsx(Be,{value:"all",children:"All"}),s.jsx(Be,{value:"active",children:"Active"}),s.jsx(Be,{value:"completed",children:"Completed"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search courses...",value:n,onChange:v=>a(v.target.value),className:"pl-10 w-[200px]"})]}),s.jsxs($e,{value:i,onValueChange:o,children:[s.jsxs(De,{className:"w-[150px]",children:[s.jsx(w0,{className:"h-4 w-4 mr-2"}),s.jsx(Ie,{placeholder:"Status"})]}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Status"}),s.jsx(H,{value:"assigned",children:"Not Started"}),s.jsx(H,{value:"in_progress",children:"In Progress"}),s.jsx(H,{value:"completed",children:"Completed"}),s.jsx(H,{value:"overdue",children:"Overdue"})]})]})]})]}),s.jsx(et,{value:l,className:"mt-6",children:f.length===0?s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(bf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No training courses found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l==="completed"?"Complete some courses to see them here":"Check back later for new assignments"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(v=>{const b=u(v),x=SFe[b],w=d(v),_=v.course;return s.jsxs(G,{className:"flex flex-col",children:[s.jsxs(he,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(pe,{className:"text-base line-clamp-2",children:_==null?void 0:_.title}),s.jsxs(de,{className:x.className,children:[s.jsx(x.icon,{className:"h-3 w-3 mr-1"}),x.label]})]}),(_==null?void 0:_.description)&&s.jsx(Fe,{className:"line-clamp-2",children:_.description})]}),s.jsxs(X,{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1 text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[v.progress_percentage,"%"]})]}),s.jsx(Gs,{value:v.progress_percentage,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[(_==null?void 0:_.estimated_duration_minutes)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(FG,{className:"h-4 w-4"}),s.jsxs("span",{children:[_.estimated_duration_minutes," min estimated"]})]}),w&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsx("span",{className:w.className,children:w.text})]}),v.completed_at&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4 text-success"}),s.jsxs("span",{children:["Completed ",le(new Date(v.completed_at),"dd MMM yyyy")]})]})]}),s.jsx("div",{className:"mt-auto",children:b==="assigned"?s.jsxs(I,{className:"w-full",onClick:()=>h(v),children:[s.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Start Course"]}):b==="in_progress"||b==="overdue"?s.jsx(I,{asChild:!0,className:"w-full",children:s.jsxs(On,{to:`/portal/training/${v.id}`,children:[s.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Continue"]})}):s.jsx(I,{variant:"outline",asChild:!0,className:"w-full",children:s.jsx(On,{to:`/portal/training/${v.id}`,children:"View Certificate"})})})]})]},v.id)})})})]})]})}function kFe(){var A;const[e,t]=y.useState(!0),[r,n]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState({}),[h,m]=y.useState(!1),[g,p]=y.useState(""),[v,b]=y.useState(""),[x,w]=y.useState("Australia/Sydney"),[_,j]=y.useState(!1),{addOrganisation:N}=jH(),{toast:S}=cr();y.useEffect(()=>{k()},[]);const k=async()=>{var E,R,$,B,F,L,D,T,U,Q,K,oe;try{const{data:{user:W}}=await M.auth.getUser();if(!W)return;const{data:fe}=await M.from("profiles").select("*").eq("user_id",W.id).maybeSingle(),Se={email:W.email||"",display_name:(fe==null?void 0:fe.display_name)||((E=W.user_metadata)==null?void 0:E.display_name)||((R=W.email)==null?void 0:R.split("@")[0])||"",avatar_url:(fe==null?void 0:fe.avatar_url)||(($=W.user_metadata)==null?void 0:$.avatar_url),phone:(B=W.user_metadata)==null?void 0:B.phone,address:(F=W.user_metadata)==null?void 0:F.address,emergency_contact_name:(L=W.user_metadata)==null?void 0:L.emergency_contact_name,emergency_contact_phone:(D=W.user_metadata)==null?void 0:D.emergency_contact_phone,emergency_contact_relationship:(T=W.user_metadata)==null?void 0:T.emergency_contact_relationship,department:(U=W.user_metadata)==null?void 0:U.department,position:(Q=W.user_metadata)==null?void 0:Q.position,start_date:(K=W.user_metadata)==null?void 0:K.start_date,employee_id:(oe=W.user_metadata)==null?void 0:oe.employee_id},{data:ue,error:Oe}=await M.rpc("get_user_organisation_id",{_user_id:W.id});if(!Oe&&ue){const{data:se}=await M.from("organisations").select("id, legal_name, trading_name, timezone, status, logo_url").eq("id",ue).maybeSingle();se&&l(se)}i(Se),f(Se)}catch(W){S({title:"Error loading profile",description:W.message,variant:"destructive"})}finally{t(!1)}},C=async()=>{try{n(!0);const{data:{user:E}}=await M.auth.getUser();if(!E)throw new Error("Not authenticated");await M.from("profiles").update({display_name:d.display_name}).eq("user_id",E.id),await M.auth.updateUser({data:{display_name:d.display_name,phone:d.phone,address:d.address,emergency_contact_name:d.emergency_contact_name,emergency_contact_phone:d.emergency_contact_phone,emergency_contact_relationship:d.emergency_contact_relationship}}),i({...a,...d}),u(!1),S({title:"Profile updated successfully"})}catch(E){S({title:"Error saving profile",description:E.message,variant:"destructive"})}finally{n(!1)}},P=async()=>{if(!g.trim()){S({title:"Missing organisation name",description:"Please enter a legal name to continue.",variant:"destructive"});return}j(!0);const E=await N({legal_name:g.trim(),trading_name:v.trim()||null,timezone:x.trim()||null});if(!E.success){S({title:"Error",description:"Failed to add organisation. Please try again.",variant:"destructive"}),j(!1);return}l({id:E.data.id,legal_name:E.data.legal_name,trading_name:E.data.trading_name??null,timezone:E.data.timezone??null,status:E.data.status??null,logo_url:E.data.logo_url??null}),m(!1),j(!1),S({title:"Organisation added"})};return e?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-32 w-full"}),s.jsx(It,{className:"h-64 w-full"}),s.jsx(It,{className:"h-48 w-full"})]}):a?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your personal information"})]}),c?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>{f(a),u(!1)},children:"Cancel"}),s.jsxs(I,{onClick:C,disabled:r,children:[s.jsx(DF,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]}):s.jsx(I,{onClick:()=>u(!0),children:"Edit Profile"})]}),s.jsx(G,{children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(Pr,{className:"h-20 w-20",children:[s.jsx(Kg,{src:a.avatar_url}),s.jsx(Ar,{className:"text-xl",children:((A=a.display_name)==null?void 0:A.split(" ").map(E=>E[0]).join(""))||"U"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:a.display_name}),s.jsx("p",{className:"text-muted-foreground",children:a.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.position&&s.jsx(de,{variant:"outline",children:a.position}),a.department&&s.jsx(de,{variant:"secondary",children:a.department})]})]})]})})}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ns,{className:"h-5 w-5"}),"Personal Information"]}),s.jsx(Fe,{children:"Your contact details and personal info"})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Display Name"}),c?s.jsx(Z,{value:d.display_name||"",onChange:E=>f({...d,display_name:E.target.value})}):s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.display_name})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(hu,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.email}),s.jsx(de,{variant:"outline",className:"ml-auto text-xs",children:"Read-only"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Phone"}),c?s.jsx(Z,{value:d.phone||"",onChange:E=>f({...d,phone:E.target.value}),placeholder:"Enter phone number"}):s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.phone||"Not provided"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Address"}),c?s.jsx(Z,{value:d.address||"",onChange:E=>f({...d,address:E.target.value}),placeholder:"Enter address"}):s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(PF,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.address||"Not provided"})]})]})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(uu,{className:"h-5 w-5"}),"Emergency Contact"]}),s.jsx(Fe,{children:"Contact in case of emergency"})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Contact Name"}),c?s.jsx(Z,{value:d.emergency_contact_name||"",onChange:E=>f({...d,emergency_contact_name:E.target.value}),placeholder:"Full name"}):s.jsx("div",{className:"p-2 bg-muted/50 rounded-md",children:a.emergency_contact_name||"Not provided"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Phone Number"}),c?s.jsx(Z,{value:d.emergency_contact_phone||"",onChange:E=>f({...d,emergency_contact_phone:E.target.value}),placeholder:"Phone number"}):s.jsx("div",{className:"p-2 bg-muted/50 rounded-md",children:a.emergency_contact_phone||"Not provided"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Relationship"}),c?s.jsx(Z,{value:d.emergency_contact_relationship||"",onChange:E=>f({...d,emergency_contact_relationship:E.target.value}),placeholder:"e.g., Spouse, Parent"}):s.jsx("div",{className:"p-2 bg-muted/50 rounded-md",children:a.emergency_contact_relationship||"Not provided"})]})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Xm,{className:"h-5 w-5"}),"Organisation Information"]}),s.jsx(Fe,{children:"Your organisation details (read-only)"})]}),s.jsx(X,{className:"space-y-4",children:o?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Legal Name"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:o.legal_name})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Trading Name"}),s.jsx("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:s.jsx("span",{children:o.trading_name||"Not available"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Timezone"}),s.jsx("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:s.jsx("span",{children:o.timezone||"Not available"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Status"}),s.jsx("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:s.jsx("span",{className:"capitalize",children:o.status||"Not available"})})]})]}):h?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Legal Name"}),s.jsx(Z,{value:g,onChange:E=>p(E.target.value),placeholder:"Enter legal name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Trading Name"}),s.jsx(Z,{value:v,onChange:E=>b(E.target.value),placeholder:"Enter trading name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Timezone"}),s.jsx(Z,{value:x,onChange:E=>w(E.target.value),placeholder:"e.g., Australia/Sydney"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(I,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(I,{onClick:P,disabled:_,children:_?"Saving...":"Save Organisation"})]})]}):s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No organisation is linked to your profile yet."}),s.jsx("div",{children:s.jsx(I,{onClick:()=>m(!0),children:"Add Organisation"})})]})})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Hl,{className:"h-5 w-5"}),"Employment Information"]}),s.jsx(Fe,{children:"Your role and employment details (read-only)"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Employee ID"}),s.jsx("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:s.jsx("span",{children:a.employee_id||"Not assigned"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Position"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.position||"Not assigned"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Department"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.department||"Not assigned"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Start Date"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-md",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:a.start_date?le(new Date(a.start_date),"dd MMMM yyyy"):"Not provided"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Employment details are managed by HR. Contact your manager to request changes."})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(uu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{children:"Unable to load profile"})]})}function EFe(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:{user:o}}=await M.auth.getUser();if(!(o!=null&&o.email)){n(!1);return}const{data:l,error:c}=await M.from("performance_reviews").select("*").eq("employee_email",o.email).order("created_at",{ascending:!1});if(c)throw c;t(l||[])}catch(o){a({title:"Error fetching reviews",description:o.message,variant:"destructive"})}finally{n(!1)}},[a]);return y.useEffect(()=>{i()},[i]),{reviews:e,loading:r,refetch:i}}function kH(e){const[t,r]=y.useState(null),[n,a]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(null),[u,d]=y.useState(!0),{toast:f}=cr(),h=y.useCallback(async()=>{if(!e){d(!1);return}try{d(!0);const{data:{user:m}}=await M.auth.getUser();if(!(m!=null&&m.email)){d(!1);return}const{data:g,error:p}=await M.from("performance_reviews").select("*").eq("id",e).maybeSingle();if(p)throw p;if(r(g),!g){d(!1);return}const[v,b,x]=await Promise.all([M.from("review_goals").select("*").eq("review_id",e).order("created_at",{ascending:!0}),M.from("competency_ratings").select("*, competency:competencies(*)").eq("review_id",e),M.from("review_feedback").select("*").eq("review_id",e).eq("responder_email",m.email).eq("feedback_type","self").maybeSingle()]);if(v.error)throw v.error;if(b.error)throw b.error;if(x.error)throw x.error;a(v.data||[]),o(b.data||[]),c(x.data)}catch(m){f({title:"Error fetching review details",description:m.message,variant:"destructive"})}finally{d(!1)}},[e,f]);return y.useEffect(()=>{h()},[h]),{review:t,goals:n,ratings:i,selfAssessment:l,loading:u,refetch:h}}function PFe(e){const{toast:t}=cr(),[r,n]=y.useState(!1);return{submitSelfAssessment:async i=>{var o;if(!e)return null;try{n(!0);const{data:{user:l}}=await M.auth.getUser();if(!(l!=null&&l.email))throw new Error("Not authenticated");const{data:c}=await M.from("review_feedback").select("id").eq("review_id",e).eq("responder_email",l.email).eq("feedback_type","self").maybeSingle();if(c){const{data:u,error:d}=await M.from("review_feedback").update({overall_rating:i.overall_rating,strengths:i.strengths,areas_for_improvement:i.areas_for_improvement,additional_comments:i.additional_comments,status:"submitted",submitted_at:new Date().toISOString()}).eq("id",c.id).select().single();if(d)throw d;return t({title:"Self-assessment updated successfully"}),u}else{const u=((o=l.user_metadata)==null?void 0:o.display_name)||l.email.split("@")[0],{data:d,error:f}=await M.from("review_feedback").insert({review_id:e,feedback_type:"self",responder_name:u,responder_email:l.email,relationship_to_employee:"Self",overall_rating:i.overall_rating,strengths:i.strengths,areas_for_improvement:i.areas_for_improvement,additional_comments:i.additional_comments,is_anonymous:!1,status:"submitted",submitted_at:new Date().toISOString()}).select().single();if(f)throw f;return t({title:"Self-assessment submitted successfully"}),d}}catch(l){return t({title:"Error submitting self-assessment",description:l.message,variant:"destructive"}),null}finally{n(!1)}},submitting:r}}const f$={draft:{label:"Draft",color:"bg-muted text-muted-foreground"},in_progress:{label:"In Progress",color:"bg-info/10 text-info"},pending_approval:{label:"Pending Approval",color:"bg-warning/10 text-warning"},completed:{label:"Completed",color:"bg-success/10 text-success"}},h$={not_started:{label:"Not Started",color:"bg-muted"},in_progress:{label:"In Progress",color:"bg-info"},completed:{label:"Completed",color:"bg-success"},deferred:{label:"Deferred",color:"bg-warning"}};function AFe({review:e,open:t,onOpenChange:r,onStartSelfAssessment:n}){const{goals:a,ratings:i,selfAssessment:o,loading:l}=kH(e.id),c=f$[e.status]||f$.draft;return s.jsx(Do,{open:t,onOpenChange:r,children:s.jsxs(Bi,{className:"w-full sm:max-w-xl overflow-y-auto",children:[s.jsxs(zi,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Vi,{className:"capitalize",children:[e.review_type," Review"]}),s.jsx(de,{className:c.color,children:c.label})]}),s.jsxs(Ro,{children:["Review period: ",le(new Date(e.review_period_start),"MMM d, yyyy")," - ",le(new Date(e.review_period_end),"MMM d, yyyy")]})]}),l?s.jsxs("div",{className:"space-y-4 mt-6",children:[s.jsx(It,{className:"h-24"}),s.jsx(It,{className:"h-32"}),s.jsx(It,{className:"h-32"})]}):s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(ns,{className:"h-4 w-4"}),"Review Overview"]})}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Reviewer"}),s.jsx("p",{className:"font-medium",children:e.reviewer_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Position"}),s.jsx("p",{className:"font-medium",children:e.employee_position||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium",children:e.employee_department||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Created"}),s.jsx("p",{className:"font-medium",children:le(new Date(e.created_at),"MMM d, yyyy")})]})]}),e.overall_rating&&s.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center gap-1 text-warning",children:[s.jsx(Hs,{className:"h-6 w-6 fill-current"}),s.jsx("span",{className:"text-2xl font-bold",children:e.overall_rating.toFixed(1)})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 5.0 Overall Rating"})]})]})]}),s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(Bg,{className:"h-4 w-4"}),"Self-Assessment"]})}),s.jsx(X,{children:o?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-success",children:[s.jsx(bt,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Submitted"}),o.submitted_at&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["on ",le(new Date(o.submitted_at),"MMM d, yyyy")]})]}),o.overall_rating&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"h-4 w-4 text-warning fill-current"}),s.jsxs("span",{children:["Self-Rating: ",o.overall_rating.toFixed(1),"/5"]})]}),o.strengths&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Strengths"}),s.jsx("p",{className:"text-sm",children:o.strengths})]}),o.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Areas for Improvement"}),s.jsx("p",{className:"text-sm",children:o.areas_for_improvement})]})]}):s.jsxs("div",{className:"flex flex-col items-center py-4 text-center",children:[s.jsx(uu,{className:"h-8 w-8 text-warning mb-2"}),s.jsx("p",{className:"font-medium",children:"Self-assessment not submitted"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Share your perspective on your performance"}),e.status!=="completed"&&n&&s.jsx(I,{onClick:n,children:"Start Self-Assessment"})]})})]}),a.length>0&&s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(Zs,{className:"h-4 w-4"}),"Goals (",a.length,")"]})}),s.jsx(X,{className:"space-y-4",children:a.map(u=>{const d=h$[u.status]||h$.not_started;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.title}),u.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]}),s.jsx(de,{variant:"outline",className:"shrink-0",children:d.label})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gs,{value:u.progress_percentage,className:"h-2 flex-1"}),s.jsxs("span",{className:"text-xs text-muted-foreground w-10",children:[u.progress_percentage,"%"]})]}),u.target_date&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Ht,{className:"h-3 w-3"}),"Target: ",le(new Date(u.target_date),"MMM d, yyyy")]})]},u.id)})})]}),i.length>0&&s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsxs(pe,{className:"text-base flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4"}),"Competency Ratings"]})}),s.jsx(X,{className:"space-y-4",children:i.map(u=>{var d,f;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium",children:((d=u.competency)==null?void 0:d.name)||"Unknown Competency"}),u.rating&&s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(h=>s.jsx(Hs,{className:`h-4 w-4 ${h<=u.rating?"text-warning fill-current":"text-muted"}`},h))})]}),((f=u.competency)==null?void 0:f.description)&&s.jsx("p",{className:"text-xs text-muted-foreground",children:u.competency.description}),u.comments&&s.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:u.comments})]},u.id)})})]}),e.status==="completed"&&s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsx(pe,{className:"text-base",children:"Manager Feedback"})}),s.jsxs(X,{className:"space-y-4",children:[e.overall_feedback&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Overall Feedback"}),s.jsx("p",{className:"text-sm",children:e.overall_feedback})]}),e.strengths&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Strengths"}),s.jsx("p",{className:"text-sm",children:e.strengths})]}),e.areas_for_improvement&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Areas for Improvement"}),s.jsx("p",{className:"text-sm",children:e.areas_for_improvement})]}),e.development_plan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Development Plan"}),s.jsx("p",{className:"text-sm",children:e.development_plan})]})]})]}),e.employee_comments&&s.jsxs(G,{children:[s.jsx(he,{className:"pb-3",children:s.jsx(pe,{className:"text-base",children:"Your Comments"})}),s.jsx(X,{children:s.jsx("p",{className:"text-sm",children:e.employee_comments})})]})]})]})})}function OFe({review:e,open:t,onOpenChange:r}){const{selfAssessment:n,refetch:a}=kH(e.id),{submitSelfAssessment:i,submitting:o}=PFe(e.id),[l,c]=y.useState(0),[u,d]=y.useState(0),[f,h]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState("");y.useEffect(()=>{n?(c(n.overall_rating||0),h(n.strengths||""),g(n.areas_for_improvement||""),v(n.additional_comments||"")):(c(0),h(""),g(""),v(""))},[n,t]);const b=async()=>{if(l===0||!f.trim()||!m.trim())return;await i({overall_rating:l,strengths:f.trim(),areas_for_improvement:m.trim(),additional_comments:p.trim()||void 0})&&(a(),r(!1))},x=l>0&&f.trim().length>0&&m.trim().length>0;return s.jsx(Mt,{open:t,onOpenChange:r,children:s.jsxs(At,{className:"sm:max-w-lg",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Self-Assessment"}),s.jsx(Dt,{children:"Reflect on your performance during this review period. Your input helps provide a complete picture of your achievements and growth areas."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Overall Self-Rating *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"How would you rate your overall performance?"}),s.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(w=>s.jsx("button",{type:"button",onClick:()=>c(w),onMouseEnter:()=>d(w),onMouseLeave:()=>d(0),className:"p-1 transition-transform hover:scale-110",children:s.jsx(Hs,{className:`h-8 w-8 transition-colors ${w<=(u||l)?"text-warning fill-current":"text-muted-foreground"}`})},w)),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:l>0?`${l}/5`:"Select a rating"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"strengths",children:"Key Strengths *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"What do you consider your main achievements and strengths during this period?"}),s.jsx(_t,{id:"strengths",value:f,onChange:w=>h(w.target.value),placeholder:"Describe your key accomplishments and areas where you excelled...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"improvements",children:"Areas for Improvement *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"What areas would you like to develop or improve?"}),s.jsx(_t,{id:"improvements",value:m,onChange:w=>g(w.target.value),placeholder:"Describe areas where you'd like to grow or challenges you faced...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"comments",children:"Additional Comments (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Any other thoughts you'd like to share with your reviewer?"}),s.jsx(_t,{id:"comments",value:p,onChange:w=>v(w.target.value),placeholder:"Additional context, goals for next period, or feedback...",rows:3})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(I,{onClick:b,disabled:!x||o,children:[o&&s.jsx(Xe,{className:"h-4 w-4 mr-2 animate-spin"}),n?"Update Assessment":"Submit Assessment"]})]})]})})}const m$={draft:{label:"Draft",variant:"secondary",icon:dt},in_progress:{label:"In Progress",variant:"default",icon:wt},pending_approval:{label:"Pending Approval",variant:"outline",icon:wt},completed:{label:"Completed",variant:"default",icon:bt}},TFe={performance:"Performance Review",annual:"Annual Review",probation:"Probation Review"};function DFe(){const{reviews:e,loading:t}=EFe(),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState(null),d=e.filter(g=>g.status!=="completed"),f=e.filter(g=>g.status==="completed"),h=g=>{n(g),i(!0)},m=g=>{u(g),l(!0)};return t?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-20 w-full"}),s.jsx("div",{className:"grid gap-4",children:[1,2,3].map(g=>s.jsx(It,{className:"h-32"},g))})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Performance Reviews"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"View your performance reviews and submit self-assessments"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(du,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]})]})}),s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-info/10",children:s.jsx(wt,{className:"h-5 w-5 text-info"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]})]})}),s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-success/10",children:s.jsx(bt,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})]}),s.jsxs(jn,{defaultValue:"active",className:"space-y-4",children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"active",className:"flex items-center gap-2",children:[s.jsx(wt,{className:"h-4 w-4"}),"Active (",d.length,")"]}),s.jsxs(Be,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Completed (",f.length,")"]})]}),s.jsx(et,{value:"active",className:"space-y-4",children:d.length===0?s.jsx(G,{children:s.jsxs(X,{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(du,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-semibold text-lg",children:"No Active Reviews"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"You don't have any performance reviews in progress"})]})}):d.map(g=>s.jsx(p$,{review:g,onViewDetails:h,onStartSelfAssessment:m},g.id))}),s.jsx(et,{value:"completed",className:"space-y-4",children:f.length===0?s.jsx(G,{children:s.jsxs(X,{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(bt,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-semibold text-lg",children:"No Completed Reviews"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Your completed performance reviews will appear here"})]})}):f.map(g=>s.jsx(p$,{review:g,onViewDetails:h,onStartSelfAssessment:m},g.id))})]}),r&&s.jsx(AFe,{review:r,open:a,onOpenChange:i,onStartSelfAssessment:()=>{i(!1),m(r)}}),c&&s.jsx(OFe,{review:c,open:o,onOpenChange:l})]})}function p$({review:e,onViewDetails:t,onStartSelfAssessment:r}){const n=m$[e.status]||m$.draft,a=n.icon;return s.jsx(G,{className:"hover:shadow-md transition-shadow",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold",children:TFe[e.review_type]||e.review_type}),s.jsxs(de,{variant:n.variant,className:"flex items-center gap-1",children:[s.jsx(a,{className:"h-3 w-3"}),n.label]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[le(new Date(e.review_period_start),"MMM d, yyyy")," - ",le(new Date(e.review_period_end),"MMM d, yyyy")]})]}),e.overall_rating&&s.jsxs("div",{className:"flex items-center gap-1 text-warning",children:[s.jsx(Hs,{className:"h-5 w-5 fill-current"}),s.jsx("span",{className:"font-semibold",children:e.overall_rating.toFixed(1)})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsxs("span",{children:["Reviewer: ",e.reviewer_name]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsxs("span",{children:["Created: ",le(new Date(e.created_at),"MMM d, yyyy")]})]})]}),e.overall_feedback&&s.jsx("p",{className:"text-sm line-clamp-2",children:e.overall_feedback})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.status!=="completed"&&s.jsxs(I,{variant:"outline",onClick:()=>r(e),children:[s.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Self-Assessment"]}),s.jsxs(I,{onClick:()=>t(e),children:["View Details",s.jsx(Oo,{className:"h-4 w-4 ml-2"})]})]})]})})})}function Z_(e){return!e||!Array.isArray(e)?[]:e.map(t=>typeof t=="object"&&t!==null&&!Array.isArray(t)?{id:String(t.id||""),title:String(t.title||""),completed:!!t.completed,completed_at:t.completed_at?String(t.completed_at):void 0}:{id:"",title:"",completed:!1})}function g$(e){return e.map(t=>({id:t.id,title:t.title,completed:t.completed,completed_at:t.completed_at||null}))}function RFe(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),{toast:a}=cr(),i=y.useCallback(async()=>{try{n(!0);const{data:{user:d}}=await M.auth.getUser();if(!d)return;const{data:f,error:h}=await M.from("employee_goals").select("*").eq("user_id",d.id).order("created_at",{ascending:!1});if(h)throw h;t((f||[]).map(m=>({...m,milestones:Z_(m.milestones),status:m.status,priority:m.priority})))}catch(d){console.error("Error fetching goals:",d),a({title:"Error",description:"Failed to load goals",variant:"destructive"})}finally{n(!1)}},[a]);y.useEffect(()=>{i()},[i]);const o=async d=>{try{const{data:{user:f}}=await M.auth.getUser();if(!f)throw new Error("Not authenticated");const{data:h,error:m}=await M.from("employee_goals").insert({user_id:f.id,title:d.title,description:d.description||null,category:d.category||"professional",target_date:d.target_date||null,priority:d.priority||"medium",milestones:g$(d.milestones||[])}).select().single();if(m)throw m;const g={...h,milestones:Z_(h.milestones),status:h.status,priority:h.priority};return t(p=>[g,...p]),a({title:"Goal Created",description:"Your development goal has been created successfully."}),g}catch(f){throw console.error("Error creating goal:",f),a({title:"Error",description:"Failed to create goal",variant:"destructive"}),f}},l=async(d,f)=>{try{const h={...f};f.milestones&&(h.milestones=g$(f.milestones));const{data:m,error:g}=await M.from("employee_goals").update(h).eq("id",d).select().single();if(g)throw g;const p={...m,milestones:Z_(m.milestones),status:m.status,priority:m.priority};return t(v=>v.map(b=>b.id===d?p:b)),a({title:"Goal Updated",description:"Your goal has been updated successfully."}),p}catch(h){throw console.error("Error updating goal:",h),a({title:"Error",description:"Failed to update goal",variant:"destructive"}),h}};return{goals:e,loading:r,createGoal:o,updateGoal:l,deleteGoal:async d=>{try{const{error:f}=await M.from("employee_goals").delete().eq("id",d);if(f)throw f;t(h=>h.filter(m=>m.id!==d)),a({title:"Goal Deleted",description:"Your goal has been deleted."})}catch(f){throw console.error("Error deleting goal:",f),a({title:"Error",description:"Failed to delete goal",variant:"destructive"}),f}},toggleMilestone:async(d,f)=>{const h=e.find(v=>v.id===d);if(!h)return;const m=h.milestones.map(v=>v.id===f?{...v,completed:!v.completed,completed_at:v.completed?void 0:new Date().toISOString()}:v),g=m.filter(v=>v.completed).length,p=m.length>0?Math.round(g/m.length*100):h.progress_percentage;await l(d,{milestones:m,progress_percentage:p,status:p===100?"completed":p>0?"in_progress":"not_started"})},refetch:i}}function MFe({open:e,onOpenChange:t,onCreateGoal:r}){const[n,a]=y.useState(!1),[i,o]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState("professional"),[f,h]=y.useState("medium"),[m,g]=y.useState(""),[p,v]=y.useState([]),[b,x]=y.useState(""),w=()=>{o(""),c(""),d("professional"),h("medium"),g(""),v([]),x("")},_=()=>{b.trim()&&(v(S=>[...S,{id:crypto.randomUUID(),title:b.trim(),completed:!1}]),x(""))},j=S=>{v(k=>k.filter(C=>C.id!==S))},N=async S=>{if(S.preventDefault(),!!i.trim()){a(!0);try{await r({title:i.trim(),description:l.trim()||void 0,category:u,priority:f,target_date:m||void 0,milestones:p}),w(),t(!1)}finally{a(!1)}}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Development Goal"}),s.jsx(Dt,{children:"Set a new personal or professional development goal to track your growth."})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"title",children:"Goal Title *"}),s.jsx(Z,{id:"title",value:i,onChange:S=>o(S.target.value),placeholder:"e.g., Complete AWS Certification",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"description",children:"Description"}),s.jsx(_t,{id:"description",value:l,onChange:S=>c(S.target.value),placeholder:"Describe your goal and why it's important...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"category",children:"Category"}),s.jsxs($e,{value:u,onValueChange:d,children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"professional",children:"Professional Development"}),s.jsx(H,{value:"technical",children:"Technical Skills"}),s.jsx(H,{value:"leadership",children:"Leadership"}),s.jsx(H,{value:"personal",children:"Personal Growth"}),s.jsx(H,{value:"certification",children:"Certification"}),s.jsx(H,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"priority",children:"Priority"}),s.jsxs($e,{value:f,onValueChange:S=>h(S),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"low",children:"Low"}),s.jsx(H,{value:"medium",children:"Medium"}),s.jsx(H,{value:"high",children:"High"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"targetDate",children:"Target Date"}),s.jsx(Z,{id:"targetDate",type:"date",value:m,onChange:S=>g(S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Milestones (Optional)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{value:b,onChange:S=>x(S.target.value),placeholder:"Add a milestone...",onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),_())}}),s.jsx(I,{type:"button",variant:"outline",size:"icon",onClick:_,children:s.jsx(xt,{className:"h-4 w-4"})})]}),p.length>0&&s.jsx("div",{className:"space-y-2 mt-2",children:p.map((S,k)=>s.jsxs("div",{className:"flex items-center gap-2 bg-muted p-2 rounded-md",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[k+1,"."]}),s.jsx("span",{className:"flex-1 text-sm",children:S.title}),s.jsx(I,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>j(S.id),children:s.jsx(Un,{className:"h-3 w-3"})})]},S.id))})]}),s.jsxs(ir,{children:[s.jsx(I,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{type:"submit",disabled:n||!i.trim(),children:n?"Creating...":"Create Goal"})]})]})]})})}var EH=["PageUp","PageDown"],PH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],AH={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Vh="Slider",[CC,$Fe,IFe]=ch(Vh),[OH,G3e]=Vr(Vh,[IFe]),[LFe,nj]=OH(Vh),TH=y.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:g,...p}=e,v=y.useRef(new Set),b=y.useRef(0),w=o==="horizontal"?FFe:UFe,[_=[],j]=Vn({prop:d,defaultProp:u,onChange:A=>{var R;(R=[...v.current][b.current])==null||R.focus(),f(A)}}),N=y.useRef(_);function S(A){const E=WFe(_,A);P(A,E)}function k(A){P(A,b.current)}function C(){const A=N.current[b.current];_[b.current]!==A&&h(_)}function P(A,E,{commit:R}={commit:!1}){const $=YFe(i),B=XFe(Math.round((A-n)/i)*i+n,$),F=Kp(B,[n,a]);j((L=[])=>{const D=VFe(L,F,E);if(GFe(D,c*i)){b.current=D.indexOf(F);const T=String(D)!==String(L);return T&&R&&h(D),T?D:L}else return L})}return s.jsx(LFe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:_,orientation:o,form:g,children:s.jsx(CC.Provider,{scope:e.__scopeSlider,children:s.jsx(CC.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:me(p.onPointerDown,()=>{l||(N.current=_)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:S,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&P(n,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,_.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:E})=>{if(!l){const B=EH.includes(A.key)||A.shiftKey&&PH.includes(A.key)?10:1,F=b.current,L=_[F],D=i*B*E;P(L+D,F,{commit:!0})}}})})})})});TH.displayName=Vh;var[DH,RH]=OH(Vh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),FFe=y.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=y.useState(null),m=He(t,w=>h(w)),g=y.useRef(void 0),p=nc(a),v=p==="ltr",b=v&&!i||!v&&i;function x(w){const _=g.current||f.getBoundingClientRect(),j=[0,_.width],S=iA(j,b?[r,n]:[n,r]);return g.current=_,S(w-_.left)}return s.jsx(DH,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(MH,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=x(w.clientX);o==null||o(_)},onSlideMove:w=>{const _=x(w.clientX);l==null||l(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=AH[b?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),UFe=y.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),f=He(t,d),h=y.useRef(void 0),m=!a;function g(p){const v=h.current||d.current.getBoundingClientRect(),b=[0,v.height],w=iA(b,m?[n,r]:[r,n]);return h.current=v,w(p-v.top)}return s.jsx(DH,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(MH,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=g(p.clientY);i==null||i(v)},onSlideMove:p=>{const v=g(p.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=AH[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),MH=y.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=nj(Vh,r);return s.jsx(Ce.span,{...u,ref:t,onKeyDown:me(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):EH.concat(PH).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:me(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:me(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:me(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),$H="SliderTrack",IH=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=nj($H,r);return s.jsx(Ce.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});IH.displayName=$H;var kC="SliderRange",LH=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=nj(kC,r),i=RH(kC,r),o=y.useRef(null),l=He(t,o),c=a.values.length,u=a.values.map(h=>BH(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Ce.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});LH.displayName=kC;var EC="SliderThumb",FH=y.forwardRef((e,t)=>{const r=$Fe(e.__scopeSlider),[n,a]=y.useState(null),i=He(t,l=>a(l)),o=y.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(BFe,{...e,ref:i,index:o})}),BFe=y.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=nj(EC,r),l=RH(EC,r),[c,u]=y.useState(null),d=He(t,x=>u(x)),f=c?o.form||!!c.closest("form"):!0,h=Vg(c),m=o.values[n],g=m===void 0?0:BH(m,o.min,o.max),p=qFe(n,o.values.length),v=h==null?void 0:h[l.size],b=v?HFe(v,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[s.jsx(CC.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ce.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:me(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(UH,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});FH.displayName=EC;var zFe="RadioBubbleInput",UH=y.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=y.useRef(null),i=He(a,n),o=ev(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Ce.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});UH.displayName=zFe;function VFe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function BH(e,t,r){const i=100/(r-t)*(e-t);return Kp(i,[0,100])}function qFe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function WFe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function HFe(e,t,r){const n=e/2,i=iA([0,50],[0,n]);return(n-i(t)*r)*r}function KFe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function GFe(e,t){if(t>0){const r=KFe(e);return Math.min(...r)>=t}return!0}function iA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function YFe(e){return(String(e).split(".")[1]||"").length}function XFe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var zH=TH,QFe=IH,ZFe=LH,JFe=FH;const VH=y.forwardRef(({className:e,...t},r)=>s.jsxs(zH,{ref:r,className:ne("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(QFe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(ZFe,{className:"absolute h-full bg-primary"})}),s.jsx(JFe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));VH.displayName=zH.displayName;const v$={not_started:{label:"Not Started",variant:"secondary",icon:wt},in_progress:{label:"In Progress",variant:"default",icon:Js},completed:{label:"Completed",variant:"default",icon:bt},on_hold:{label:"On Hold",variant:"outline",icon:j0}},e3e={professional:"Professional Development",technical:"Technical Skills",leadership:"Leadership",personal:"Personal Growth",certification:"Certification",other:"Other"};function t3e({goal:e,open:t,onOpenChange:r,onUpdate:n,onDelete:a,onToggleMilestone:i}){const[o,l]=y.useState(e.notes||""),[c,u]=y.useState(e.status),[d,f]=y.useState(e.progress_percentage),[h,m]=y.useState(!1),g=v$[e.status]||v$.not_started,p=g.icon,v=async()=>{m(!0);try{await n(e.id,{notes:o})}finally{m(!1)}},b=async _=>{u(_),await n(e.id,{status:_,progress_percentage:_==="completed"?100:d})},x=async _=>{const j=_[0];f(j),await n(e.id,{progress_percentage:j,status:j===100?"completed":j>0?"in_progress":"not_started"})},w=async()=>{await a(e.id),r(!1)};return s.jsx(Do,{open:t,onOpenChange:r,children:s.jsxs(Bi,{className:"w-full sm:max-w-lg overflow-y-auto",children:[s.jsxs(zi,{children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-5 w-5 text-primary"}),s.jsx(Vi,{children:e.title})]})}),s.jsx(Ro,{children:e3e[e.category]||e.category})]}),s.jsxs("div",{className:"space-y-6 py-6",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(de,{variant:g.variant,className:"flex items-center gap-1",children:[s.jsx(p,{className:"h-3 w-3"}),g.label]}),s.jsxs(de,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(NF,{className:"h-3 w-3"}),e.priority.charAt(0).toUpperCase()+e.priority.slice(1)," Priority"]})]}),e.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),e.target_date&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Target: ",le(new Date(e.target_date),"MMMM d, yyyy")]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Progress"}),s.jsxs("span",{className:"text-sm font-medium",children:[d,"%"]})]}),s.jsx(Gs,{value:d,className:"h-3"}),s.jsx(VH,{value:[d],onValueChange:x,max:100,step:5,className:"mt-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Update Status"}),s.jsxs($e,{value:c,onValueChange:b,children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"not_started",children:"Not Started"}),s.jsx(H,{value:"in_progress",children:"In Progress"}),s.jsx(H,{value:"on_hold",children:"On Hold"}),s.jsx(H,{value:"completed",children:"Completed"})]})]})]}),s.jsx(St,{}),e.milestones.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Milestones"}),s.jsx("div",{className:"space-y-2",children:e.milestones.map(_=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx(Mi,{checked:_.completed,onCheckedChange:()=>i(e.id,_.id)}),s.jsx("span",{className:`text-sm flex-1 ${_.completed?"line-through text-muted-foreground":""}`,children:_.title}),_.completed&&_.completed_at&&s.jsx("span",{className:"text-xs text-muted-foreground",children:le(new Date(_.completed_at),"MMM d")})]},_.id))})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"notes",children:"Notes"}),s.jsx(_t,{id:"notes",value:o,onChange:_=>l(_.target.value),placeholder:"Add notes about your progress, reflections, or next steps...",rows:4}),s.jsx(I,{variant:"outline",size:"sm",onClick:v,disabled:h||o===e.notes,children:h?"Saving...":"Save Notes"})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Created: ",le(new Date(e.created_at),"MMMM d, yyyy")]}),s.jsxs("p",{children:["Last Updated: ",le(new Date(e.updated_at),"MMMM d, yyyy")]})]}),s.jsxs(Pc,{children:[s.jsx(_8,{asChild:!0,children:s.jsxs(I,{variant:"destructive",className:"w-full",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Delete Goal"]})}),s.jsxs(sl,{children:[s.jsxs(al,{children:[s.jsx(ol,{children:"Delete Goal?"}),s.jsx(ll,{children:"This action cannot be undone. This will permanently delete your goal and all associated milestones."})]}),s.jsxs(il,{children:[s.jsx(ul,{children:"Cancel"}),s.jsx(cl,{onClick:w,children:"Delete"})]})]})]})]})]})})}const y$={not_started:{label:"Not Started",variant:"secondary",icon:wt},in_progress:{label:"In Progress",variant:"default",icon:Js},completed:{label:"Completed",variant:"default",icon:bt},on_hold:{label:"On Hold",variant:"outline",icon:j0}},x$={low:{label:"Low",color:"text-muted-foreground"},medium:{label:"Medium",color:"text-warning"},high:{label:"High",color:"text-destructive"}},r3e={professional:"Professional Development",technical:"Technical Skills",leadership:"Leadership",personal:"Personal Growth",certification:"Certification",other:"Other"};function n3e(){const{goals:e,loading:t,createGoal:r,updateGoal:n,deleteGoal:a,toggleMilestone:i}=RFe(),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),h=e.filter(v=>v.status!=="completed"),m=e.filter(v=>v.status==="completed"),g={total:e.length,inProgress:e.filter(v=>v.status==="in_progress").length,completed:m.length,avgProgress:e.length>0?Math.round(e.reduce((v,b)=>v+b.progress_percentage,0)/e.length):0},p=v=>{u(v),f(!0)};return t?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-20 w-full"}),s.jsx("div",{className:"grid gap-4",children:[1,2,3].map(v=>s.jsx(It,{className:"h-32"},v))})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Development Goals"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Set and track your personal development objectives"})]}),s.jsxs(I,{onClick:()=>l(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"New Goal"]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(Zs,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:g.total}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Goals"})]})]})}),s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-info/10",children:s.jsx(Js,{className:"h-5 w-5 text-info"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:g.inProgress}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]})]})}),s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-success/10",children:s.jsx(bt,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:g.completed}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})}),s.jsx(G,{children:s.jsxs(X,{className:"flex items-center gap-4 p-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-warning/10",children:s.jsx(NF,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[g.avgProgress,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Progress"})]})]})})]}),s.jsxs(jn,{defaultValue:"active",className:"space-y-4",children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"active",className:"flex items-center gap-2",children:[s.jsx(Js,{className:"h-4 w-4"}),"Active (",h.length,")"]}),s.jsxs(Be,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Completed (",m.length,")"]})]}),s.jsx(et,{value:"active",className:"space-y-4",children:h.length===0?s.jsx(G,{children:s.jsxs(X,{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Zs,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-semibold text-lg",children:"No Active Goals"}),s.jsx("p",{className:"text-muted-foreground mt-1 mb-4",children:"Start by creating your first development goal"}),s.jsxs(I,{onClick:()=>l(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Create Goal"]})]})}):h.map(v=>s.jsx(b$,{goal:v,onViewDetails:p},v.id))}),s.jsx(et,{value:"completed",className:"space-y-4",children:m.length===0?s.jsx(G,{children:s.jsxs(X,{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(bt,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"font-semibold text-lg",children:"No Completed Goals"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Your completed goals will appear here"})]})}):m.map(v=>s.jsx(b$,{goal:v,onViewDetails:p},v.id))})]}),s.jsx(MFe,{open:o,onOpenChange:l,onCreateGoal:r}),c&&s.jsx(t3e,{goal:c,open:d,onOpenChange:f,onUpdate:n,onDelete:a,onToggleMilestone:i})]})}function b$({goal:e,onViewDetails:t}){const r=y$[e.status]||y$.not_started,n=x$[e.priority]||x$.medium,a=r.icon;return s.jsx(G,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(e),children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"font-semibold",children:e.title}),s.jsxs(de,{variant:r.variant,className:"flex items-center gap-1",children:[s.jsx(a,{className:"h-3 w-3"}),r.label]}),s.jsxs("span",{className:`text-xs font-medium ${n.color}`,children:[n.label," Priority"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r3e[e.category]||e.category})]})}),e.description&&s.jsx("p",{className:"text-sm line-clamp-2",children:e.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[e.progress_percentage,"%"]})]}),s.jsx(Gs,{value:e.progress_percentage,className:"h-2"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.target_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsxs("span",{children:["Due: ",le(new Date(e.target_date),"MMM d, yyyy")]})]}),e.milestones.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.milestones.filter(i=>i.completed).length,"/",e.milestones.length," milestones"]})]})]})]})})})}function s3e(){const{courses:e,loading:t,createCourse:r,updateCourse:n,deleteCourse:a,publishCourse:i}=SH(),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState("all"),[g,p]=y.useState({title:"",description:"",estimated_duration_minutes:"",pass_mark:"80"}),v=async()=>{await r({title:g.title,description:g.description||null,thumbnail_url:null,estimated_duration_minutes:g.estimated_duration_minutes?parseInt(g.estimated_duration_minutes):null,pass_mark:parseInt(g.pass_mark)||80,is_published:!1,is_active:!0,created_by:null})&&(l(!1),p({title:"",description:"",estimated_duration_minutes:"",pass_mark:"80"}))},b=async()=>{c&&(await n(c.id,{title:g.title,description:g.description||null,estimated_duration_minutes:g.estimated_duration_minutes?parseInt(g.estimated_duration_minutes):null,pass_mark:parseInt(g.pass_mark)||80}),u(null),p({title:"",description:"",estimated_duration_minutes:"",pass_mark:"80"}))},x=async j=>{confirm("Are you sure you want to delete this course?")&&await a(j)},w=j=>{var N,S;u(j),p({title:j.title,description:j.description||"",estimated_duration_minutes:((N=j.estimated_duration_minutes)==null?void 0:N.toString())||"",pass_mark:((S=j.pass_mark)==null?void 0:S.toString())||"80"})},_=e.filter(j=>{const N=j.title.toLowerCase().includes(d.toLowerCase()),S=h==="all"||h==="published"&&j.is_published||h==="draft"&&!j.is_published;return N&&S});return t?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-10 w-full max-w-md"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(j=>s.jsx(It,{className:"h-48"},j))})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Learning Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage training courses"})]}),s.jsxs(I,{onClick:()=>l(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Create Course"]})]}),s.jsxs(jn,{value:h,onValueChange:m,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"all",children:["All Courses (",e.length,")"]}),s.jsxs(Be,{value:"published",children:["Published (",e.filter(j=>j.is_published).length,")"]}),s.jsxs(Be,{value:"draft",children:["Drafts (",e.filter(j=>!j.is_published).length,")"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search courses...",value:d,onChange:j=>f(j.target.value),className:"pl-10 w-[250px]"})]})]}),s.jsx(et,{value:h,className:"mt-6",children:_.length===0?s.jsx(G,{children:s.jsxs(X,{className:"py-12 text-center",children:[s.jsx(bf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("p",{className:"text-muted-foreground",children:"No courses found"}),s.jsxs(I,{className:"mt-4",onClick:()=>l(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Create your first course"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(j=>s.jsxs(G,{className:"flex flex-col",children:[s.jsx(he,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(pe,{className:"text-base line-clamp-2",children:j.title}),j.description&&s.jsx(Fe,{className:"line-clamp-2 mt-1",children:j.description})]}),s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",children:[s.jsx(nt,{asChild:!0,children:s.jsxs(On,{to:`/lms/courses/${j.id}`,children:[s.jsx(Ek,{className:"h-4 w-4 mr-2"}),"Edit Modules"]})}),s.jsxs(nt,{onClick:()=>w(j),children:[s.jsx(Ok,{className:"h-4 w-4 mr-2"}),"Edit Details"]}),s.jsxs(nt,{onClick:()=>x(j.id),className:"text-destructive",children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),s.jsxs(X,{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[j.estimated_duration_minutes&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wt,{className:"h-4 w-4"}),j.estimated_duration_minutes," min"]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{children:["Pass: ",j.pass_mark,"%"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t",children:[s.jsx(de,{variant:j.is_published?"default":"secondary",className:j.is_published?"bg-success/10 text-success":"",children:j.is_published?"Published":"Draft"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(An,{checked:j.is_published,onCheckedChange:N=>i(j.id,N)}),s.jsx("span",{className:"text-sm text-muted-foreground",children:j.is_published?"Live":"Publish"})]})]})]})]},j.id))})})]}),s.jsx(Mt,{open:o||!!c,onOpenChange:j=>{j||(l(!1),u(null),p({title:"",description:"",estimated_duration_minutes:"",pass_mark:"80"}))},children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:c?"Edit Course":"Create New Course"}),s.jsx(Dt,{children:c?"Update course details":"Add a new training course to the LMS"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Course Title *"}),s.jsx(Z,{value:g.title,onChange:j=>p({...g,title:j.target.value}),placeholder:"e.g., NDIS Orientation Training"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Description"}),s.jsx(_t,{value:g.description,onChange:j=>p({...g,description:j.target.value}),placeholder:"Brief description of the course content...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Estimated Duration (minutes)"}),s.jsx(Z,{type:"number",value:g.estimated_duration_minutes,onChange:j=>p({...g,estimated_duration_minutes:j.target.value}),placeholder:"60"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Quiz Pass Mark (%)"}),s.jsx(Z,{type:"number",value:g.pass_mark,onChange:j=>p({...g,pass_mark:j.target.value}),placeholder:"80",min:"0",max:"100"})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>{l(!1),u(null)},children:"Cancel"}),s.jsx(I,{onClick:c?b:v,disabled:!g.title,children:c?"Save Changes":"Create Course"})]})]})})]})}const a3e={video:MF,pdf:dt,policy:Oi,quiz:Ep},i3e={video:"Video",pdf:"PDF/Document",policy:"Policy Acknowledgement",quiz:"Quiz"};function o3e(){const{courseId:e}=q3(),t=li(),{modules:r,loading:n,createModule:a,updateModule:i,deleteModule:o}=bFe(e),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),[m,g]=y.useState(null),[p,v]=y.useState({title:"",description:"",module_type:"video",content_url:"",content_text:"",duration_minutes:"",is_required:!0});y.useEffect(()=>{(async()=>{if(!e)return;const{data:S,error:k}=await M.from("courses").select("*").eq("id",e).single();if(k){console.error("Error fetching course:",k),t("/lms");return}c(S),d(!1)})()},[e,t]);const b=async()=>{if(!e)return;await a({course_id:e,title:p.title,description:p.description||null,module_type:p.module_type,content_url:p.content_url||null,content_text:p.content_text||null,is_required:p.is_required,display_order:r.length,duration_minutes:p.duration_minutes?parseInt(p.duration_minutes):null})&&(h(!1),j())},x=async()=>{m&&(await i(m.id,{title:p.title,description:p.description||null,module_type:p.module_type,content_url:p.content_url||null,content_text:p.content_text||null,is_required:p.is_required,duration_minutes:p.duration_minutes?parseInt(p.duration_minutes):null}),g(null),j())},w=async N=>{confirm("Are you sure you want to delete this module?")&&await o(N)},_=N=>{var S;g(N),v({title:N.title,description:N.description||"",module_type:N.module_type,content_url:N.content_url||"",content_text:N.content_text||"",duration_minutes:((S=N.duration_minutes)==null?void 0:S.toString())||"",is_required:N.is_required})},j=()=>{v({title:"",description:"",module_type:"video",content_url:"",content_text:"",duration_minutes:"",is_required:!0})};return u||n?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-10 w-64"}),s.jsx(It,{className:"h-64"})]}):l?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(On,{to:"/lms",children:s.jsx(Zc,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold",children:l.title}),s.jsx("p",{className:"text-muted-foreground",children:"Course Builder - Add and arrange modules"})]}),s.jsxs(I,{onClick:()=>h(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Add Module"]})]}),s.jsx(G,{children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(de,{variant:l.is_published?"default":"secondary",children:l.is_published?"Published":"Draft"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.length," module",r.length!==1?"s":""]}),l.estimated_duration_minutes&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(wt,{className:"h-4 w-4"}),l.estimated_duration_minutes," min total"]})]}),s.jsx(On,{to:`/lms/courses/${e}/quiz`,children:s.jsxs(I,{variant:"outline",size:"sm",children:[s.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Manage Quiz Questions"]})})]})})}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{children:"Course Modules"}),s.jsx(Fe,{children:"Drag to reorder modules. Learners will complete them in order."})]}),s.jsx(X,{children:r.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(dt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No modules yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Add your first module to start building the course"}),s.jsxs(I,{className:"mt-4",onClick:()=>h(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Add Module"]})]}):s.jsx("div",{className:"space-y-2",children:r.map((N,S)=>{const k=a3e[N.module_type];return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"cursor-grab text-muted-foreground",children:s.jsx($G,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(k,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:N.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(de,{variant:"outline",className:"text-xs",children:i3e[N.module_type]}),N.duration_minutes&&s.jsxs("span",{children:[N.duration_minutes," min"]}),N.is_required&&s.jsx(de,{variant:"secondary",className:"text-xs",children:"Required"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>_(N),children:s.jsx(Ok,{className:"h-4 w-4"})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>w(N.id),children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})]})]},N.id)})})})]}),s.jsx(Mt,{open:f||!!m,onOpenChange:N=>{N||(h(!1),g(null),j())},children:s.jsxs(At,{className:"max-w-lg",children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:m?"Edit Module":"Add Module"}),s.jsx(Dt,{children:m?"Update module details":"Add a new learning module to this course"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Module Type *"}),s.jsxs($e,{value:p.module_type,onValueChange:N=>v({...p,module_type:N}),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"video",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(MF,{className:"h-4 w-4"}),"Video"]})}),s.jsx(H,{value:"pdf",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"PDF/Document"]})}),s.jsx(H,{value:"policy",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-4 w-4"}),"Policy Acknowledgement"]})}),s.jsx(H,{value:"quiz",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ep,{className:"h-4 w-4"}),"Quiz"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Title *"}),s.jsx(Z,{value:p.title,onChange:N=>v({...p,title:N.target.value}),placeholder:"e.g., Introduction to NDIS"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Description"}),s.jsx(_t,{value:p.description,onChange:N=>v({...p,description:N.target.value}),placeholder:"Brief description...",rows:2})]}),(p.module_type==="video"||p.module_type==="pdf")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Content URL *"}),s.jsx(Z,{value:p.content_url,onChange:N=>v({...p,content_url:N.target.value}),placeholder:p.module_type==="video"?"https://youtube.com/...":"https://..."})]}),p.module_type==="policy"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Policy Text *"}),s.jsx(_t,{value:p.content_text,onChange:N=>v({...p,content_text:N.target.value}),placeholder:"Enter the policy text that learners must acknowledge...",rows:5})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Duration (minutes)"}),s.jsx(Z,{type:"number",value:p.duration_minutes,onChange:N=>v({...p,duration_minutes:N.target.value}),placeholder:"10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Required"}),s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx("input",{type:"checkbox",checked:p.is_required,onChange:N=>v({...p,is_required:N.target.checked}),className:"h-4 w-4"}),s.jsx("span",{className:"ml-2 text-sm",children:"Must complete"})]})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>{h(!1),g(null),j()},children:"Cancel"}),s.jsx(I,{onClick:m?x:b,disabled:!p.title,children:m?"Save Changes":"Add Module"})]})]})})]}):s.jsx("div",{children:"Course not found"})}const l3e={individual:"Individual",team:"Team",role:"Role",department:"Department",location:"Location",all:"All Staff"},c3e={none:"One-time",monthly:"Monthly",quarterly:"Quarterly",biannual:"Every 6 months",annual:"Annually"};function u3e(){const{assignments:e,loading:t,createAssignment:r,deleteAssignment:n}=wFe(),{courses:a}=SH(),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState({course_id:"",target_type:"all",target_value:"",due_date:"",recurrence:"none",is_mandatory:!0,auto_assign_on_hire:!1,notes:""}),f=async()=>{await r({course_id:u.course_id,target_type:u.target_type,target_value:u.target_type==="all"?null:u.target_value||null,due_date:u.due_date||null,recurrence:u.recurrence,is_mandatory:u.is_mandatory,auto_assign_on_hire:u.auto_assign_on_hire,notes:u.notes||null,assigned_by:null,assigned_by_name:null})&&(o(!1),d({course_id:"",target_type:"all",target_value:"",due_date:"",recurrence:"none",is_mandatory:!0,auto_assign_on_hire:!1,notes:""}))},h=async g=>{confirm("Are you sure you want to delete this assignment?")&&await n(g)},m=e.filter(g=>{var p;return(p=g.course)==null?void 0:p.title.toLowerCase().includes(l.toLowerCase())});return t?s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx(It,{className:"h-10 w-full max-w-md"}),s.jsx(It,{className:"h-96"})]}):s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Training Assignments"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Assign courses to individuals, teams, or all staff"})]}),s.jsxs(I,{onClick:()=>o(!0),className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Create Assignment"]})]}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search assignments...",value:l,onChange:g=>c(g.target.value),className:"pl-10"})]}),s.jsx(G,{children:s.jsx(X,{className:"p-0",children:m.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No assignments found"}),s.jsxs(I,{className:"mt-4",onClick:()=>o(!0),children:[s.jsx(xt,{className:"h-4 w-4 mr-2"}),"Create your first assignment"]})]}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Course"}),s.jsx(ie,{children:"Assigned To"}),s.jsx(ie,{children:"Due Date"}),s.jsx(ie,{children:"Recurrence"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Assigned By"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(gr,{children:m.map(g=>{var p;return s.jsxs(Ve,{children:[s.jsx(te,{className:"font-medium",children:((p=g.course)==null?void 0:p.title)||"Unknown Course"}),s.jsx(te,{children:s.jsxs(de,{variant:"outline",children:[l3e[g.target_type],g.target_value&&`: ${g.target_value}`]})}),s.jsx(te,{children:g.due_date?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),le(new Date(g.due_date),"dd MMM yyyy")]}):s.jsx("span",{className:"text-muted-foreground",children:"No deadline"})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(OF,{className:"h-4 w-4 text-muted-foreground"}),c3e[g.recurrence]]})}),s.jsx(te,{children:s.jsx(de,{variant:g.is_mandatory?"default":"secondary",children:g.is_mandatory?"Mandatory":"Optional"})}),s.jsx(te,{className:"text-muted-foreground",children:g.assigned_by_name||"System"}),s.jsx(te,{className:"text-right",children:s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>h(g.id),children:s.jsx(Qn,{className:"h-4 w-4 text-destructive"})})})]},g.id)})})]})})}),s.jsx(Mt,{open:i,onOpenChange:o,children:s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create Assignment"}),s.jsx(Dt,{children:"Assign a course to staff members"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Course *"}),s.jsxs($e,{value:u.course_id,onValueChange:g=>d({...u,course_id:g}),children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select a course"})}),s.jsx(Re,{children:a.filter(g=>g.is_published).map(g=>s.jsx(H,{value:g.id,children:g.title},g.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Assign To *"}),s.jsxs($e,{value:u.target_type,onValueChange:g=>d({...u,target_type:g}),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Staff"}),s.jsx(H,{value:"role",children:"By Role"}),s.jsx(H,{value:"department",children:"By Department"}),s.jsx(H,{value:"location",children:"By Location"}),s.jsx(H,{value:"individual",children:"Individual"})]})]})]}),u.target_type!=="all"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:u.target_type==="individual"?"User Email":u.target_type==="role"?"Role Name":u.target_type==="department"?"Department":"Location"}),s.jsx(Z,{value:u.target_value,onChange:g=>d({...u,target_value:g.target.value}),placeholder:u.target_type==="individual"?"user@example.com":"Enter value..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Due Date"}),s.jsx(Z,{type:"date",value:u.due_date,onChange:g=>d({...u,due_date:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Recurrence"}),s.jsxs($e,{value:u.recurrence,onValueChange:g=>d({...u,recurrence:g}),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"none",children:"One-time"}),s.jsx(H,{value:"monthly",children:"Monthly"}),s.jsx(H,{value:"quarterly",children:"Quarterly"}),s.jsx(H,{value:"biannual",children:"Every 6 months"}),s.jsx(H,{value:"annual",children:"Annually"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:u.is_mandatory,onChange:g=>d({...u,is_mandatory:g.target.checked})}),s.jsx("span",{className:"text-sm",children:"Mandatory"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:u.auto_assign_on_hire,onChange:g=>d({...u,auto_assign_on_hire:g.target.checked})}),s.jsx("span",{className:"text-sm",children:"Auto-assign new hires"})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(I,{onClick:f,disabled:!u.course_id,children:"Create Assignment"})]})]})})]})}function d3e(){const e=li(),[t,r]=y.useState(""),[n,a]=y.useState(""),[i,o]=y.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{const{data:u,error:d}=await M.auth.signInWithPassword({email:t,password:n});if(d)throw d;const{data:f,error:h}=await M.from("platform_users").select("id, role, status").eq("user_id",u.user.id).eq("status","active").maybeSingle();if(h)throw h;if(!f)throw await M.auth.signOut(),new Error("You do not have platform admin access");await M.from("platform_users").update({last_login_at:new Date().toISOString()}).eq("id",f.id),re({title:"Welcome back",description:"You have been logged in to Platform Admin."}),e("/platform/orgs")}catch(u){re({title:"Login failed",description:u.message||"Invalid credentials or access denied",variant:"destructive"})}finally{o(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4",children:s.jsxs(G,{className:"w-full max-w-md border-slate-700 bg-slate-800/50 backdrop-blur",children:[s.jsxs(he,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(dn,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-2xl text-white",children:"Platform Admin"}),s.jsx(Fe,{className:"text-slate-400",children:"Sign in to access the control plane"})]})]}),s.jsxs(X,{children:[s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"email",className:"text-slate-200",children:"Email"}),s.jsx(Z,{id:"email",type:"email",placeholder:"admin@platform.com",value:t,onChange:c=>r(c.target.value),required:!0,className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{htmlFor:"password",className:"text-slate-200",children:"Password"}),s.jsx(Z,{id:"password",type:"password",placeholder:"",value:n,onChange:c=>a(c.target.value),required:!0,className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400"})]}),s.jsx(I,{type:"submit",className:"w-full",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in to Platform"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-slate-400",children:"This is a restricted area for platform administrators only."})})]})]})})}const w$=[{label:"Organisations",icon:vx,href:"/platform/orgs"},{label:"Plans",icon:yx,href:"/platform/plans"},{label:"Platform Users",icon:Er,href:"/platform/users"},{label:"Audit Logs",icon:dt,href:"/platform/audit"},{label:"Settings",icon:mh,href:"/platform/settings"}];function Bl({children:e}){const[t,r]=y.useState(!1),[n,a]=y.useState(!1),i=Lu(),o=li(),l=async()=>{await M.auth.signOut(),re({title:"Logged out",description:"You have been logged out of Platform Admin."}),o("/platform/login")},c=({item:u})=>{const d=i.pathname.startsWith(u.href),f=u.icon,h=s.jsxs(On,{to:u.href,onClick:()=>a(!1),className:ne("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200",d?"bg-primary text-primary-foreground":"text-slate-300 hover:text-white hover:bg-slate-700/50"),children:[s.jsx(f,{className:"h-5 w-5 flex-shrink-0"}),!t&&s.jsx("span",{className:"font-medium text-sm",children:u.label})]});return t?s.jsxs(w3,{delayDuration:0,children:[s.jsx(j3,{asChild:!0,children:h}),s.jsx(Vk,{side:"right",className:"font-medium",children:u.label})]}):h};return s.jsxs("div",{className:"min-h-screen bg-slate-900",children:[s.jsx("div",{className:"bg-amber-500/10 border-b border-amber-500/20 px-4 py-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-400 text-sm font-medium",children:[s.jsx(dn,{className:"h-4 w-4"}),s.jsx("span",{children:"Platform Admin Control Plane"})]})}),s.jsxs("aside",{className:ne("fixed left-0 top-10 z-40 h-[calc(100vh-40px)] bg-slate-800 border-r border-slate-700 hidden md:flex flex-col transition-all duration-300",t?"w-16":"w-64"),children:[s.jsxs("div",{className:ne("flex items-center h-16 px-4 border-b border-slate-700",t?"justify-center":"gap-3"),children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center flex-shrink-0",children:s.jsx(dn,{className:"h-4 w-4 text-primary-foreground"})}),!t&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-white text-sm",children:"Social Plus"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Platform Admin"})]})]}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:w$.map(u=>s.jsx(c,{item:u},u.href))}),s.jsx("div",{className:"px-3 py-4 border-t border-slate-700",children:s.jsxs(I,{variant:"ghost",onClick:l,className:ne("w-full text-slate-300 hover:text-white hover:bg-slate-700/50",t?"justify-center px-0":"justify-start"),children:[s.jsx(B2,{className:"h-5 w-5"}),!t&&s.jsx("span",{className:"ml-3",children:"Logout"})]})}),s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>r(!t),className:"absolute -right-3 top-20 h-6 w-6 rounded-full border border-slate-600 bg-slate-800 text-slate-300 hover:bg-slate-700",children:t?s.jsx(Oo,{className:"h-3 w-3"}):s.jsx(Ak,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"md:hidden flex items-center justify-between h-14 px-4 bg-slate-800 border-b border-slate-700",children:[s.jsx(I,{variant:"ghost",size:"icon",onClick:()=>a(!n),className:"text-slate-300",children:s.jsx(AF,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-semibold text-white",children:"Platform Admin"})]}),s.jsx(I,{variant:"ghost",size:"icon",onClick:l,className:"text-slate-300",children:s.jsx(B2,{className:"h-5 w-5"})})]}),n&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:()=>a(!1),children:s.jsxs("div",{className:"w-64 h-full bg-slate-800 border-r border-slate-700",onClick:u=>u.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-3 h-16 px-4 border-b border-slate-700",children:[s.jsx(dn,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"font-semibold text-white",children:"Platform Admin"})]}),s.jsx("nav",{className:"px-3 py-4 space-y-1",children:w$.map(u=>s.jsx(c,{item:u},u.href))})]})}),s.jsx("main",{className:ne("min-h-[calc(100vh-40px)] transition-all duration-300 pt-14 md:pt-0",t?"md:ml-16":"md:ml-64"),children:s.jsx("div",{className:"p-4 md:p-6",children:e})})]})}function qh(){const[e,t]=y.useState(null),[r,n]=y.useState(!0),a=li();y.useEffect(()=>{(async()=>{try{const{data:{session:d}}=await M.auth.getSession();if(!(d!=null&&d.user)){a("/platform/login");return}const{data:f,error:h}=await M.from("platform_users").select("*").eq("user_id",d.user.id).eq("status","active").maybeSingle();if(h||!f){a("/platform/login");return}t(f)}catch(d){console.error("Platform auth check failed:",d),a("/platform/login")}finally{n(!1)}})();const{data:{subscription:u}}=M.auth.onAuthStateChange(d=>{d==="SIGNED_OUT"&&(t(null),a("/platform/login"))});return()=>u.unsubscribe()},[a]);const i=(e==null?void 0:e.role)==="owner",o=(e==null?void 0:e.role)==="admin"||i,l=i||(e==null?void 0:e.role)==="admin";return{platformUser:e,loading:r,isOwner:i,isAdmin:o,canImpersonate:l}}function zl({children:e}){const{loading:t,platformUser:r}=qh();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-slate-400",children:"Verifying platform access..."})]})}):r?s.jsx(s.Fragment,{children:e}):null}const f3e={trial:"bg-blue-500/10 text-blue-500 border-blue-500/20",active:"bg-green-500/10 text-green-500 border-green-500/20",suspended:"bg-red-500/10 text-red-500 border-red-500/20",readonly:"bg-amber-500/10 text-amber-500 border-amber-500/20"};function h3e(){const[e,t]=y.useState(""),[r,n]=y.useState("all"),a=oi(),{data:i,isLoading:o}=sr({queryKey:["platform-organisations",e,r],queryFn:async()=>{let c=M.from("organisations").select(`
          *,
          organisation_subscriptions (
            id,
            status,
            trial_ends_at,
            plans (
              id,
              name
            )
          )
        `).order("created_at",{ascending:!1});e&&(c=c.or(`legal_name.ilike.%${e}%,trading_name.ilike.%${e}%`)),r!=="all"&&(c=c.eq("status",r));const{data:u,error:d}=await c;if(d)throw d;return u}}),l=Gt({mutationFn:async({id:c,status:u})=>{const{error:d}=await M.from("organisations").update({status:u}).eq("id",c);if(d)throw d},onSuccess:()=>{a.invalidateQueries({queryKey:["platform-organisations"]}),re({title:"Organisation status updated"})},onError:c=>{re({title:"Failed to update status",description:c.message,variant:"destructive"})}});return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Organisations"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage tenant organisations"})]}),s.jsxs(I,{className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Add Organisation"]})]}),s.jsx(G,{className:"bg-slate-800 border-slate-700",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Z,{placeholder:"Search organisations...",value:e,onChange:c=>t(c.target.value),className:"pl-10 bg-slate-700/50 border-slate-600 text-white"})]}),s.jsxs($e,{value:r,onValueChange:c=>n(c),children:[s.jsx(De,{className:"w-[180px] bg-slate-700/50 border-slate-600 text-white",children:s.jsx(Ie,{placeholder:"Filter by status"})}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Statuses"}),s.jsx(H,{value:"trial",children:"Trial"}),s.jsx(H,{value:"active",children:"Active"}),s.jsx(H,{value:"suspended",children:"Suspended"}),s.jsx(H,{value:"readonly",children:"Read-only"})]})]})]})})}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(vx,{className:"h-5 w-5"}),"All Organisations"]})}),s.jsx(X,{children:o?s.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading organisations..."}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(ie,{className:"text-slate-300",children:"Organisation"}),s.jsx(ie,{className:"text-slate-300",children:"Plan"}),s.jsx(ie,{className:"text-slate-300",children:"Status"}),s.jsx(ie,{className:"text-slate-300",children:"Trial Ends"}),s.jsx(ie,{className:"text-slate-300",children:"Created"}),s.jsx(ie,{className:"text-slate-300 text-right",children:"Actions"})]})}),s.jsxs(gr,{children:[i==null?void 0:i.map(c=>{var f;const u=(f=c.organisation_subscriptions)==null?void 0:f[0],d=u==null?void 0:u.plans;return s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(te,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:c.legal_name}),c.trading_name&&s.jsxs("p",{className:"text-sm text-slate-400",children:["t/a ",c.trading_name]})]})}),s.jsx(te,{className:"text-slate-300",children:(d==null?void 0:d.name)||"No plan"}),s.jsx(te,{children:s.jsx(de,{variant:"outline",className:f3e[c.status],children:c.status})}),s.jsx(te,{className:"text-slate-300",children:u!=null&&u.trial_ends_at?le(new Date(u.trial_ends_at),"dd MMM yyyy"):"-"}),s.jsx(te,{className:"text-slate-300",children:le(new Date(c.created_at),"dd MMM yyyy")}),s.jsx(te,{className:"text-right",children:s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",className:"text-slate-300",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsxs(ss,{align:"end",children:[s.jsx(nt,{asChild:!0,children:s.jsxs(On,{to:`/platform/orgs/${c.id}`,children:[s.jsx(Fi,{className:"mr-2 h-4 w-4"}),"View Details"]})}),c.status!=="suspended"&&s.jsxs(nt,{onClick:()=>l.mutate({id:c.id,status:"suspended"}),className:"text-red-400",children:[s.jsx(j0,{className:"mr-2 h-4 w-4"}),"Suspend"]}),c.status==="suspended"&&s.jsxs(nt,{onClick:()=>l.mutate({id:c.id,status:"active"}),className:"text-green-400",children:[s.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Activate"]}),c.status!=="readonly"&&c.status!=="suspended"&&s.jsxs(nt,{onClick:()=>l.mutate({id:c.id,status:"readonly"}),className:"text-amber-400",children:[s.jsx(fu,{className:"mr-2 h-4 w-4"}),"Set Read-only"]})]})]})})]},c.id)}),(i==null?void 0:i.length)===0&&s.jsx(Ve,{children:s.jsx(te,{colSpan:6,className:"text-center py-8 text-slate-400",children:"No organisations found"})})]})]})})]})]})})})}const m3e={trial:"bg-blue-500/10 text-blue-500 border-blue-500/20",active:"bg-green-500/10 text-green-500 border-green-500/20",suspended:"bg-red-500/10 text-red-500 border-red-500/20",readonly:"bg-amber-500/10 text-amber-500 border-amber-500/20"},p3e=[{key:"module_hr_core",label:"HR Core",type:"boolean"},{key:"module_onboarding",label:"Onboarding",type:"boolean"},{key:"module_compliance",label:"Compliance",type:"boolean"},{key:"module_docs",label:"Documents",type:"boolean"},{key:"module_leave",label:"Leave Management",type:"boolean"},{key:"module_payroll",label:"Payroll",type:"boolean"},{key:"module_reporting",label:"Reporting",type:"boolean"},{key:"module_lms",label:"LMS",type:"boolean"},{key:"limit_users",label:"User Limit",type:"number"},{key:"limit_employees",label:"Employee Limit",type:"number"},{key:"limit_storage_gb",label:"Storage (GB)",type:"number"},{key:"audit_export_enabled",label:"Audit Export",type:"boolean"}];function g3e(){var g,p,v,b,x,w,_,j;const{id:e}=q3(),t=oi(),{canImpersonate:r}=qh(),{data:n,isLoading:a}=sr({queryKey:["platform-organisation",e],queryFn:async()=>{const{data:N,error:S}=await M.from("organisations").select(`
          *,
          organisation_subscriptions (
            id,
            status,
            trial_ends_at,
            start_date,
            end_date,
            plans (
              id,
              name,
              description
            )
          )
        `).eq("id",e).single();if(S)throw S;return N},enabled:!!e}),{data:i}=sr({queryKey:["platform-plans"],queryFn:async()=>{const{data:N,error:S}=await M.from("plans").select("*").eq("status","active").order("name");if(S)throw S;return N}}),{data:o}=sr({queryKey:["platform-plan-entitlements",(v=(p=(g=n==null?void 0:n.organisation_subscriptions)==null?void 0:g[0])==null?void 0:p.plans)==null?void 0:v.id],queryFn:async()=>{var C,P,A;const N=(A=(P=(C=n==null?void 0:n.organisation_subscriptions)==null?void 0:C[0])==null?void 0:P.plans)==null?void 0:A.id;if(!N)return[];const{data:S,error:k}=await M.from("plan_entitlements").select("*").eq("plan_id",N);if(k)throw k;return S},enabled:!!((w=(x=(b=n==null?void 0:n.organisation_subscriptions)==null?void 0:b[0])==null?void 0:x.plans)!=null&&w.id)}),{data:l}=sr({queryKey:["platform-org-entitlements",e],queryFn:async()=>{const{data:N,error:S}=await M.from("organisation_entitlements").select("*").eq("organisation_id",e);if(S)throw S;return N},enabled:!!e}),{data:c}=sr({queryKey:["platform-audit-logs",e],queryFn:async()=>{const{data:N,error:S}=await M.from("platform_audit_logs").select("*").eq("organisation_id",e).order("created_at",{ascending:!1}).limit(20);if(S)throw S;return N},enabled:!!e}),u=Gt({mutationFn:async N=>{const{error:S}=await M.from("organisations").update({status:N}).eq("id",e);if(S)throw S},onSuccess:()=>{t.invalidateQueries({queryKey:["platform-organisation",e]}),re({title:"Status updated successfully"})},onError:N=>{re({title:"Failed to update status",description:N.message,variant:"destructive"})}}),d=Gt({mutationFn:async({key:N,value:S})=>{const k=l==null?void 0:l.find(C=>C.key===N);if(k){const{error:C}=await M.from("organisation_entitlements").update({value:S}).eq("id",k.id);if(C)throw C}else{const{error:C}=await M.from("organisation_entitlements").insert({organisation_id:e,key:N,value:S});if(C)throw C}},onSuccess:()=>{t.invalidateQueries({queryKey:["platform-org-entitlements",e]}),re({title:"Entitlement updated"})},onError:N=>{re({title:"Failed to update entitlement",description:N.message,variant:"destructive"})}}),f=N=>{const S=l==null?void 0:l.find(C=>C.key===N);if(S)return S.value;const k=o==null?void 0:o.find(C=>C.key===N);return(k==null?void 0:k.value)||"false"};if(a)return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Xe,{className:"h-8 w-8 animate-spin text-primary"})})})});if(!n)return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsx("div",{className:"text-center py-16",children:s.jsx("p",{className:"text-slate-400",children:"Organisation not found"})})})});const h=(_=n.organisation_subscriptions)==null?void 0:_[0],m=h==null?void 0:h.plans;return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{variant:"ghost",size:"icon",asChild:!0,className:"text-slate-300",children:s.jsx(On,{to:"/platform/orgs",children:s.jsx(Zc,{className:"h-5 w-5"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:n.legal_name}),s.jsx(de,{variant:"outline",className:m3e[n.status],children:n.status})]}),n.trading_name&&s.jsxs("p",{className:"text-slate-400 mt-1",children:["t/a ",n.trading_name]})]})]}),s.jsxs(jn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(mn,{className:"bg-slate-800 border border-slate-700",children:[s.jsx(Be,{value:"overview",children:"Overview"}),s.jsx(Be,{value:"subscription",children:"Subscription"}),s.jsx(Be,{value:"entitlements",children:"Entitlements"}),s.jsx(Be,{value:"audit",children:"Audit Log"}),s.jsx(Be,{value:"support",children:"Support"})]}),s.jsxs(et,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{className:"pb-2",children:s.jsx(Fe,{className:"text-slate-400",children:"Status"})}),s.jsx(X,{children:s.jsxs($e,{value:n.status,onValueChange:N=>u.mutate(N),children:[s.jsx(De,{className:"bg-slate-700/50 border-slate-600 text-white",children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"trial",children:"Trial"}),s.jsx(H,{value:"active",children:"Active"}),s.jsx(H,{value:"suspended",children:"Suspended"}),s.jsx(H,{value:"readonly",children:"Read-only"})]})]})})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{className:"pb-2",children:s.jsx(Fe,{className:"text-slate-400",children:"Current Plan"})}),s.jsx(X,{children:s.jsx("p",{className:"text-xl font-semibold text-white",children:(m==null?void 0:m.name)||"No plan"})})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{className:"pb-2",children:s.jsx(Fe,{className:"text-slate-400",children:"Trial Ends"})}),s.jsx(X,{children:s.jsx("p",{className:"text-xl font-semibold text-white",children:h!=null&&h.trial_ends_at?le(new Date(h.trial_ends_at),"dd MMM yyyy"):"N/A"})})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{className:"pb-2",children:s.jsx(Fe,{className:"text-slate-400",children:"Created"})}),s.jsx(X,{children:s.jsx("p",{className:"text-xl font-semibold text-white",children:le(new Date(n.created_at),"dd MMM yyyy")})})]})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsx(pe,{className:"text-white",children:"Organisation Details"})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Legal Name"}),s.jsx("p",{className:"text-white",children:n.legal_name})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Trading Name"}),s.jsx("p",{className:"text-white",children:n.trading_name||"-"})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Timezone"}),s.jsx("p",{className:"text-white",children:n.timezone||"Australia/Sydney"})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Organisation ID"}),s.jsx("p",{className:"text-white font-mono text-sm",children:n.id})]})]})})]})]}),s.jsx(et,{value:"subscription",className:"space-y-6",children:s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(yx,{className:"h-5 w-5"}),"Subscription Management"]})}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Assigned Plan"}),s.jsxs($e,{value:m==null?void 0:m.id,onValueChange:N=>{re({title:"Plan change will be implemented"})},children:[s.jsx(De,{className:"mt-2 bg-slate-700/50 border-slate-600 text-white",children:s.jsx(Ie,{placeholder:"Select a plan"})}),s.jsx(Re,{children:i==null?void 0:i.map(N=>s.jsx(H,{value:N.id,children:N.name},N.id))})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Trial End Date"}),s.jsx(Z,{type:"date",value:((j=h==null?void 0:h.trial_ends_at)==null?void 0:j.split("T")[0])||"",className:"mt-2 bg-slate-700/50 border-slate-600 text-white",onChange:N=>{re({title:"Trial date change will be implemented"})}})]}),s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Subscription Status"}),s.jsx("p",{className:"mt-2 text-white capitalize",children:(h==null?void 0:h.status)||"None"})]})]})]})})]})}),s.jsx(et,{value:"entitlements",className:"space-y-6",children:s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(mh,{className:"h-5 w-5"}),"Feature Entitlements"]}),s.jsx(Fe,{className:"text-slate-400",children:"Configure module access and limits. Overrides apply on top of the plan defaults."})]}),s.jsx(X,{children:s.jsx("div",{className:"space-y-6",children:p3e.map(N=>{const S=f(N.key),k=l==null?void 0:l.some(C=>C.key===N.key);return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-700 last:border-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:N.label}),s.jsx("p",{className:"text-sm text-slate-400",children:k?s.jsx("span",{className:"text-amber-400",children:"Override active"}):"Using plan default"})]}),s.jsx("div",{className:"flex items-center gap-4",children:N.type==="boolean"?s.jsx(An,{checked:S==="true",onCheckedChange:C=>{d.mutate({key:N.key,value:C?"true":"false"})}}):s.jsx(Z,{type:"number",value:S,onChange:C=>{d.mutate({key:N.key,value:C.target.value})},className:"w-24 bg-slate-700/50 border-slate-600 text-white"})})]},N.key)})})})]})}),s.jsx(et,{value:"audit",className:"space-y-6",children:s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Audit Log"]})}),s.jsx(X,{children:(c==null?void 0:c.length)===0?s.jsx("p",{className:"text-slate-400 text-center py-8",children:"No audit logs found"}):s.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(N=>s.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-700/50",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:N.action}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Target: ",N.target_type," ",N.target_id&&`(${N.target_id})`]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:le(new Date(N.created_at),"dd MMM yyyy HH:mm:ss")})]})},N.id))})})]})}),s.jsx(et,{value:"support",className:"space-y-6",children:s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5"}),"Support Impersonation"]}),s.jsx(Fe,{className:"text-slate-400",children:"Start a support session to access this organisation's HRMS as an admin. All actions will be logged."})]}),s.jsx(X,{children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-400",children:"Reason for impersonation"}),s.jsx(Z,{placeholder:"e.g., Customer support ticket #12345",className:"mt-2 bg-slate-700/50 border-slate-600 text-white"})]}),s.jsxs(I,{className:"gap-2",children:[s.jsx(dn,{className:"h-4 w-4"}),"Start Support Session"]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Session will automatically expire after 30 minutes."})]}):s.jsx("p",{className:"text-amber-400",children:"You do not have permission to start impersonation sessions."})})]})})]})]})})})}const v3e=[{key:"module_hr_core",label:"HR Core",type:"boolean"},{key:"module_onboarding",label:"Onboarding",type:"boolean"},{key:"module_compliance",label:"Compliance",type:"boolean"},{key:"module_docs",label:"Documents",type:"boolean"},{key:"module_leave",label:"Leave Management",type:"boolean"},{key:"module_payroll",label:"Payroll",type:"boolean"},{key:"module_reporting",label:"Reporting",type:"boolean"},{key:"module_lms",label:"LMS",type:"boolean"},{key:"limit_users",label:"User Limit",type:"number"},{key:"limit_employees",label:"Employee Limit",type:"number"},{key:"limit_storage_gb",label:"Storage (GB)",type:"number"},{key:"audit_export_enabled",label:"Audit Export",type:"boolean"}];function y3e(){const[e,t]=y.useState(null),[r,n]=y.useState(!1),[a,i]=y.useState(""),[o,l]=y.useState(""),c=oi(),{isOwner:u}=qh(),{data:d,isLoading:f}=sr({queryKey:["platform-plans-list"],queryFn:async()=>{const{data:b,error:x}=await M.from("plans").select(`
          *,
          plan_entitlements (*),
          organisation_subscriptions (count)
        `).order("name");if(x)throw x;return b}}),{data:h}=sr({queryKey:["platform-plan-entitlements",e],queryFn:async()=>{if(!e)return[];const{data:b,error:x}=await M.from("plan_entitlements").select("*").eq("plan_id",e);if(x)throw x;return b},enabled:!!e}),m=Gt({mutationFn:async()=>{const{data:b,error:x}=await M.from("plans").insert({name:a,description:o,status:"active"}).select().single();if(x)throw x;return b},onSuccess:()=>{c.invalidateQueries({queryKey:["platform-plans-list"]}),n(!1),i(""),l(""),re({title:"Plan created successfully"})},onError:b=>{re({title:"Failed to create plan",description:b.message,variant:"destructive"})}}),g=Gt({mutationFn:async({key:b,value:x})=>{if(!e)return;const w=h==null?void 0:h.find(_=>_.key===b);if(w){const{error:_}=await M.from("plan_entitlements").update({value:x}).eq("id",w.id);if(_)throw _}else{const{error:_}=await M.from("plan_entitlements").insert({plan_id:e,key:b,value:x});if(_)throw _}},onSuccess:()=>{c.invalidateQueries({queryKey:["platform-plan-entitlements",e]}),re({title:"Entitlement updated"})},onError:b=>{re({title:"Failed to update",description:b.message,variant:"destructive"})}}),p=b=>{const x=h==null?void 0:h.find(w=>w.key===b);return(x==null?void 0:x.value)||"false"},v=d==null?void 0:d.find(b=>b.id===e);return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Plans"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage subscription plans and entitlements"})]}),u&&s.jsxs(Mt,{open:r,onOpenChange:n,children:[s.jsx(av,{asChild:!0,children:s.jsxs(I,{className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Create Plan"]})}),s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Create New Plan"}),s.jsx(Dt,{children:"Add a new subscription plan. You can configure entitlements after creation."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Plan Name"}),s.jsx(Z,{value:a,onChange:b=>i(b.target.value),placeholder:"e.g., Enterprise Plus"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Description"}),s.jsx(Z,{value:o,onChange:b=>l(b.target.value),placeholder:"Plan description..."})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(I,{onClick:()=>m.mutate(),disabled:!a,children:"Create Plan"})]})]})]})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:f?s.jsx("div",{className:"col-span-full text-center py-8 text-slate-400",children:"Loading plans..."}):d==null?void 0:d.map(b=>{var w,_,j;const x=((_=(w=b.organisation_subscriptions)==null?void 0:w[0])==null?void 0:_.count)||0;return s.jsxs(G,{className:"bg-slate-800 border-slate-700 cursor-pointer hover:border-slate-600 transition-colors",onClick:()=>t(b.id),children:[s.jsx(he,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(yx,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-white",children:b.name}),s.jsxs(Fe,{className:"text-slate-400",children:[x," organisation",x!==1?"s":""]})]})]}),s.jsx(de,{variant:"outline",className:b.status==="active"?"border-green-500/20 text-green-500":"border-slate-500/20 text-slate-400",children:b.status})]})}),s.jsxs(X,{children:[s.jsx("p",{className:"text-sm text-slate-400 line-clamp-2",children:b.description||"No description"}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[s.jsx(mh,{className:"h-4 w-4"}),((j=b.plan_entitlements)==null?void 0:j.length)||0," entitlements configured"]})]})]},b.id)})}),s.jsx(Do,{open:!!e,onOpenChange:b=>!b&&t(null),children:s.jsxs(Bi,{className:"w-full sm:max-w-lg bg-slate-800 border-slate-700",children:[s.jsxs(zi,{children:[s.jsxs(Vi,{className:"text-white flex items-center gap-2",children:[s.jsx(yx,{className:"h-5 w-5"}),v==null?void 0:v.name," Entitlements"]}),s.jsx(Ro,{className:"text-slate-400",children:"Configure default entitlements for this plan. Changes affect all organisations on this plan."})]}),s.jsxs("div",{className:"mt-6 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 text-amber-400 text-sm mb-4",children:[s.jsx(lr,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Changes will affect all organisations using this plan"})]}),v3e.map(b=>{const x=p(b.key);return s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-700 last:border-0",children:[s.jsx(V,{className:"text-white",children:b.label}),b.type==="boolean"?s.jsx(An,{checked:x==="true",onCheckedChange:w=>{g.mutate({key:b.key,value:w?"true":"false"})},disabled:!u}):s.jsx(Z,{type:"number",value:x,onChange:w=>{g.mutate({key:b.key,value:w.target.value})},className:"w-24 bg-slate-700/50 border-slate-600 text-white",disabled:!u})]},b.key)})]})]})})]})})})}const j$={owner:"bg-purple-500/10 text-purple-400 border-purple-500/20",admin:"bg-blue-500/10 text-blue-400 border-blue-500/20",support:"bg-green-500/10 text-green-400 border-green-500/20",support_readonly:"bg-slate-500/10 text-slate-400 border-slate-500/20"};function x3e(){const[e,t]=y.useState(!1),[r,n]=y.useState(""),[a,i]=y.useState(""),[o,l]=y.useState("support_readonly"),c=oi(),{isOwner:u}=qh(),{data:d,isLoading:f}=sr({queryKey:["platform-users-list"],queryFn:async()=>{const{data:g,error:p}=await M.from("platform_users").select("*").order("created_at",{ascending:!1});if(p)throw p;return g}}),h=Gt({mutationFn:async({id:g,status:p})=>{const{error:v}=await M.from("platform_users").update({status:p}).eq("id",g);if(v)throw v},onSuccess:()=>{c.invalidateQueries({queryKey:["platform-users-list"]}),re({title:"User status updated"})},onError:g=>{re({title:"Failed to update user",description:g.message,variant:"destructive"})}}),m=Gt({mutationFn:async({id:g,role:p})=>{const{error:v}=await M.from("platform_users").update({role:p}).eq("id",g);if(v)throw v},onSuccess:()=>{c.invalidateQueries({queryKey:["platform-users-list"]}),re({title:"User role updated"})},onError:g=>{re({title:"Failed to update role",description:g.message,variant:"destructive"})}});return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Platform Users"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage platform administrator access"})]}),u&&s.jsxs(Mt,{open:e,onOpenChange:t,children:[s.jsx(av,{asChild:!0,children:s.jsxs(I,{className:"gap-2",children:[s.jsx(xt,{className:"h-4 w-4"}),"Invite User"]})}),s.jsxs(At,{children:[s.jsxs(Ot,{children:[s.jsx(Tt,{children:"Invite Platform User"}),s.jsx(Dt,{children:"Add a new platform administrator. They will need an existing auth account."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Name"}),s.jsx(Z,{value:a,onChange:g=>i(g.target.value),placeholder:"Full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Email"}),s.jsx(Z,{type:"email",value:r,onChange:g=>n(g.target.value),placeholder:"admin@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Role"}),s.jsxs($e,{value:o,onValueChange:g=>l(g),children:[s.jsx(De,{children:s.jsx(Ie,{})}),s.jsxs(Re,{children:[s.jsx(H,{value:"admin",children:"Admin"}),s.jsx(H,{value:"support",children:"Support"}),s.jsx(H,{value:"support_readonly",children:"Support (Read-only)"})]})]})]})]}),s.jsxs(ir,{children:[s.jsx(I,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(I,{onClick:()=>{re({title:"User invitation will be implemented via edge function"}),t(!1)},disabled:!r||!a,children:"Send Invite"})]})]})]})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(Er,{className:"h-5 w-5"}),"All Platform Users"]})}),s.jsx(X,{children:f?s.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading users..."}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(ie,{className:"text-slate-300",children:"User"}),s.jsx(ie,{className:"text-slate-300",children:"Role"}),s.jsx(ie,{className:"text-slate-300",children:"Status"}),s.jsx(ie,{className:"text-slate-300",children:"Last Login"}),s.jsx(ie,{className:"text-slate-300 text-right",children:"Actions"})]})}),s.jsxs(gr,{children:[d==null?void 0:d.map(g=>s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx(dn,{className:"h-5 w-5 text-slate-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:g.name}),s.jsx("p",{className:"text-sm text-slate-400",children:g.email})]})]})}),s.jsx(te,{children:u&&g.role!=="owner"?s.jsxs($e,{value:g.role,onValueChange:p=>m.mutate({id:g.id,role:p}),children:[s.jsx(De,{className:"w-36 bg-transparent border-0 text-white",children:s.jsx(de,{variant:"outline",className:j$[g.role],children:g.role})}),s.jsxs(Re,{children:[s.jsx(H,{value:"admin",children:"Admin"}),s.jsx(H,{value:"support",children:"Support"}),s.jsx(H,{value:"support_readonly",children:"Support (Read-only)"})]})]}):s.jsx(de,{variant:"outline",className:j$[g.role],children:g.role})}),s.jsx(te,{children:s.jsx(de,{variant:"outline",className:g.status==="active"?"border-green-500/20 text-green-400":"border-red-500/20 text-red-400",children:g.status})}),s.jsx(te,{className:"text-slate-300",children:g.last_login_at?le(new Date(g.last_login_at),"dd MMM yyyy HH:mm"):"Never"}),s.jsx(te,{className:"text-right",children:u&&g.role!=="owner"&&s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",className:"text-slate-300",children:s.jsx(ii,{className:"h-4 w-4"})})}),s.jsx(ss,{align:"end",children:g.status==="active"?s.jsxs(nt,{onClick:()=>h.mutate({id:g.id,status:"disabled"}),className:"text-red-400",children:[s.jsx(bx,{className:"mr-2 h-4 w-4"}),"Disable User"]}):s.jsxs(nt,{onClick:()=>h.mutate({id:g.id,status:"active"}),className:"text-green-400",children:[s.jsx(RF,{className:"mr-2 h-4 w-4"}),"Enable User"]})})]})})]},g.id)),(d==null?void 0:d.length)===0&&s.jsx(Ve,{children:s.jsx(te,{colSpan:5,className:"text-center py-8 text-slate-400",children:"No platform users found"})})]})]})})]})]})})})}function b3e(){const[e,t]=y.useState(""),[r,n]=y.useState("all"),[a,i]=y.useState(""),[o,l]=y.useState(""),{isOwner:c}=qh(),{data:u,isLoading:d}=sr({queryKey:["platform-audit-logs-all",e,r,a,o],queryFn:async()=>{let m=M.from("platform_audit_logs").select(`
          *,
          platform_users!platform_audit_logs_actor_platform_user_id_fkey (
            name,
            email
          ),
          organisations (
            legal_name
          )
        `).order("created_at",{ascending:!1}).limit(100);r!=="all"&&(m=m.ilike("action",`%${r}%`)),a&&(m=m.gte("created_at",a)),o&&(m=m.lte("created_at",`${o}T23:59:59`));const{data:g,error:p}=await m;if(p)throw p;return g}}),f=u==null?void 0:u.filter(m=>{var p,v,b,x,w,_;if(!e)return!0;const g=e.toLowerCase();return((p=m.action)==null?void 0:p.toLowerCase().includes(g))||((v=m.target_type)==null?void 0:v.toLowerCase().includes(g))||((x=(b=m.platform_users)==null?void 0:b.name)==null?void 0:x.toLowerCase().includes(g))||((_=(w=m.organisations)==null?void 0:w.legal_name)==null?void 0:_.toLowerCase().includes(g))}),h=()=>{if(!(f!=null&&f.length)){re({title:"No data to export",variant:"destructive"});return}const m=["Date","Actor","Action","Target Type","Target ID","Organisation"],g=f.map(w=>{var _,j;return[le(new Date(w.created_at),"yyyy-MM-dd HH:mm:ss"),((_=w.platform_users)==null?void 0:_.name)||"System",w.action,w.target_type||"",w.target_id||"",((j=w.organisations)==null?void 0:j.legal_name)||""]}),p=[m,...g].map(w=>w.join(",")).join(`
`),v=new Blob([p],{type:"text/csv"}),b=URL.createObjectURL(v),x=document.createElement("a");x.href=b,x.download=`audit-logs-${le(new Date,"yyyy-MM-dd")}.csv`,x.click(),URL.revokeObjectURL(b),re({title:"Audit logs exported"})};return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Audit Logs"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"View platform-wide audit trail"})]}),c&&s.jsxs(I,{onClick:h,variant:"outline",className:"gap-2",children:[s.jsx(Ps,{className:"h-4 w-4"}),"Export CSV"]})]}),s.jsx(G,{className:"bg-slate-800 border-slate-700",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Z,{placeholder:"Search logs...",value:e,onChange:m=>t(m.target.value),className:"pl-10 bg-slate-700/50 border-slate-600 text-white"})]}),s.jsxs($e,{value:r,onValueChange:n,children:[s.jsxs(De,{className:"w-[180px] bg-slate-700/50 border-slate-600 text-white",children:[s.jsx(w0,{className:"mr-2 h-4 w-4"}),s.jsx(Ie,{placeholder:"Filter action"})]}),s.jsxs(Re,{children:[s.jsx(H,{value:"all",children:"All Actions"}),s.jsx(H,{value:"create",children:"Create"}),s.jsx(H,{value:"update",children:"Update"}),s.jsx(H,{value:"delete",children:"Delete"}),s.jsx(H,{value:"impersonate",children:"Impersonate"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{type:"date",value:a,onChange:m=>i(m.target.value),className:"bg-slate-700/50 border-slate-600 text-white",placeholder:"From"}),s.jsx(Z,{type:"date",value:o,onChange:m=>l(m.target.value),className:"bg-slate-700/50 border-slate-600 text-white",placeholder:"To"})]})]})})}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsx(he,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Audit Trail"]})}),s.jsx(X,{children:d?s.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading audit logs..."}):s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(ie,{className:"text-slate-300",children:"Timestamp"}),s.jsx(ie,{className:"text-slate-300",children:"Actor"}),s.jsx(ie,{className:"text-slate-300",children:"Action"}),s.jsx(ie,{className:"text-slate-300",children:"Target"}),s.jsx(ie,{className:"text-slate-300",children:"Organisation"})]})}),s.jsxs(gr,{children:[f==null?void 0:f.map(m=>{var g,p,v;return s.jsxs(Ve,{className:"border-slate-700 hover:bg-slate-700/50",children:[s.jsx(te,{className:"text-slate-300 font-mono text-sm",children:le(new Date(m.created_at),"dd MMM yyyy HH:mm:ss")}),s.jsx(te,{children:s.jsxs("div",{children:[s.jsx("p",{className:"text-white",children:((g=m.platform_users)==null?void 0:g.name)||"System"}),s.jsx("p",{className:"text-xs text-slate-400",children:((p=m.platform_users)==null?void 0:p.email)||""})]})}),s.jsx(te,{children:s.jsx("span",{className:"px-2 py-1 rounded bg-slate-700 text-slate-200 text-sm",children:m.action})}),s.jsx(te,{className:"text-slate-300",children:m.target_type&&s.jsxs("span",{children:[m.target_type,m.target_id&&s.jsxs("span",{className:"text-slate-500 text-xs ml-1",children:["(",m.target_id.slice(0,8),"...)"]})]})}),s.jsx(te,{className:"text-slate-300",children:((v=m.organisations)==null?void 0:v.legal_name)||"-"})]},m.id)}),(f==null?void 0:f.length)===0&&s.jsx(Ve,{children:s.jsx(te,{colSpan:5,className:"text-center py-8 text-slate-400",children:"No audit logs found"})})]})]})})]})]})})})}function w3e(){const{isOwner:e}=qh(),t=()=>{re({title:"Settings saved",description:"Platform settings have been updated."})};return s.jsx(zl,{children:s.jsx(Bl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Platform Settings"}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Configure global platform settings"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(wt,{className:"h-5 w-5"}),"Trial Settings"]}),s.jsx(Fe,{className:"text-slate-400",children:"Configure default trial period for new organisations"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{className:"text-slate-200",children:"Default Trial Length (days)"}),s.jsx(Z,{type:"number",defaultValue:14,className:"bg-slate-700/50 border-slate-600 text-white",disabled:!e})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-200",children:"Auto-suspend on trial expiry"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Automatically suspend orgs when trial ends"})]}),s.jsx(An,{defaultChecked:!0,disabled:!e})]})]})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5"}),"Security Settings"]}),s.jsx(Fe,{className:"text-slate-400",children:"Configure platform security options"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{className:"text-slate-200",children:"Session Timeout (minutes)"}),s.jsx(Z,{type:"number",defaultValue:60,className:"bg-slate-700/50 border-slate-600 text-white",disabled:!e})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{className:"text-slate-200",children:"Impersonation Session Max (minutes)"}),s.jsx(Z,{type:"number",defaultValue:30,className:"bg-slate-700/50 border-slate-600 text-white",disabled:!e})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-200",children:"Require MFA for platform users"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Enforce MFA for all platform admins"})]}),s.jsx(An,{disabled:!e})]})]})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(OG,{className:"h-5 w-5"}),"Audit & Retention"]}),s.jsx(Fe,{className:"text-slate-400",children:"Configure audit log retention policies"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{className:"text-slate-200",children:"Audit Log Retention (days)"}),s.jsx(Z,{type:"number",defaultValue:365,className:"bg-slate-700/50 border-slate-600 text-white",disabled:!e})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-200",children:"Log all API access"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Record all API calls (increases storage)"})]}),s.jsx(An,{disabled:!e})]})]})]}),s.jsxs(G,{className:"bg-slate-800 border-slate-700",children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx(mh,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(Fe,{className:"text-slate-400",children:"Configure platform notification preferences"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-200",children:"Trial expiry alerts"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Notify when org trials are expiring"})]}),s.jsx(An,{defaultChecked:!0,disabled:!e})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(V,{className:"text-slate-200",children:"Security event alerts"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Notify on suspicious activity"})]}),s.jsx(An,{defaultChecked:!0,disabled:!e})]})]})]})]}),e&&s.jsx("div",{className:"flex justify-end",children:s.jsx(I,{onClick:t,size:"lg",children:"Save Settings"})})]})})})}class j3e{async getAuditPacks(t){const{data:r,error:n}=await M.from("audit_packs").select("*").eq("organisation_id",t).order("created_at",{ascending:!1});if(n)throw console.error("[AuditPackService] Failed to fetch audit packs:",n),n;return(r||[]).map(this.mapAuditPack)}async getAuditPack(t){const{data:r,error:n}=await M.from("audit_packs").select("*").eq("id",t).maybeSingle();if(n)throw console.error("[AuditPackService] Failed to fetch audit pack:",n),n;return r?this.mapAuditPack(r):null}async getPreview(t,r,n,a,i){const o={},l=a||"1900-01-01",c=i||"2100-12-31";switch(t){case"employee_compliance":if(n){const{count:x}=await M.from("employee_certifications").select("*",{count:"exact",head:!0}).eq("employee_id",n);o.certifications=x||0;const{count:w}=await M.from("compliance_overrides").select("*",{count:"exact",head:!0}).eq("employee_id",n);o.overrides=w||0;const{count:_}=await M.from("audit_logs").select("*",{count:"exact",head:!0}).eq("entity_id",n);o.auditLogs=_||0}break;case"organisation_compliance":const{count:u}=await M.from("employees").select("*",{count:"exact",head:!0}).eq("organisation_id",r);o.employees=u||0;const{count:d}=await M.from("employee_certifications").select("*",{count:"exact",head:!0}).eq("organisation_id",r);o.certifications=d||0;const{count:f}=await M.from("compliance_overrides").select("*",{count:"exact",head:!0}).eq("organisation_id",r).gte("created_at",l).lte("created_at",c);o.overrides=f||0;break;case"hr_incidents":let h=M.from("hr_cases").select("*",{count:"exact",head:!0}).eq("organisation_id",r).gte("created_at",l).lte("created_at",c);n&&(h=h.eq("employee_id",n));const{count:m}=await h;o.cases=m||0;break;case"payroll_verification":let g=M.from("timesheets").select("*",{count:"exact",head:!0}).eq("organisation_id",r).gte("date",l).lte("date",c);n&&(g=g.eq("employee_id",n));const{count:p}=await g;o.timesheets=p||0;const{count:v}=await M.from("pay_periods").select("*",{count:"exact",head:!0}).eq("organisation_id",r);o.payPeriods=v||0;const{count:b}=await M.from("payroll_exports").select("*",{count:"exact",head:!0}).eq("organisation_id",r).gte("created_at",l).lte("created_at",c);o.payrollExports=b||0;break}return{pack_type:t,scope:n?"Single Employee":"Organisation-wide",dateRange:a&&i?`${a} to ${i}`:"All time",estimatedRecords:o}}async createAuditPack(t,r){const{data:{user:n}}=await M.auth.getUser();if(!n)throw new Error("Not authenticated");const{data:a}=await M.from("profiles").select("display_name").eq("user_id",n.id).maybeSingle(),i={organisation_id:t,pack_type:r.pack_type,employee_id:r.employee_id||null,date_range_start:r.date_range_start||null,date_range_end:r.date_range_end||null,include_restricted_content:r.include_restricted_content||!1,include_attachments:r.include_attachments||!1,generated_by:n.id,generated_by_name:(a==null?void 0:a.display_name)||n.email,generated_by_email:n.email,status:"pending"},{data:o,error:l}=await M.from("audit_packs").insert(i).select().single();if(l)throw console.error("[AuditPackService] Failed to create audit pack:",l),l;return await Nr.log({action:"document.upload",entityType:"document",entityId:o.id,organisationId:t,afterState:{pack_type:r.pack_type,employee_id:r.employee_id,date_range:`${r.date_range_start} - ${r.date_range_end}`,include_restricted:r.include_restricted_content,action:"audit_pack_requested"}}),this.mapAuditPack(o)}async generatePack(t){const{error:r}=await M.functions.invoke("generate-audit-pack",{body:{packId:t}});if(r)throw console.error("[AuditPackService] Failed to trigger pack generation:",r),r}async getDownloadUrl(t){const{data:r,error:n}=await M.storage.from("audit-packs").createSignedUrl(t,3600);if(n)throw console.error("[AuditPackService] Failed to get download URL:",n),n;return r.signedUrl}mapAuditPack(t){return{id:t.id,organisation_id:t.organisation_id,pack_type:t.pack_type,status:t.status,employee_id:t.employee_id,date_range_start:t.date_range_start,date_range_end:t.date_range_end,include_restricted_content:t.include_restricted_content,include_attachments:t.include_attachments,generated_by:t.generated_by,generated_by_name:t.generated_by_name,generated_by_email:t.generated_by_email,file_urls:t.file_urls||[],summary:t.summary||{},error_message:t.error_message,retention_days:t.retention_days,expires_at:t.expires_at,started_at:t.started_at,completed_at:t.completed_at,created_at:t.created_at,updated_at:t.updated_at}}}const km=new j3e;function qH(e){const t=oi(),{data:r}=sr({queryKey:["default-organisation"],queryFn:async()=>{const{data:g,error:p}=await M.from("organisations").select("id").limit(1).maybeSingle();if(p)throw p;return g},enabled:!e}),n=r==null?void 0:r.id,{data:a=[],isLoading:i,error:o,refetch:l}=sr({queryKey:["audit-packs",n],queryFn:async()=>n?km.getAuditPacks(n):[],enabled:!!n,refetchInterval:1e4}),c=Gt({mutationFn:async({packType:g,employeeId:p,dateRangeStart:v,dateRangeEnd:b})=>{if(!n)throw new Error("Organisation not found");return km.getPreview(g,n,p,v,b)}}),u=Gt({mutationFn:async g=>{if(!n)throw new Error("Organisation not found");const p=await km.createAuditPack(n,g);return await km.generatePack(p.id),p},onSuccess:()=>{t.invalidateQueries({queryKey:["audit-packs",n]}),re({title:"Audit Pack Requested",description:"Your audit pack is being generated. This may take a few moments."})},onError:g=>{console.error("[useAuditPacks] Create failed:",g),re({title:"Error",description:"Failed to create audit pack. Please try again.",variant:"destructive"})}}),d=Gt({mutationFn:async g=>km.getDownloadUrl(g),onError:g=>{console.error("[useAuditPacks] Download failed:",g),re({title:"Error",description:"Failed to get download link. Please try again.",variant:"destructive"})}}),f=a.filter(g=>g.status==="completed"),h=a.filter(g=>g.status==="pending"||g.status==="generating"),m=a.filter(g=>g.status==="failed");return{auditPacks:a,completedPacks:f,pendingPacks:h,failedPacks:m,organisationId:n,isLoading:i,error:o,getPreview:c.mutateAsync,createAuditPack:u.mutateAsync,getDownloadUrl:d.mutateAsync,refetch:l,isCreating:u.isPending,isPreviewing:c.isPending,isDownloading:d.isPending,preview:c.data}}const Hy={employee_compliance:"Employee Compliance Audit Pack",organisation_compliance:"Organisation Compliance Overview",hr_incidents:"HR Incidents & Disciplinary Pack",payroll_verification:"Payroll & Timesheet Verification"},_3e={employee_compliance:"Complete compliance history for a selected employee including certifications, overrides, and audit trail.",organisation_compliance:"Organisation-wide compliance snapshot including all employees, certifications, and enforcement events.",hr_incidents:"HR case register with findings, outcomes, disciplinary actions, and full audit trail.",payroll_verification:"Timesheet verification including approvals, edits, and pay rate history."};function N3e(){const[e,t]=y.useState("organisation_compliance"),[r,n]=y.useState(null),[a,i]=y.useState(),[o,l]=y.useState(),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(!1),{employees:g,isLoading:p}=sc(),{getPreview:v,createAuditPack:b,isCreating:x,isPreviewing:w,preview:_}=qH(),j=e==="employee_compliance",N=["employee_compliance","hr_incidents","payroll_verification"].includes(e);y.useEffect(()=>{N||n(null)},[e,N]),y.useEffect(()=>{if(j&&!r)return;const C=setTimeout(()=>{v({packType:e,employeeId:N?r:null,dateRangeStart:a?le(a,"yyyy-MM-dd"):null,dateRangeEnd:o?le(o,"yyyy-MM-dd"):null}).catch(console.error)},500);return()=>clearTimeout(C)},[e,r,a,o,j,N,v]);const S=async()=>{j&&!r||c&&!h||await b({pack_type:e,employee_id:N?r:null,date_range_start:a?le(a,"yyyy-MM-dd"):null,date_range_end:o?le(o,"yyyy-MM-dd"):null,include_restricted_content:c,include_attachments:d})},k=(!j||r)&&(!c||h)&&!x;return s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xf,{className:"h-5 w-5"}),"Select Audit Pack Type"]}),s.jsx(Fe,{children:"Choose the type of audit pack to generate"})]}),s.jsx(X,{className:"grid gap-4 sm:grid-cols-2",children:Object.keys(Hy).map(C=>s.jsxs("button",{onClick:()=>t(C),className:ne("p-4 rounded-lg border text-left transition-all",e===C?"border-primary bg-primary/5 ring-1 ring-primary":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[s.jsx("div",{className:"font-medium",children:Hy[C]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:_3e[C]})]},C))})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Er,{className:"h-5 w-5"}),"Define Scope"]}),s.jsx(Fe,{children:"Set the employee and date range for the audit pack"})]}),s.jsxs(X,{className:"space-y-4",children:[N&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(V,{children:["Employee ",j&&s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs($e,{value:r||"all",onValueChange:C=>n(C==="all"?null:C),disabled:p,children:[s.jsx(De,{children:s.jsx(Ie,{placeholder:"Select employee..."})}),s.jsxs(Re,{children:[!j&&s.jsx(H,{value:"all",children:"All Employees"}),g.map(C=>s.jsxs(H,{value:C.id,children:[C.first_name," ",C.last_name]},C.id))]})]})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"Start Date"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:ne("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),a?le(a,"PPP"):"All time"]})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{children:"End Date"}),s.jsxs($i,{children:[s.jsx(Ii,{asChild:!0,children:s.jsxs(I,{variant:"outline",className:ne("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[s.jsx(Ht,{className:"mr-2 h-4 w-4"}),o?le(o,"PPP"):"All time"]})}),s.jsx(ri,{className:"w-auto p-0",align:"start",children:s.jsx(si,{mode:"single",selected:o,onSelect:l,initialFocus:!0})})]})]})]})]})]}),s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"h-5 w-5"}),"Options"]}),s.jsx(Fe,{children:"Configure what to include in the audit pack"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(V,{children:"Include Attachments"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Include uploaded documents and evidence files"})]}),s.jsx(An,{checked:d,onCheckedChange:f})]}),s.jsx(St,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(V,{className:"flex items-center gap-2",children:["Include Restricted Content",s.jsx(de,{variant:"destructive",className:"text-xs",children:"Sensitive"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Include confidential HR notes and restricted evidence"})]}),s.jsx(An,{checked:c,onCheckedChange:C=>{u(C),C||m(!1)}})]}),c&&s.jsxs(Ll,{variant:"destructive",children:[s.jsx(lr,{className:"h-4 w-4"}),s.jsxs(Fl,{className:"space-y-2",children:[s.jsx("p",{children:"Restricted content may contain sensitive personal information and confidential investigation details."}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(An,{checked:h,onCheckedChange:m}),s.jsx("span",{className:"text-sm",children:"I confirm I have authority to access restricted content"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Pack Preview"]}),s.jsx(Fe,{children:"Estimated contents of the audit pack"})]}),s.jsx(X,{className:"space-y-4",children:w?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Xe,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):_?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Pack Type"}),s.jsx("span",{className:"font-medium",children:Hy[_.pack_type]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Scope"}),s.jsx("span",{className:"font-medium",children:_.scope})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date Range"}),s.jsx("span",{className:"font-medium",children:_.dateRange})]})]}),s.jsx(St,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium",children:"Estimated Records"}),Object.entries(_.estimatedRecords).map(([C,P])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground capitalize",children:C.replace(/([A-Z])/g," $1").trim()}),s.jsx(de,{variant:"secondary",children:P})]},C))]})]}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(XN,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:j&&!r?"Select an employee to see preview":"Loading preview..."})]})})]}),s.jsx(I,{className:"w-full",size:"lg",onClick:S,disabled:!k,children:x?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xf,{className:"mr-2 h-4 w-4"}),"Generate Audit Pack"]})}),s.jsxs(Ll,{children:[s.jsx(XN,{className:"h-4 w-4"}),s.jsx(Fl,{children:"Audit packs are retained for 90 days and all generation actions are logged for compliance purposes."})]})]})]})}const S3e={pending:{label:"Pending",variant:"secondary",icon:wt},generating:{label:"Generating",variant:"default",icon:Xe},completed:{label:"Completed",variant:"default",icon:bt},failed:{label:"Failed",variant:"destructive",icon:Bn},expired:{label:"Expired",variant:"outline",icon:lr}};function C3e(){const{auditPacks:e,isLoading:t,getDownloadUrl:r,isDownloading:n}=qH(),[a,i]=y.useState(null),o=async(l,c)=>{i(l);try{const u=await r(c);window.open(u,"_blank")}finally{i(null)}};return t?s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{children:"Export History"}),s.jsx(Fe,{children:"Previously generated audit packs"})]}),s.jsx(X,{children:s.jsx("div",{className:"space-y-3",children:[1,2,3].map(l=>s.jsx(It,{className:"h-16 w-full"},l))})})]}):e.length===0?s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{children:"Export History"}),s.jsx(Fe,{children:"Previously generated audit packs"})]}),s.jsx(X,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xf,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),s.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No audit packs yet"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Generate your first audit pack using the builder tab"})]})})]}):s.jsxs(G,{children:[s.jsxs(he,{children:[s.jsx(pe,{children:"Export History"}),s.jsxs(Fe,{children:[e.length," audit pack",e.length!==1?"s":""," generated"]})]}),s.jsx(X,{children:s.jsxs(mr,{children:[s.jsx(pr,{children:s.jsxs(Ve,{children:[s.jsx(ie,{children:"Pack Type"}),s.jsx(ie,{children:"Scope"}),s.jsx(ie,{children:"Generated By"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Created"}),s.jsx(ie,{children:"Expires"}),s.jsx(ie,{className:"w-[80px]"})]})}),s.jsx(gr,{children:e.map(l=>{const c=S3e[l.status],u=c.icon,d=l.status==="generating"||l.status==="pending";return s.jsxs(Ve,{children:[s.jsxs(te,{children:[s.jsx("div",{className:"font-medium",children:Hy[l.pack_type]}),l.include_restricted_content&&s.jsx(de,{variant:"destructive",className:"text-xs mt-1",children:"Includes Restricted"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-sm",children:l.employee_id?"Single Employee":"Organisation-wide"}),l.date_range_start&&l.date_range_end&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[le(new Date(l.date_range_start),"MMM d, yyyy")," - "," ",le(new Date(l.date_range_end),"MMM d, yyyy")]})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-sm",children:l.generated_by_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:l.generated_by_email})]}),s.jsxs(te,{children:[s.jsxs(de,{variant:c.variant,className:"flex items-center gap-1 w-fit",children:[s.jsx(u,{className:`h-3 w-3 ${d?"animate-spin":""}`}),c.label]}),l.status==="failed"&&l.error_message&&s.jsx("div",{className:"text-xs text-destructive mt-1 max-w-[200px] truncate",children:l.error_message})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-sm",children:le(new Date(l.created_at),"MMM d, yyyy")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:le(new Date(l.created_at),"HH:mm")})]}),s.jsx(te,{children:l.expires_at?s.jsx("div",{className:"text-sm text-muted-foreground",children:LU(new Date(l.expires_at),{addSuffix:!0})}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(te,{children:l.status==="completed"&&l.file_urls.length>0?s.jsxs(Cs,{children:[s.jsx(ks,{asChild:!0,children:s.jsx(I,{variant:"ghost",size:"icon",children:a===l.id?s.jsx(Xe,{className:"h-4 w-4 animate-spin"}):s.jsx(ii,{className:"h-4 w-4"})})}),s.jsx(ss,{align:"end",children:l.file_urls.map((f,h)=>{const m=f.split("/").pop()||`File ${h+1}`;return s.jsxs(nt,{onClick:()=>o(l.id,f),children:[s.jsx(Ps,{className:"mr-2 h-4 w-4"}),m]},f)})})]}):s.jsx("span",{className:"text-muted-foreground",children:""})})]},l.id)})})]})})]})}function k3e(){const[e,t]=y.useState("builder");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Audit & Exports"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Generate regulator-ready audit packs for compliance verification"})]}),s.jsxs(jn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(mn,{children:[s.jsxs(Be,{value:"builder",className:"flex items-center gap-2",children:[s.jsx(xf,{className:"h-4 w-4"}),"Audit Pack Builder"]}),s.jsxs(Be,{value:"history",className:"flex items-center gap-2",children:[s.jsx(Qa,{className:"h-4 w-4"}),"Export History"]})]}),s.jsx(et,{value:"builder",children:s.jsx(N3e,{})}),s.jsx(et,{value:"history",children:s.jsx(C3e,{})})]})]})}const E3e=new rZ,xr=({children:e})=>s.jsx(vie,{children:s.jsx(BU,{children:e})}),P3e=()=>s.jsx(oZ,{client:E3e,children:s.jsxs(UQ,{children:[s.jsx(jY,{}),s.jsx(eX,{}),s.jsx(mJ,{basename:"/teamstride-care",children:s.jsxs(oJ,{children:[s.jsx(Et,{path:"/",element:s.jsx(Die,{})}),s.jsx(Et,{path:"/auth",element:s.jsx(Ioe,{})}),s.jsx(Et,{path:"/employees",element:s.jsx(xr,{children:s.jsx(ede,{})})}),s.jsx(Et,{path:"/employees/deactivated",element:s.jsx(xr,{children:s.jsx(gde,{})})}),s.jsx(Et,{path:"/compliance",element:s.jsx(xr,{children:s.jsx(jde,{})})}),s.jsx(Et,{path:"/leave",element:s.jsx(xr,{children:s.jsx(Tde,{})})}),s.jsx(Et,{path:"/timesheets",element:s.jsx(xr,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Timesheets"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Coming soon..."})]})})}),s.jsx(Et,{path:"/recruitment",element:s.jsx(xr,{children:s.jsx(dfe,{})})}),s.jsx(Et,{path:"/documents",element:s.jsx(xr,{children:s.jsx($fe,{})})}),s.jsx(Et,{path:"/contracts",element:s.jsx(xr,{children:s.jsx(Sfe,{})})}),s.jsx(Et,{path:"/performance",element:s.jsx(xr,{children:s.jsx(WLe,{})})}),s.jsx(Et,{path:"/payroll",element:s.jsx(xr,{children:s.jsx(Wfe,{})})}),s.jsx(Et,{path:"/payroll-export",element:s.jsx(xr,{children:s.jsx(lhe,{})})}),s.jsx(Et,{path:"/reports",element:s.jsx(xr,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reports"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Coming soon..."})]})})}),s.jsx(Et,{path:"/hr-cases",element:s.jsx(xr,{children:s.jsx(xFe,{})})}),s.jsx(Et,{path:"/audit-exports",element:s.jsx(xr,{children:s.jsx(k3e,{})})}),s.jsx(Et,{path:"/settings",element:s.jsx(xr,{children:s.jsx(XLe,{})})}),s.jsx(Et,{path:"/help",element:s.jsx(xr,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Help Center"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Coming soon..."})]})})}),s.jsx(Et,{path:"/portal",element:s.jsx(xr,{children:s.jsx(jFe,{})})}),s.jsx(Et,{path:"/portal/documents",element:s.jsx(xr,{children:s.jsx(NFe,{})})}),s.jsx(Et,{path:"/portal/training",element:s.jsx(xr,{children:s.jsx(CFe,{})})}),s.jsx(Et,{path:"/portal/profile",element:s.jsx(xr,{children:s.jsx(kFe,{})})}),s.jsx(Et,{path:"/portal/reviews",element:s.jsx(xr,{children:s.jsx(DFe,{})})}),s.jsx(Et,{path:"/portal/goals",element:s.jsx(xr,{children:s.jsx(n3e,{})})}),s.jsx(Et,{path:"/lms",element:s.jsx(xr,{children:s.jsx(s3e,{})})}),s.jsx(Et,{path:"/lms/course/:courseId",element:s.jsx(xr,{children:s.jsx(o3e,{})})}),s.jsx(Et,{path:"/lms/assignments",element:s.jsx(xr,{children:s.jsx(u3e,{})})}),s.jsx(Et,{path:"/platform/login",element:s.jsx(d3e,{})}),s.jsx(Et,{path:"/platform/orgs",element:s.jsx(h3e,{})}),s.jsx(Et,{path:"/platform/orgs/:id",element:s.jsx(g3e,{})}),s.jsx(Et,{path:"/platform/plans",element:s.jsx(y3e,{})}),s.jsx(Et,{path:"/platform/users",element:s.jsx(x3e,{})}),s.jsx(Et,{path:"/platform/audit",element:s.jsx(b3e,{})}),s.jsx(Et,{path:"/platform/settings",element:s.jsx(w3e,{})}),s.jsx(Et,{path:"*",element:s.jsx(QLe,{})})]})})]})});HL(document.getElementById("root")).render(s.jsx(P3e,{}));
